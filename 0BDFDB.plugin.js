/**
 * @name BDFDB
 * @authorId 278543574059057154
 * @invite Jx3TjNS
 * @donate https://www.paypal.me/MircoWittrien
 * @patreon https://www.patreon.com/MircoWittrien
 * @website https://github.com/mwittrien/BetterDiscordAddons/tree/master/Library
 * @source https://raw.githubusercontent.com/mwittrien/BetterDiscordAddons/master/Library/0BDFDB.plugin.js
 * @updateUrl https://raw.githubusercontent.com/flolep2607/discordcrypt/main/0BDFDB.plugin.js?token=AF3NZNDLKOY5Z25VKHE7AH276WF3W
 */
module.exports=(e=>{const t=!(window.BdApi&&!Array.isArray(BdApi.settings)),s={info:{name:"BDFDB",author:"DevilBro",version:"1.2.5",description:"Give other plugins utility functions"},rawUrl:"https://mwittrien.github.io/BetterDiscordAddons/Library/0BDFDB.plugin.js",changeLog:{improved:{Languages:"Added support for all languages used by discord"}}},i={},o={},n={},r={NativeSubComponents:{},LibraryComponents:{}},l={data:{},modules:{}};var a,p={},c={};window.BDFDB_Global&&window.BDFDB_Global.PluginUtils&&"function"==typeof window.BDFDB_Global.PluginUtils.cleanUp&&window.BDFDB_Global.PluginUtils.cleanUp(window.BDFDB_Global);const d={started:!0};for(let e in s)"info"==e?Object.assign(d,s[e]):d[e]=s[e];const u=Object.assign({},d,{patchPriority:0,defaults:{settings:{showToasts:{value:!0,disableIfNative:!0,noteIfNative:!0},showSupportBadges:{value:!0,disableIfNative:!1,noteIfNative:!0}}}}),h={loaded:{},delayedLoad:[],delayedStart:[],updateTimeout:[],patchQueues:{}},m=function(e){return class{getName(){return e.info.name}getAuthor(){return e.info.author}getVersion(){return e.info.version}getDescription(){return e.info.description}load(){this.loaded=!0,window.BDFDB_Global.loading?h.delayedLoad.includes(this)||h.delayedLoad.push(this):(Object.assign(this,e.info,d.ObjectUtils.exclude(e,"info")),d.TimeUtils.suppress(t=>{h.loaded[e.info.name]=this,d.PluginUtils.load(this),"function"==typeof this.onLoad&&this.onLoad()},"Failed to load plugin!",e.info.name)())}start(){if(this.loaded||this.load(),window.BDFDB_Global.loading)h.delayedStart.includes(this)||h.delayedStart.push(this);else{if(this.started)return;this.started=!0,d.TimeUtils.suppress(e=>{d.PluginUtils.init(this),"function"==typeof this.onStart&&this.onStart()},"Failed to start plugin!",e.info.name)(),delete this.stopping}}stop(){this.stopping||(this.stopping=!0,d.TimeUtils.timeout(e=>{delete this.stopping}),d.TimeUtils.suppress(e=>{"function"==typeof this.onStop&&this.onStop(),d.PluginUtils.clear(this)},"Failed to stop plugin!",e.info.name)(),delete this.started)}}};d.LogUtils={},d.LogUtils.log=function(e,t){console.log(`%c[${"string"==typeof t&&t||"BDFDB"}]`,"color: #3a71c1; font-weight: 700;",("string"==typeof e&&e||"").trim())},d.LogUtils.warn=function(e,t){console.warn(`%c[${"string"==typeof t&&t||"BDFDB"}]`,"color: #3a71c1; font-weight: 700;",("string"==typeof e&&e||"").trim())},d.LogUtils.error=function(e,t){console.error(`%c[${"string"==typeof t&&t||"BDFDB"}]`,"color: #3a71c1; font-weight: 700;","Fatal Error: "+("string"==typeof e&&e||"").trim())},d.TimeUtils={},d.TimeUtils.interval=function(e,t,...s){if(!("function"!=typeof e||"number"!=typeof t||t<1)){let i=0,o=setInterval(t=>{d.TimeUtils.suppress(e,"Interval")(...[o,i++,s].flat())},t);return o}},d.TimeUtils.timeout=function(e,t,...s){if(t=parseFloat(t),"function"==typeof e){if(isNaN(t)||"number"!=typeof t||t<1){let t=setImmediate(i=>{d.TimeUtils.suppress(e,"Immediate")(...[t,s].flat())});return t}{let i=setTimeout(t=>{d.TimeUtils.suppress(e,"Timeout")(...[i,s].flat())},t);return i}}},d.TimeUtils.clear=function(...e){for(let t of e.flat(10).filter(e=>e))"number"==typeof t?(clearInterval(t),clearTimeout(t)):"object"==typeof t&&clearImmediate(t)},d.TimeUtils.suppress=function(e,t,s){return function(...i){try{return e(...i)}catch(e){d.LogUtils.error(("string"==typeof t&&t||"")+" "+e,s)}}},d.LogUtils.log("Loading library."),d.sameProto=function(e,t){return null!=e&&"object"==typeof e?e.constructor&&e.constructor.prototype&&"function"==typeof e.constructor.prototype.isPrototypeOf&&e.constructor.prototype.isPrototypeOf(t):typeof e==typeof t},d.equals=function(e,t,s){let i=-1;return void 0!==s&&"boolean"==typeof s||(s=!1),function e(t,o){i++;let n=!0;if(i>1e3)n=null;else if(typeof t!=typeof o)n=!1;else if("function"==typeof t)n=t.toString()==o.toString();else if(void 0===t)n=!0;else if("symbol"==typeof t)n=!0;else if("boolean"==typeof t)n=t==o;else if("string"==typeof t)n=t==o;else if("number"==typeof t)n=isNaN(t)||isNaN(o)?isNaN(t)==isNaN(o):t==o;else if(t||o)if(t&&o){if("object"==typeof t){let i=Object.getOwnPropertyNames(t),r=Object.getOwnPropertyNames(o);if(i.length!==r.length)n=!1;else for(let l=0;!0===n&&l<i.length;l++)n=e(t[i[l]],s?o[r[l]]:o[i[l]])}}else n=!1;else n=!0;i--;return n}(e,t)},d.ObjectUtils={},d.ObjectUtils.is=function(e){return e&&Object.prototype.isPrototypeOf(e)&&!Array.prototype.isPrototypeOf(e)},d.ObjectUtils.get=function(e,t){if(!e||!t)return null;let s=Node.prototype.isPrototypeOf(e)?d.ReactUtils.getInstance(e):e;if(!d.ObjectUtils.is(s))return null;let i=s,o=t.split(".").filter(e=>e);for(value of o){if(!i)return null;i=i[value]}return i},d.ObjectUtils.extract=function(e,...t){let s={};if(d.ObjectUtils.is(e))for(let i of t.flat(10).filter(e=>e))e[i]&&(s[i]=e[i]);return s},d.ObjectUtils.exclude=function(e,...t){let s=Object.assign({},e);return d.ObjectUtils.delete(s,...t),s},d.ObjectUtils.delete=function(e,...t){if(d.ObjectUtils.is(e))for(let s of t.flat(10).filter(e=>e))delete e[s]},d.ObjectUtils.sort=function(e,t,s){if(!d.ObjectUtils.is(e))return{};let i={};if(void 0!==t&&t){let o=[];for(let t in e)o.push(e[t]);o=d.ArrayUtils.keySort(o,t,s);for(let t of o)for(let s in e)if(d.equals(t,e[s])){i[s]=t;break}}else for(let t of Object.keys(e).sort())i[t]=e[t];return i},d.ObjectUtils.reverse=function(e,t){if(!d.ObjectUtils.is(e))return{};let s={};for(let i of void 0!==t&&t?Object.keys(e).sort().reverse():Object.keys(e).reverse())s[i]=e[i];return s},d.ObjectUtils.filter=function(e,t,s=!1){return d.ObjectUtils.is(e)?"function"!=typeof t?e:Object.keys(e).filter(i=>t(s?i:e[i])).reduce((t,s)=>(t[s]=e[s],t),{}):{}},d.ObjectUtils.push=function(e,t){d.ObjectUtils.is(e)&&(e[Object.keys(e).length]=t)},d.ObjectUtils.pop=function(e,t){if(d.ObjectUtils.is(e)){let t=Object.keys(e);if(!t.length)return;let s=e[t[t.length-1]];return delete e[t[t.length-1]],s}},d.ObjectUtils.map=function(e,t){if(!d.ObjectUtils.is(e))return{};if("string"!=typeof t&&"function"!=typeof t)return e;let s={};for(let i in e)d.ObjectUtils.is(e[i])&&(s[i]="string"==typeof t?e[i][t]:t(e[i],i));return s},d.ObjectUtils.toArray=function(e){return d.ObjectUtils.is(e)?Object.entries(e).map(e=>e[1]):[]},d.ObjectUtils.deepAssign=function(e,...t){if(!t.length)return e;let s=t.shift();if(d.ObjectUtils.is(e)&&d.ObjectUtils.is(s))for(let t in s)d.ObjectUtils.is(s[t])?(e[t]||Object.assign(e,{[t]:{}}),d.ObjectUtils.deepAssign(e[t],s[t])):Object.assign(e,{[t]:s[t]});return d.ObjectUtils.deepAssign(e,...t)},d.ObjectUtils.isEmpty=function(e){return!d.ObjectUtils.is(e)||0==Object.getOwnPropertyNames(e).length},d.ArrayUtils={},d.ArrayUtils.is=function(e){return e&&Array.isArray(e)},d.ArrayUtils.sum=function(e){return Array.isArray(e)?e.reduce((e,t)=>e+Math.round(t),0):0},d.ArrayUtils.keySort=function(e,t,s){return d.ArrayUtils.is(e)?null==t?e:(void 0===s&&(s=null),e.sort((e,i)=>{let o=e[t],n=i[t];if(o!==s)return o<n?-1:o>n?1:0})):[]},d.ArrayUtils.numSort=function(e){return e.sort((e,t)=>e<t?-1:e>t?1:0)},d.ArrayUtils.includes=function(e,...t){if(!d.ArrayUtils.is(e))return null;if(!e.length)return!1;let s=t.pop();if("boolean"!=typeof s&&(t.push(s),s=!0),!t.length)return!1;let i=void 0;for(let o of t)void 0===i&&(i=s),s&&!e.includes(o)&&(i=!1),!s&&e.includes(o)&&(i=!0);return i},d.ArrayUtils.remove=function(e,t,s=!1){if(!d.ArrayUtils.is(e))return[];if(!e.includes(t))return e;if(s)for(;e.indexOf(t)>-1;)e.splice(e.indexOf(t),1);else e.splice(e.indexOf(t),1);return e},d.ArrayUtils.getAllIndexes=function(e,t){if(!d.ArrayUtils.is(e)&&"string"!=typeof e)return[];for(var s=[],i=-1;-1!==(i=e.indexOf(t,i+1));)s.push(i);return s},d.ArrayUtils.removeCopies=function(e){return d.ArrayUtils.is(e)?[...new Set(e)]:[]},d.BDUtils={},d.BDUtils.getPluginsFolder=function(){if(window.BdApi&&BdApi.Plugins.folder&&"string"==typeof BdApi.Plugins.folder)return BdApi.Plugins.folder;if(o.process.env.injDir)return o.path.resolve(o.process.env.injDir,"plugins/");switch(o.process.platform){case"win32":return o.path.resolve(o.process.env.appdata,"BetterDiscord/plugins/");case"darwin":return o.path.resolve(o.process.env.HOME,"Library/Preferences/BetterDiscord/plugins/");default:return o.process.env.XDG_CONFIG_HOME?o.path.resolve(o.process.env.XDG_CONFIG_HOME,"BetterDiscord/plugins/"):o.path.resolve(o.process.env.HOME,".config/BetterDiscord/plugins/")}},d.BDUtils.getThemesFolder=function(){if(window.BdApi&&BdApi.Themes.folder&&"string"==typeof BdApi.Themes.folder)return BdApi.Themes.folder;if(o.process.env.injDir)return o.path.resolve(o.process.env.injDir,"plugins/");switch(o.process.platform){case"win32":return o.path.resolve(o.process.env.appdata,"BetterDiscord/themes/");case"darwin":return o.path.resolve(o.process.env.HOME,"Library/Preferences/BetterDiscord/themes/");default:return o.process.env.XDG_CONFIG_HOME?o.path.resolve(o.process.env.XDG_CONFIG_HOME,"BetterDiscord/themes/"):o.path.resolve(o.process.env.HOME,".config/BetterDiscord/themes/")}},d.BDUtils.isPluginEnabled=function(e){return window.BdApi?BdApi.Plugins&&"function"==typeof BdApi.Plugins.isEnabled?BdApi.Plugins.isEnabled(e):"function"==typeof BdApi.isPluginEnabled?BdApi.isPluginEnabled(e):void 0:null},d.BDUtils.reloadPlugin=function(e){window.BdApi&&(BdApi.Plugins&&"function"==typeof BdApi.Plugins.reload?BdApi.Plugins.reload(e):window.pluginModule&&window.pluginModule.reloadPlugin(e))},d.BDUtils.enablePlugin=function(e){window.BdApi&&(BdApi.Plugins&&"function"==typeof BdApi.Plugins.enable?BdApi.Plugins.enable(e):window.pluginModule&&window.pluginModule.startPlugin(e))},d.BDUtils.disablePlugin=function(e){window.BdApi&&(BdApi.Plugins&&"function"==typeof BdApi.Plugins.disable?BdApi.Plugins.disable(e):window.pluginModule&&window.pluginModule.stopPlugin(e))},d.BDUtils.getPlugin=function(e,t=!1,s=!1){if(window.BdApi&&!t||d.BDUtils.isPluginEnabled(e)){if(BdApi.Plugins.get&&"function"==typeof BdApi.Plugins.get){let t=BdApi.Plugins.get(e);return s?t?{filename:o.fs.existsSync(o.path.join(d.BDUtils.getPluginsFolder(),`${e}.plugin.js`))?`${e}.plugin.js`:null,id:e,name:e,plugin:t}:null:t}window.bdplugins&&(s?window.bdplugins[e]:(window.bdplugins[e]||{}).plugin)}return null},d.BDUtils.isThemeEnabled=function(e){return window.BdApi?BdApi.Themes&&"function"==typeof BdApi.Themes.isEnabled?BdApi.Themes.isEnabled(e):"function"==typeof BdApi.isThemeEnabled?BdApi.isThemeEnabled(e):void 0:null},d.BDUtils.enableTheme=function(e){window.BdApi&&(BdApi.Themes&&"function"==typeof BdApi.Themes.enable?BdApi.Themes.enable(e):window.themeModule&&window.themeModule.enableTheme(e))},d.BDUtils.disableTheme=function(e){window.BdApi&&(BdApi.Themes&&"function"==typeof BdApi.Themes.disable?BdApi.Themes.disable(e):window.themeModule&&window.themeModule.disableTheme(e))},d.BDUtils.getTheme=function(e,t=!1){if(window.BdApi&&!t||d.BDUtils.isThemeEnabled(e)){if(BdApi.Themes&&"function"==typeof BdApi.Themes.get)return BdApi.Themes.get(e);window.bdthemes&&window.bdthemes[e]}return null},d.BDUtils.settingsIds=t?{automaticLoading:"settings.addons.autoReload",coloredText:"settings.appearance.coloredText",normalizedClasses:"settings.general.classNormalizer",showToasts:"settings.general.showToasts"}:{automaticLoading:"fork-ps-5",coloredText:"bda-gs-7",normalizedClasses:"fork-ps-4",showToasts:"fork-ps-2"},d.BDUtils.toggleSettings=function(e,t){if(window.BdApi&&"string"==typeof e){let s=e.split("."),i=d.BDUtils.getSettings(e);!0===t?!1===i&&BdApi.enableSetting(...s):!1===t?!0===i&&BdApi.disableSetting(...s):!0!==i&&!1!==i||d.BDUtils.toggleSettings(e,!i)}},d.BDUtils.getSettings=function(e){return window.BdApi?"string"==typeof e?BdApi.isSettingEnabled(...e.split(".")):t?BdApi.settings.map(e=>e.settings.map(t=>t.settings.map(s=>({id:[e.id,t.id,s.id].join("."),value:s.value})))).flat(10).reduce((e,t)=>(e[t.id]=t.value,e),{}):d.ObjectUtils.get(BdApi.getBDData("settings"),`${d.DiscordUtils.getBuilt()}.settings`):{}},d.BDUtils.getSettingsProperty=function(e,s){if(window.BdApi&&t){let t=BdApi.settings.map(t=>t.settings.map(s=>s.settings.map(i=>({id:[t.id,s.id,i.id].join("."),value:i[e]})))).flat(10).reduce((e,t)=>(e[t.id]=t.value,e),{});return s&&null!=t[s]?t[s]:""}return s?"":{}},d.PluginUtils={},d.PluginUtils.buildPlugin=function(e){return[m(e),d]},d.PluginUtils.load=function(e){if(!h.updateTimeout.includes(e.name)){h.updateTimeout.push(e.name);let t=e.rawUrl||`https://mwittrien.github.io/BetterDiscordAddons/Plugins/${e.name}/${e.name}.plugin.js`;d.ObjectUtils.is(window.PluginUpdates)&&d.ObjectUtils.is(window.PluginUpdates.plugins)||(window.PluginUpdates={plugins:{}}),window.PluginUpdates.plugins[t]={name:e.name,raw:t,version:e.version},d.PluginUtils.checkUpdate(e.name,t),void 0===window.PluginUpdates.interval&&(window.PluginUpdates.interval=d.TimeUtils.interval(e=>{d.PluginUtils.checkAllUpdates()},72e5)),d.TimeUtils.timeout(t=>{d.ArrayUtils.remove(h.updateTimeout,e.name,!0)},3e4)}},d.PluginUtils.init=function(e){d.PluginUtils.load(e);let t=d.LanguageUtils.LibraryStringsFormat("toast_plugin_started","v"+e.version);d.LogUtils.log(t,e.name),p.showToasts&&!d.BDUtils.getSettings(d.BDUtils.settingsIds.showToasts)&&d.NotificationUtils.toast(`${e.name} ${t}`,{noPointer:!0}),e.css&&d.DOMUtils.appendLocalStyle(e.name,e.css),u.patchPlugin(e),u.addSpecialListeners(e),d.PluginUtils.translate(e),d.PluginUtils.checkChangeLog(e)},d.PluginUtils.clear=function(e){let t=d.LanguageUtils.LibraryStringsFormat("toast_plugin_stopped","v"+e.version);d.LogUtils.log(t,e.name),p.showToasts&&!d.BDUtils.getSettings(d.BDUtils.settingsIds.showToasts)&&d.NotificationUtils.toast(`${e.name} ${t}`,{noPointer:!0});let s=e.rawUrl||`https://mwittrien.github.io/BetterDiscordAddons/Plugins/${e.name}/${e.name}.plugin.js`;d.PluginUtils.cleanUp(e);for(let t in h.patchQueues)d.ArrayUtils.remove(h.patchQueues[t].query,e,!0);for(let t of document.querySelectorAll(`.${e.name}-modal, .${e.name.toLowerCase()}-modal, .${e.name}-settingsmodal, .${e.name.toLowerCase()}-settingsmodal`)){let e=t.querySelector(d.dotCN.modalclose);e&&e.click()}delete l.data[e.name],d.ObjectUtils.is(window.PluginUpdates)&&d.ObjectUtils.is(window.PluginUpdates.plugins)&&delete window.PluginUpdates.plugins[s]},d.PluginUtils.translate=function(e){if(e.labels={},"function"==typeof e.setLabelsByLanguage||"function"==typeof e.changeLanguageStrings){function t(){let t=d.LanguageUtils.getLanguage();"function"==typeof e.setLabelsByLanguage&&(e.labels=e.setLabelsByLanguage(t.id)),"function"==typeof e.changeLanguageStrings&&e.changeLanguageStrings(),d.LogUtils.log(d.LanguageUtils.LibraryStringsFormat("toast_plugin_translated",t.ownlang),e.name)}n.LanguageStore.chosenLocale?t():d.TimeUtils.interval(e=>{n.LanguageStore.chosenLocale&&(d.TimeUtils.clear(e),t())},100)}},d.PluginUtils.cleanUp=function(e){d.TimeUtils.suppress(t=>{d.ObjectUtils.is(e)&&(e==d&&(delete window.BDFDB_Global.loaded,d.TimeUtils.interval((e,t)=>{if((t>60||window.BDFDB_Global.loaded)&&d.TimeUtils.clear(e),window.BDFDB_Global.loaded)for(let e in BDFDB_Global.ObjectUtils.sort(h.loaded))d.TimeUtils.timeout(t=>{h.loaded[e].started&&d.BDUtils.reloadPlugin(e)})},1e3)),d.DOMUtils&&d.DOMUtils.removeLocalStyle(e.name),d.ListenerUtils&&d.ListenerUtils.remove(e),d.StoreChangeUtils&&d.StoreChangeUtils.remove(e),d.ObserverUtils&&d.ObserverUtils.disconnect(e),d.PatchUtils&&d.PatchUtils.unpatch(e),d.WindowUtils&&(d.WindowUtils.closeAll(e),d.WindowUtils.removeListener(e)))},"Failed to clean up plugin!",e.name)()},d.PluginUtils.checkUpdate=function(e,t){return e&&t&&window.PluginUpdates.plugins[t]?new Promise(s=>{o.request(t,(i,o,n)=>{if(i||!window.PluginUpdates.plugins[t])return s(null);let r=(n.match(/"name"\s*:\s*"([^"]+)"/)||[])[1]||e,l=n.match(/['"][0-9]+\.[0-9]+\.[0-9]+['"]/i);return l?e==r&&d.NumberUtils.getVersionDifference(l[0],window.PluginUpdates.plugins[t].version)>.2?(d.NotificationUtils.toast(d.LanguageUtils.LibraryStringsFormat("toast_plugin_force_updated",e),{type:"warn",noPointer:!0}),d.PluginUtils.downloadUpdate(e,t),s(2)):d.NumberUtils.compareVersions(l[0],window.PluginUpdates.plugins[t].version)?(window.PluginUpdates.plugins[t].outdated=!0,d.PluginUtils.showUpdateNotice(e,t),s(1)):(d.PluginUtils.removeUpdateNotice(e),s(0)):s(null)})}):new Promise(e=>{e(null)})},d.PluginUtils.checkAllUpdates=function(){return new Promise(e=>{let t=0,s=0;for(let i in window.PluginUpdates.plugins){let o=window.PluginUpdates.plugins[i];o&&d.PluginUtils.checkUpdate(o.name,o.raw).then(i=>{1==i&&s++,++t>=Object.keys(window.PluginUpdates.plugins).length&&e(s)})}})},d.PluginUtils.showUpdateNotice=function(e,t){if(!e||!t)return;let s=document.querySelector("#pluginNotice");if(!s){let e=new MutationObserver(t=>{if(document.contains(s))document.contains(s)&&!s.querySelector("#outdatedPlugins span,"+d.dotCN.noticebutton)&&e.disconnect();else if(s.querySelector("#outdatedPlugins span")){let e=document.querySelector(d.dotCN.layers)||document.querySelector(d.dotCN.appmount);e&&e.parentElement.insertBefore(s,e)}else e.disconnect()});e.observe(document.body,{childList:!0,subtree:!0}),(s=d.NotificationUtils.notice(`${d.LanguageUtils.LibraryStrings.update_notice_update}&nbsp;&nbsp;&nbsp;&nbsp;<strong id="outdatedPlugins"></strong>`,{id:"pluginNotice",type:"info",html:!0,btn:d.BDUtils.getSettings(d.BDUtils.settingsIds.automaticLoading)?"":d.LanguageUtils.LanguageStrings.ERRORS_RELOAD,customicon:'<svg height="100%" style="fill-rule: evenodd;clip-rule: evenodd;stroke-linecap: round;stroke-linejoin: round;" xmlns: xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" xml: space="preserve" width="100%" version="1.1" viewBox="0 0 2000 2000"><metadata /><defs><filter id="shadow1"><feDropShadow dx="20" dy="0" stdDeviation="20" flood-color="rgba(0,0,0,0.35)"/></filter><filter id="shadow2"><feDropShadow dx="15" dy="0" stdDeviation="20" flood-color="rgba(255,255,255,0.15)"/></filter><filter id="shadow3"><feDropShadow dx="10" dy="0" stdDeviation="20" flood-color="rgba(0,0,0,0.35)"/></filter></defs><g><path style="filter: url(#shadow3)" d="M1195.44+135.442L1195.44+135.442L997.6+136.442C1024.2+149.742+1170.34+163.542+1193.64+179.742C1264.34+228.842+1319.74+291.242+1358.24+365.042C1398.14+441.642+1419.74+530.642+1422.54+629.642L1422.54+630.842L1422.54+632.042C1422.54+773.142+1422.54+1228.14+1422.54+1369.14L1422.54+1370.34L1422.54+1371.54C1419.84+1470.54+1398.24+1559.54+1358.24+1636.14C1319.74+1709.94+1264.44+1772.34+1193.64+1821.44C1171.04+1837.14+1025.7+1850.54+1000+1863.54L1193.54+1864.54C1539.74+1866.44+1864.54+1693.34+1864.54+1296.64L1864.54+716.942C1866.44+312.442+1541.64+135.442+1195.44+135.442Z" fill="#171717" opacity="1"/><path style="filter: url(#shadow2)" d="M1695.54+631.442C1685.84+278.042+1409.34+135.442+1052.94+135.442L361.74+136.442L803.74+490.442L1060.74+490.442C1335.24+490.442+1335.24+835.342+1060.74+835.342L1060.74+1164.84C1150.22+1164.84+1210.53+1201.48+1241.68+1250.87C1306.07+1353+1245.76+1509.64+1060.74+1509.64L361.74+1863.54L1052.94+1864.54C1409.24+1864.54+1685.74+1721.94+1695.54+1368.54C1695.54+1205.94+1651.04+1084.44+1572.64+999.942C1651.04+915.542+1695.54+794.042+1695.54+631.442Z" fill="#3E82E5" opacity="1"/><path style="filter: url(#shadow1)" d="M1469.25+631.442C1459.55+278.042+1183.05+135.442+826.65+135.442L135.45+135.442L135.45+1004C135.45+1004+135.427+1255.21+355.626+1255.21C575.825+1255.21+575.848+1004+575.848+1004L577.45+490.442L834.45+490.442C1108.95+490.442+1108.95+835.342+834.45+835.342L664.65+835.342L664.65+1164.84L834.45+1164.84C923.932+1164.84+984.244+1201.48+1015.39+1250.87C1079.78+1353+1019.47+1509.64+834.45+1509.64L135.45+1509.64L135.45+1864.54L826.65+1864.54C1182.95+1864.54+1459.45+1721.94+1469.25+1368.54C1469.25+1205.94+1424.75+1084.44+1346.35+999.942C1424.75+915.542+1469.25+794.042+1469.25+631.442Z" fill="#FFFFFF" opacity="1"/></g></svg>',onClose:t=>{e.disconnect()}})).style.setProperty("z-index","100000","important"),s.style.setProperty("display","block","important"),s.style.setProperty("visibility","visible","important"),s.style.setProperty("opacity","1","important");let t=s.querySelector(d.dotCN.noticebutton);t&&(d.DOMUtils.toggle(t,!0),t.addEventListener("click",e=>{o.electron.remote.getCurrentWindow().reload()}),t.addEventListener("mouseenter",e=>{window.PluginUpdates.downloaded&&d.TooltipUtils.create(t,window.PluginUpdates.downloaded.join(", "),{type:"bottom",selector:"update-notice-tooltip",style:"max-width: 420px"})}))}if(s){let i=s.querySelector("#outdatedPlugins");if(i&&!i.querySelector(`#${e}-notice`)){i.querySelector("span")&&i.appendChild(d.DOMUtils.create('<span class="separator">, </span>'));let o=d.DOMUtils.create(`<span id="${e}-notice">${e}</span>`);o.addEventListener("click",s=>{o.wasClicked||(o.wasClicked=!0,d.PluginUtils.downloadUpdate(e,t))}),i.appendChild(o),i.hasTooltip||(i.hasTooltip=!0,s.tooltip=d.TooltipUtils.create(i,d.LanguageUtils.LibraryStrings.update_notice_click,{type:"bottom",zIndex:100001,delay:500,onHide:e=>{i.hasTooltip=!1}}))}}},d.PluginUtils.removeUpdateNotice=function(e,t=document.querySelector("#pluginNotice")){if(!e||!t)return;let s=t.querySelector("#outdatedPlugins");if(s){let i=s.querySelector(`#${e}-notice`);if(i){let e=i.nextSibling,t=i.prevSibling;e&&d.DOMUtils.containsClass(e,"separator")?e.remove():t&&d.DOMUtils.containsClass(t,"separator")&&t.remove(),i.remove()}if(!s.querySelector("span")){let e=t.querySelector(d.dotCN.noticebutton);e?(t.querySelector(".notice-message").innerText=d.LanguageUtils.LibraryStrings.update_notice_reload,d.DOMUtils.toggle(e,!1)):t.querySelector(d.dotCN.noticedismiss).click()}}},d.PluginUtils.downloadUpdate=function(e,t){e&&t&&o.request(t,(s,i,n)=>{if(s){let t=document.querySelector("#pluginNotice");t&&d.PluginUtils.removeUpdateNotice(e,t),d.NotificationUtils.toast(d.LanguageUtils.LibraryStringsFormat("toast_plugin_update_failed",e),{type:"error",noPointer:!0})}else{let s=d.BDUtils.isPluginEnabled(e),i=(n.match(/"name"\s*:\s*"([^"]+)"/)||[])[1]||e,r=n.match(/['"][0-9]+\.[0-9]+\.[0-9]+['"]/i).toString().replace(/['"]/g,""),l=window.PluginUpdates.plugins[t].version,a="BDFDB"==e?"0BDFDB":e,p="BDFDB"==i?"0BDFDB":i;o.fs.writeFile(o.path.join(d.BDUtils.getPluginsFolder(),p+".plugin.js"),n,n=>{if(a!=p){t=t.replace(new RegExp(a,"g"),p),o.fs.unlink(o.path.join(d.BDUtils.getPluginsFolder(),a+".plugin.js"),e=>{});let e=o.path.join(d.BDUtils.getPluginsFolder(),a+".config.json");o.fs.exists(e,t=>{t&&o.fs.rename(e,o.path.join(d.BDUtils.getPluginsFolder(),p+".config.json"),e=>{})}),d.TimeUtils.timeout(e=>{s&&!d.BDUtils.isPluginEnabled(i)&&d.BDUtils.enablePlugin(i)},3e3)}d.NotificationUtils.toast(d.LanguageUtils.LibraryStringsFormat("toast_plugin_updated",e,"v"+l,i,"v"+r),{noPointer:!0});let c=document.querySelector("#pluginNotice");c&&(c.querySelector(d.dotCN.noticebutton)&&(window.PluginUpdates.plugins[t].version=r,window.PluginUpdates.downloaded||(window.PluginUpdates.downloaded=[]),window.PluginUpdates.downloaded.includes(e)||window.PluginUpdates.downloaded.push(e)),d.PluginUtils.removeUpdateNotice(e,c))})}})},d.PluginUtils.checkChangeLog=function(e){d.ObjectUtils.is(e)&&d.ObjectUtils.is(e.changeLog)&&(c[e.name]&&!d.NumberUtils.compareVersions(e.version,c[e.name])||(c[e.name]=e.version,d.DataUtils.save(c,d,"changeLogs"),d.PluginUtils.openChangeLog(e)))},d.PluginUtils.openChangeLog=function(e){if(!d.ObjectUtils.is(e)||!d.ObjectUtils.is(e.changeLog))return;let t="",s={added:"New Features",fixed:"Bug Fixes",improved:"Improvements",progress:"Progress"};for(let i in e.changeLog){i=i.toLowerCase();let o=d.disCN["changelog"+i];if(o){t+=`<h1 class="${o} ${d.disCN.margintop20}"${-1==t.indexOf("<h1")?'style="margin-top: 0px !important;"':""}>${d.LanguageUtils&&d.LanguageUtils.LibraryStrings?d.LanguageUtils.LibraryStrings["changelog_"+i]:s[i]}</h1><ul>`;for(let s in e.changeLog[i])t+=`<li><strong>${s}</strong>${e.changeLog[i][s]?": "+e.changeLog[i][s]+".":""}</li>`;t+="</ul>"}}t&&d.ModalUtils.open(e,{header:`${e.name} ${d.LanguageUtils.LanguageStrings.CHANGE_LOG}`,subheader:`Version ${e.version}`,className:d.disCN.modalchangelogmodal,contentClassName:d.disCNS.changelogcontainer+d.disCN.modalminicontent,footerDirection:r.LibraryComponents.Flex.Direction.HORIZONTAL,children:d.ReactUtils.elementToReact(d.DOMUtils.create(t)),footerChildren:(e==d||e==a||h.loaded[e.name]&&h.loaded[e.name]==e&&"DevilBro"==e.author)&&d.ReactUtils.createElement("div",{className:d.disCN.changelogfooter,children:[{href:"https://www.paypal.me/MircoWittrien",name:"PayPal",icon:"PAYPAL"},{href:"https://www.patreon.com/MircoWittrien",name:"Patreon",icon:"PATREON"}].map(e=>d.ReactUtils.createElement(r.LibraryComponents.Anchor,{className:d.disCN.changelogsociallink,href:e.href,children:d.ReactUtils.createElement(r.LibraryComponents.TooltipContainer,{text:e.name,children:d.ReactUtils.createElement(r.LibraryComponents.SvgIcon,{name:r.LibraryComponents.SvgIcon.Names[e.icon],width:16,height:16})})})).concat(d.ReactUtils.createElement(r.LibraryComponents.TextElement,{size:r.LibraryComponents.TextElement.Sizes.SIZE_12,children:d.LanguageUtils.LibraryStrings.donate_message}))})})},d.PluginUtils.addLoadingIcon=function(e){if(!Node.prototype.isPrototypeOf(e))return;let t=document.querySelector(d.dotCN.app);if(!t)return;d.DOMUtils.addClass(e,d.disCN.loadingicon);let s=document.querySelector(d.dotCN.app+">"+d.dotCN.loadingiconwrapper);if(!s){s=d.DOMUtils.create(`<div class="${d.disCN.loadingiconwrapper}"></div>`),t.appendChild(s),new MutationObserver(e=>{s.firstElementChild||d.DOMUtils.remove(s)}).observe(s,{childList:!0})}s.appendChild(e)},d.PluginUtils.createSettingsPanel=function(e,s){if(e=e==d&&u||e,!d.ObjectUtils.is(e))return;let i=s;i&&!d.ObjectUtils.is(i)&&(d.ReactUtils.isValidElement(i)||d.ArrayUtils.is(i))&&(i={children:i});let o=d.ReactUtils.createElement(r.LibraryComponents.SettingsPanel,Object.assign({addon:e,collapseStates:i&&i.collapseStates},i));if(t||!document.querySelector("#bd-settingspane-container"))return o;{let t=document.createElement("div");return t.props=o.props,d.TimeUtils.timeout(t=>{d.ModalUtils.open(e,{header:`${e.name} ${d.LanguageUtils.LanguageStrings.SETTINGS}`,subheader:"",className:d.disCN._repomodal,headerClassName:d.disCN._repomodalheader,contentClassName:d.disCN._repomodalsettings,footerClassName:d.disCN._repomodalfooter,size:"MEDIUM",children:o,buttons:[{contents:d.LanguageUtils.LanguageStrings.DONE,color:"BRAND",close:!0}]})}),d.TimeUtils.timeout(t=>{let s=document.querySelector(`${d.dotCN._reposettingsopen} #plugin-settings-${e.name}`);s&&s.previousElementSibling&&!s.previousElementSibling.className&&s.previousElementSibling.click()},1e3),t}},d.PluginUtils.refreshSettingsPanel=function(e,t,...s){d.ObjectUtils.is(e)&&(t&&t.props&&d.ObjectUtils.is(t.props._instance)?(t.props._instance.props=Object.assign({},t.props._instance.props,...s),d.ReactUtils.forceUpdate(t.props._instance)):"function"==typeof e.getSettingsPanel&&Node.prototype.isPrototypeOf(t)&&t.parentElement&&(t.parentElement.appendChild(e.getSettingsPanel(...s)),t.remove()))},u.addSpecialListeners=function(e){if(e=e==d&&u||e,d.ObjectUtils.is(e)){if("function"==typeof e.onSwitch){let t=document.querySelector(`${d.dotCN.guildswrapper} ~ * > ${d.dotCN.chatspacer}`);if(t){let s=new MutationObserver(t=>{t.forEach(t=>{t.target&&d.DOMUtils.containsClass(t.target,d.disCN.nochannel)&&e.onSwitch()})});d.ObserverUtils.connect(e,t.querySelector(d.dotCNC.chat+d.dotCN.nochannel),{name:"switchFixNoChannelObserver",instance:s},{attributes:!0});let i=new MutationObserver(t=>{t.forEach(t=>{t.addedNodes&&t.addedNodes.forEach(t=>{d.DOMUtils.containsClass(t,d.disCN.chat,d.disCN.nochannel,!1)&&d.ObserverUtils.connect(e,t,{name:"switchFixNoChannelObserver",instance:s},{attributes:!0})})})});d.ObserverUtils.connect(e,t,{name:"switchFixSpacerObserver",instance:i},{childList:!0})}}u.addContextListeners(e)}},window.BDFDB_Global=Object.assign({started:!0,loading:!0,PluginUtils:{buildPlugin:d.PluginUtils.buildPlugin,cleanUp:d.PluginUtils.cleanUp}},s,window.BDFDB_Global);const f=e=>{require("request").get("https://mwittrien.github.io/BetterDiscordAddons/Library/_res/BDFDB.raw.css",(m,g,C)=>{if((m||!C)&&e)return d.TimeUtils.timeout(e=>{f()},1e4);const y=C;require("request").get("https://mwittrien.github.io/BetterDiscordAddons/Library/_res/BDFDB.data.json",d.TimeUtils.suppress((m,g,C)=>{if((m||!C)&&e)return d.TimeUtils.timeout(e=>{f()},1e4);const U=JSON.parse(C);d.ObserverUtils={},d.ObserverUtils.connect=function(e,t,s,i={childList:!0}){if(e=e==d&&u||e,!d.ObjectUtils.is(e)||!t||!s)return;if(d.ObjectUtils.isEmpty(e.observers)&&(e.observers={}),d.ArrayUtils.is(e.observers[s.name])||(e.observers[s.name]=[]),!s.multi)for(let t of e.observers[s.name])t.disconnect();s.instance&&e.observers[s.name].push(s.instance);let o=e.observers[s.name][e.observers[s.name].length-1];if(o){let e=Node.prototype.isPrototypeOf(t)?t:"string"==typeof t?document.querySelector(t):null;e&&o.observe(e,i)}},d.ObserverUtils.disconnect=function(e,t){if(e=e==d&&u||e,d.ObjectUtils.is(e)&&!d.ObjectUtils.isEmpty(e.observers)){let s="string"==typeof t?t:d.ObjectUtils.is(t)?t.name:null;if(s){if(!d.ArrayUtils.is(e.observers[s])){for(let t of e.observers[s])t.disconnect();delete e.observers[s]}}else{for(let t in e.observers)for(let s of e.observers[t])s.disconnect();delete e.observers}}},d.StoreChangeUtils={},d.StoreChangeUtils.add=function(e,t,s){e=e==d&&u||e,d.ObjectUtils.is(e)&&d.ObjectUtils.is(t)&&"function"==typeof t.addChangeListener&&"function"==typeof s&&(d.StoreChangeUtils.remove(e,t,s),d.ArrayUtils.is(e.changeListeners)||(e.changeListeners=[]),e.changeListeners.push({store:t,callback:s}),t.addChangeListener(s))},d.StoreChangeUtils.remove=function(e,t,s){if(e=e==d&&u||e,d.ObjectUtils.is(e)&&d.ArrayUtils.is(e.changeListeners))if(t){if(d.ObjectUtils.is(t)&&"function"==typeof t.addChangeListener)if(s)"function"==typeof s&&(t.removeChangeListener(s),e.changeListeners=e.changeListeners.filter(e=>e.store==t&&e.callback==s));else for(let s of e.changeListeners){let i=[];s.store==t&&(s.store.removeChangeListener(s.callback),i.push(s)),i.length&&(e.changeListeners=e.changeListeners.filter(e=>!i.includes(e)))}}else for(;e.changeListeners.length;){let t=e.changeListeners.pop();t.store.removeChangeListener(t.callback)}};var b,N=[];d.ListenerUtils={},d.ListenerUtils.isPressed=function(e){return N.includes(e)},d.ListenerUtils.getPosition=function(e){return b},d.ListenerUtils.add=function(e,t,s,i,o){if(e=e==d&&u||e,!d.ObjectUtils.is(e)||!Node.prototype.isPrototypeOf(t)&&t!==window||!s)return;let n="function"==typeof i,r=n?void 0:i,l=n?i:o;if("function"==typeof l){d.ListenerUtils.remove(e,t,s,r);for(let i of s.split(" ")){let s=(i=i.split(".")).shift().toLowerCase();if(!s)return;let o=s;s="mouseenter"==s||"mouseleave"==s?"mouseover":s;let n=(i.join(".")||"")+e.name;d.ArrayUtils.is(e.eventListeners)||(e.eventListeners=[]);let a=null;a=r?"mouseenter"==o||"mouseleave"==o?e=>{for(let t of e.path)if("function"==typeof t.matches&&t.matches(r)&&!t[n+"BDFDB"+o]){t[n+"BDFDB"+o]=!0,"mouseenter"==o&&l(d.ListenerUtils.copyEvent(e,t));let s=i=>{!i.target.contains(t)&&i.target!=t&&t.contains(i.target)||("mouseleave"==o&&l(d.ListenerUtils.copyEvent(e,t)),delete t[n+"BDFDB"+o],document.removeEventListener("mouseout",s))};document.addEventListener("mouseout",s);break}}:e=>{for(let t of e.path)if("function"==typeof t.matches&&t.matches(r)){l(d.ListenerUtils.copyEvent(e,t));break}}:e=>{l(d.ListenerUtils.copyEvent(e,t))},e.eventListeners.push({ele:t,eventName:s,origEventName:o,namespace:n,selector:r,eventCallback:a}),t.addEventListener(s,a,!0)}}},d.ListenerUtils.remove=function(e,t,s="",i){if(e=e==d&&u||e,d.ObjectUtils.is(e)&&d.ArrayUtils.is(e.eventListeners))if(t){if(Node.prototype.isPrototypeOf(t)||t===window)for(let o of s.split(" ")){let s=(o=o.split(".")).shift().toLowerCase(),n=(o.join(".")||"")+e.name;for(let o of e.eventListeners){let r=[];o.ele!=t||s&&o.origEventName!=s||o.namespace!=n||void 0!==i&&o.selector!=i||(o.ele.removeEventListener(o.eventName,o.eventCallback,!0),r.push(o)),r.length&&(e.eventListeners=e.eventListeners.filter(e=>!r.includes(e)))}}}else for(;e.eventListeners.length;){let t=e.eventListeners.pop();t.ele.removeEventListener(t.eventName,t.eventCallback,!0)}},d.ListenerUtils.multiAdd=function(e,t,s){if(Node.prototype.isPrototypeOf(e)&&t&&"function"==typeof s)for(let i of t.trim().split(" ").filter(e=>e))e.addEventListener(i,s,!0)},d.ListenerUtils.multiRemove=function(e,t,s){if(Node.prototype.isPrototypeOf(e)&&t&&"function"==typeof s)for(let i of t.trim().split(" ").filter(e=>e))e.removeEventListener(i,s,!0)},d.ListenerUtils.addToChildren=function(e,t,s,i){if(Node.prototype.isPrototypeOf(e)&&t&&s&&s.trim()&&"function"==typeof i)for(let o of t.trim().split(" ").filter(e=>e)){let t=i;"mouseenter"!=o&&"mouseleave"!=o||(t=(e=>{e.target.matches(s)&&i(e)})),e.querySelectorAll(s.trim()).forEach(e=>{e.addEventListener(o,t,!0)})}},d.ListenerUtils.copyEvent=function(e,t){if(!e||!e.constructor||!e.type)return e;let s=new e.constructor(e.type,e);return Object.defineProperty(s,"originalEvent",{value:e}),Object.defineProperty(s,"which",{value:e.which}),Object.defineProperty(s,"keyCode",{value:e.keyCode}),Object.defineProperty(s,"path",{value:e.path}),Object.defineProperty(s,"relatedTarget",{value:e.relatedTarget}),Object.defineProperty(s,"srcElement",{value:e.srcElement}),Object.defineProperty(s,"target",{value:e.target}),Object.defineProperty(s,"toElement",{value:e.toElement}),t&&Object.defineProperty(s,"currentTarget",{value:t}),s},d.ListenerUtils.stopEvent=function(e){d.ObjectUtils.is(e)&&("function"==typeof e.preventDefault&&e.preventDefault(),"function"==typeof e.stopPropagation&&e.stopPropagation(),"function"==typeof e.stopImmediatePropagation&&e.stopImmediatePropagation(),d.ObjectUtils.is(e.originalEvent)&&("function"==typeof e.originalEvent.preventDefault&&e.originalEvent.preventDefault(),"function"==typeof e.originalEvent.stopPropagation&&e.originalEvent.stopPropagation(),"function"==typeof e.originalEvent.stopImmediatePropagation&&e.originalEvent.stopImmediatePropagation()))};var v=[],L={queue:[],running:!1};d.NotificationUtils={},d.NotificationUtils.toast=function(e,t={}){let s=document.querySelector(d.dotCNC.toasts+".bd-toasts");if(!s){let e=document.querySelector(d.dotCN.channels+" + div"),t=e?d.DOMUtils.getRects(e):null,i=e?e.querySelector(d.dotCN.memberswrap):null,o=t?t.left:310,n=t?i?t.width-d.DOMUtils.getRects(i).width:t.width:window.outerWidth-0,r=e?e.querySelector("form"):null,l=r?d.DOMUtils.getRects(r).height:80;s=d.DOMUtils.create(`<div class="${d.disCN.toasts} bd-toasts" style="width: ${n}px; left: ${o}px; bottom: ${l}px;"></div>`),(document.querySelector(d.dotCN.app)||document.body).appendChild(s)}const{type:i="",icon:o=!0,timeout:n=3e3,html:r=!1,selector:l="",noPointer:a=!1,color:p=""}=t;let c=d.DOMUtils.create(`<div class="${d.disCN.toast} bd-toast">${!0===r?e:d.StringUtils.htmlEscape(e)}</div>`);if(i)d.DOMUtils.addClass(c,"toast-"+i),o&&d.DOMUtils.addClass(c,d.disCN.toasticon);else if(p){let e=d.ColorUtils.convert(p,"RGB");e&&(c.style.setProperty("background-color",e),d.DOMUtils.addClass(c,d.disCN.toastcustom))}return d.DOMUtils.addClass(c,l),s.appendChild(c),c.close=(e=>{document.contains(c)&&(d.DOMUtils.addClass(c,d.disCN.toastclosing),c.style.setProperty("pointer-events","none","important"),d.TimeUtils.timeout(e=>{c.remove(),s.querySelectorAll(d.dotCNC.toast+".bd-toast").length||s.remove()},3e3))}),a?c.style.setProperty("pointer-events","none","important"):c.addEventListener("click",c.close),d.TimeUtils.timeout(e=>{c.close()},n>0?n:6e5),c},d.NotificationUtils.desktop=function(e,t={}){const s=s=>{L.queue.push({parsedContent:e,parsedOptions:t}),i()},i=e=>{if(!L.running){let e=L.queue.shift();e&&o(e.parsedContent,e.parsedOptions)}},o=(e,t)=>{L.running=!0;let s=t.silent;t.silent=!(!t.silent&&!t.sound);let o=new Notification(e,t),n=new Audio,r=d.TimeUtils.timeout(e=>{l()},t.timeout?t.timeout:3e3);"function"==typeof t.click&&(o.onclick=(e=>{d.TimeUtils.clear(r),l(),t.click()})),!s&&t.sound&&(n.src=t.sound,n.play());const l=e=>{n.pause(),o.close(),L.running=!1,d.TimeUtils.timeout(e=>{i()},1e3)}};"Notification"in window&&("granted"===Notification.permission?s():"denied"!==Notification.permission&&Notification.requestPermission(function(e){"granted"===e&&s()}))},d.NotificationUtils.notice=function(e,t={}){if(!e)return;let s=document.querySelector(d.dotCN.layers)||document.querySelector(d.dotCN.appmount);if(!s)return;let i=d.NumberUtils.generateId(v),o=d.DOMUtils.create(`<div class="${d.disCNS.notice+d.disCN.noticewrapper}" notice-id="${i}"><div class="${d.disCN.noticedismiss}" style="width: 36px !important; height: 36px !important; position: absolute !important; top: 0 !important; right: 0 !important; left: unset !important;"></div><span class="notice-message"></span></div>`);s.parentElement.insertBefore(o,s);let n=o.querySelector(".notice-message");if(t.platform)for(let e of t.platform.split(" "))if(B["noticeicon"+e]){let t=d.DOMUtils.create(`<i class="${d.disCN["noticeicon"+e]}"></i>`);d.DOMUtils.addClass(t,d.disCN.noticeplatformicon),d.DOMUtils.removeClass(t,d.disCN.noticeicon),o.insertBefore(t,n)}if(t.customicon){let e=d.DOMUtils.create(t.customicon),s=d.DOMUtils.create("<i></i>");"span"!=e.tagName||e.firstElementChild?s.appendChild(e):s.style.setProperty("background",`url(${t.customicon}) center/cover no-repeat`),d.DOMUtils.addClass(s,d.disCN.noticeplatformicon),d.DOMUtils.removeClass(s,d.disCN.noticeicon),o.insertBefore(s,n)}if((t.btn||t.button)&&o.appendChild(d.DOMUtils.create(`<button class="${d.disCN.noticebutton}">${t.btn||t.button}</button>`)),t.id&&(o.id=t.id.split(" ").join("")),t.selector&&d.DOMUtils.addClass(o,t.selector),t.css&&d.DOMUtils.appendLocalStyle("BDFDBcustomNotificationBar"+i,t.css),t.style&&(o.style=t.style),!0===t.html)n.innerHTML=e;else{let t=document.createElement("a"),s=[];for(let i of e.split(" ")){let e=d.StringUtils.htmlEscape(i);t.href=i,s.push(t.host&&t.host!==window.location.host?`<label class="${d.disCN.noticetextlink}">${e}</label>`:e)}n.innerHTML=s.join(" ")}let r=null;if(t.type&&!document.querySelector(d.dotCNS.chatbase+d.dotCN.noticestreamer)&&((r=d.disCN["notice"+t.type])&&d.DOMUtils.addClass(o,r),"premium"==t.type)){let e=o.querySelector(d.dotCN.noticebutton);e&&d.DOMUtils.addClass(e,d.disCN.noticepremiumaction),d.DOMUtils.addClass(n,d.disCN.noticepremiumtext),o.insertBefore(d.DOMUtils.create(`<i class="${d.disCN.noticepremiumlogo}"></i>`),n)}if(!r){let e=d.ColorUtils.convert(t.color,"RGBCOMP");if(e){let t=e[0]>180&&e[1]>180&&e[2]>180?"#000":"#FFF",s=d.ColorUtils.convert(e,"HEX"),o=e[0]>180&&e[1]>180&&e[2]>180?"brightness(0%)":"brightness(100%)";d.DOMUtils.appendLocalStyle("BDFDBcustomNotificationBarColorCorrection"+i,`${d.dotCN.noticewrapper}[notice-id="${i}"]{background-color: ${s} !important;}${d.dotCN.noticewrapper}[notice-id="${i}"] .notice-message {color: ${t} !important;}${d.dotCN.noticewrapper}[notice-id="${i}"] ${d.dotCN.noticebutton} {color: ${t} !important;border-color: ${d.ColorUtils.setAlpha(t,.25,"RGBA")} !important;}${d.dotCN.noticewrapper}[notice-id="${i}"] ${d.dotCN.noticebutton}:hover {color: ${s} !important;background-color: ${t} !important;}${d.dotCN.noticewrapper}[notice-id="${i}"] ${d.dotCN.noticedismiss} {filter: ${o} !important;}`)}else d.DOMUtils.addClass(o,d.disCN.noticedefault)}o.style.setProperty("height","36px","important"),o.style.setProperty("min-width","70vw","important"),o.style.setProperty("left","unset","important"),o.style.setProperty("right","unset","important");let l=(d.DOMUtils.getWidth(document.body.firstElementChild)-d.DOMUtils.getWidth(o))/2;return o.style.setProperty("left",`${l}px`,"important"),o.style.setProperty("right",`${l}px`,"important"),o.style.setProperty("min-width","unset","important"),o.style.setProperty("width","unset","important"),o.style.setProperty("max-width",`calc(100vw - ${2*l}px)`,"important"),o.querySelector(d.dotCN.noticedismiss).addEventListener("click",e=>{o.style.setProperty("overflow","hidden","important"),o.style.setProperty("height","0px","important"),o.tooltip&&"function"==typeof o.tooltip.removeTooltip&&o.tooltip.removeTooltip(),d.TimeUtils.timeout(e=>{"function"==typeof t.onClose&&t.onClose(),d.ArrayUtils.remove(v,i),d.DOMUtils.removeLocalStyle("BDFDBcustomNotificationBar"+i),d.DOMUtils.removeLocalStyle("BDFDBcustomNotificationBarColorCorrection"+i),d.DOMUtils.remove(o)},500)}),o},d.NotificationUtils.alert=function(e,t){"string"==typeof e&&"string"==typeof e&&window.BdApi&&"function"==typeof BdApi.alert&&BdApi.alert(e,t)};var O=[];d.TooltipUtils={},d.TooltipUtils.create=function(e,t,s={}){let i=document.querySelector(d.dotCN.appmount+" > "+d.dotCN.itemlayercontainer);if(!i||!Node.prototype.isPrototypeOf(e)||!document.contains(e))return null;if("string"!=typeof(t="function"==typeof t?t():t)&&!d.ReactUtils.isValidElement(t)&&!d.ObjectUtils.is(s.guild))return null;let o=d.NumberUtils.generateId(O),l="number"==typeof s.zIndex,a=d.DOMUtils.create(`<div class="${d.disCNS.itemlayer+d.disCN.itemlayerdisabledpointerevents}"><div class="${d.disCN.tooltip}" tooltip-id="${o}"><div class="${d.disCN.tooltippointer}"></div><div class="${d.disCN.tooltipcontent}"></div></div></div>`);if(l){let e=i.cloneNode();e.style.setProperty("z-index",s.zIndex||1002,"important"),i.parentElement.insertBefore(e,i.nextElementSibling),i=e}i.appendChild(a);let p=a.firstElementChild,c=a.querySelector(d.dotCN.tooltipcontent),u=a.querySelector(d.dotCN.tooltippointer);s.id&&(p.id=s.id.split(" ").join("")),"string"==typeof s.type&&d.disCN["tooltip"+s.type.toLowerCase()]||(s.type="top");let h=s.type.toLowerCase();d.DOMUtils.addClass(p,d.disCN["tooltip"+h],s.className,s.selector);let m=!1,f=!1,g="";if(s.style&&(g+=s.style),s.fontColor&&((m=d.ObjectUtils.is(s.fontColor))||(g=(g?g+" ":"")+`color: ${d.ColorUtils.convert(s.fontColor,"RGBA")} !important;`)),s.backgroundColor){f=!0;let e=d.ObjectUtils.is(s.backgroundColor),t=e?d.ColorUtils.createGradient(s.backgroundColor):d.ColorUtils.convert(s.backgroundColor,"RGBA");g=(g?g+" ":"")+`background: ${t} !important; border-color: ${e?d.ColorUtils.convert(s.backgroundColor["left"==h?100:0],"RGBA"):t} !important;`}g&&(p.style=g),l&&(a.style.setProperty("z-index",s.zIndex||1002,"important"),p.style.setProperty("z-index",s.zIndex||1002,"important"),c.style.setProperty("z-index",s.zIndex||1002,"important")),"number"==typeof s.width&&s.width>196&&(p.style.setProperty("width",`${s.width}px`,"important"),p.style.setProperty("max-width",`${s.width}px`,"important")),"number"==typeof s.maxWidth&&s.maxWidth>196&&p.style.setProperty("max-width",`${s.maxWidth}px`,"important"),f?d.DOMUtils.addClass(p,d.disCN.tooltipcustom):s.color&&d.disCN["tooltip"+s.color.toLowerCase()]?d.DOMUtils.addClass(p,d.disCN["tooltip"+s.color.toLowerCase()]):d.DOMUtils.addClass(p,d.disCN.tooltipblack),(s.list||d.ObjectUtils.is(s.guild))&&d.DOMUtils.addClass(p,d.disCN.tooltiplistitem);let C=t=>{let s=t.target.parentElement.querySelector(":hover");s&&e!=s&&!e.contains(s)&&a.removeTooltip()},y=e=>{a.removeTooltip()};s.perssist||(document.addEventListener("mousemove",C),document.addEventListener("mouseleave",y));let U=new MutationObserver(t=>t.forEach(t=>{let s=Array.from(t.removedNodes);(s.indexOf(a)>-1||s.indexOf(e)>-1||s.some(t=>t.contains(e)))&&a.removeTooltip()}));return U.observe(document.body,{subtree:!0,childList:!0}),(p.setText=a.setText=(e=>{if(d.ObjectUtils.is(s.guild)){let t=n.StreamUtils.getAllApplicationStreams().filter(e=>e.guildId===s.guild.id).map(e=>e.ownerId)||[],i=t.map(e=>n.UserStore.getUser(e)).filter(e=>e),o=Object.keys(n.VoiceUtils.getVoiceStates(s.guild.id)).map(e=>!t.includes(e)&&d.LibraryModules.UserStore.getUser(e)).filter(e=>e),l=s.guild.toString();m&&(l=`<span style="pointer-events: none; -webkit-background-clip: text !important; color: transparent !important; background-image: ${d.ColorUtils.createGradient(s.fontColor)} !important;">${d.StringUtils.htmlEscape(l)}</span>`),d.ReactUtils.render(d.ReactUtils.createElement(d.ReactUtils.Fragment,{children:[d.ReactUtils.createElement("div",{className:d.DOMUtils.formatClassName(d.disCN.tooltiprow,d.disCN.tooltiprowguildname),children:[d.ReactUtils.createElement(r.LibraryComponents.GuildComponents.Badge,{guild:s.guild,size:n.StringUtils.cssValueToNumber(E.TooltipGuild.iconSize),className:d.disCN.tooltiprowicon}),d.ReactUtils.createElement("span",{className:d.DOMUtils.formatClassName(d.disCN.tooltipguildnametext,(o.length||i.length)&&d.disCN.tooltipguildnametextlimitedsize),children:m||s.html?d.ReactUtils.elementToReact(d.DOMUtils.create(l)):l})]}),e&&d.ReactUtils.createElement("div",{className:d.DOMUtils.formatClassName(d.disCN.tooltiprow,d.disCN.tooltiprowextra),children:e}),o.length&&d.ReactUtils.createElement("div",{className:d.disCN.tooltiprow,children:[d.ReactUtils.createElement(r.LibraryComponents.SvgIcon,{name:r.LibraryComponents.SvgIcon.Names.SPEAKER,className:d.disCN.tooltipactivityicon}),d.ReactUtils.createElement(r.LibraryComponents.UserSummaryItem,{users:o,max:6})]}),i.length&&d.ReactUtils.createElement("div",{className:d.disCN.tooltiprow,children:[d.ReactUtils.createElement(r.LibraryComponents.SvgIcon,{name:r.LibraryComponents.SvgIcon.Names.STREAM,className:d.disCN.tooltipactivityicon}),d.ReactUtils.createElement(r.LibraryComponents.UserSummaryItem,{users:i,max:6})]})].filter(e=>e)}),c)}else m?c.innerHTML=`<span style="pointer-events: none; -webkit-background-clip: text !important; color: transparent !important; background-image: ${d.ColorUtils.createGradient(s.fontColor)} !important;">${d.StringUtils.htmlEscape(e)}</span>`:!0===s.html?c.innerHTML=e:c.innerText=e}))(t),p.removeTooltip=a.removeTooltip=(t=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseleave",y),d.DOMUtils.remove(a),d.ArrayUtils.remove(O,o),U.disconnect(),l&&d.DOMUtils.remove(i),"function"==typeof s.onHide&&s.onHide(a,e)}),(p.update=a.update=(t=>{let i,o;t&&p.setText(t);const n=d.DOMUtils.getRects(e),r=d.DOMUtils.getRects(a),l=d.DOMUtils.getRects(document.querySelector(d.dotCN.appmount)),c=10,m=10,f="number"==typeof s.offset?s.offset:0;switch(h){case"top":o=n.top-r.height-c+2-f,i=n.left+(n.width-r.width)/2;break;case"bottom":o=n.top+n.height+c-2+f,i=n.left+(n.width-r.width)/2;break;case"left":o=n.top+(n.height-r.height)/2,i=n.left-r.width-m+2-f;break;case"right":o=n.top+(n.height-r.height)/2,i=n.left+n.width+m-2+f}if(a.style.setProperty("top",`${o}px`,"important"),a.style.setProperty("left",`${i}px`,"important"),u.style.removeProperty("margin-left"),u.style.removeProperty("margin-top"),"top"==h||"bottom"==h)if(i<0)a.style.setProperty("left","5px","important"),u.style.setProperty("margin-left",`${i-10}px`,"important");else{const e=l.width-(i+r.width);e<0&&(a.style.setProperty("left",`${l.width-r.width-5}px`,"important"),u.style.setProperty("margin-left",`${-1*e}px`,"important"))}else if("left"==h||"right"==h)if(o<0){const e=d.DOMUtils.getRects(document.querySelector(d.dotCN.titlebar)),t=(e.width||0)>=Math.round(75*window.outerWidth/l.width)?e.height+5:0;a.style.setProperty("top",`${5+t}px`,"important"),u.style.setProperty("margin-top",`${o-10-t}px`,"important")}else{const e=l.height-(o+r.height);e<0&&(a.style.setProperty("top",`${l.height-r.height-5}px`,"important"),u.style.setProperty("margin-top",`${-1*e}px`,"important"))}}))(),s.delay?(d.DOMUtils.toggle(a),d.TimeUtils.timeout(t=>{d.DOMUtils.toggle(a),"function"==typeof s.onShow&&s.onShow(a,e)},s.delay)):"function"==typeof s.onShow&&s.onShow(a,e),a},u.findModule=function(e,t,s,i){if(d.ObjectUtils.is(l.modules[e])||(l.modules[e]={module:{},export:{}}),i&&l.modules[e].export[t])return l.modules[e].export[t];if(!i&&l.modules[e].module[t])return l.modules[e].module[t];{let o=d.ModuleUtils.find(s,i);if(o)return i?l.modules[e].export[t]=o:l.modules[e].module[t]=o,o;d.LogUtils.warn(`${t} [${e}] not found in WebModules`)}},u.getWebModuleReq=function(){if(!u.getWebModuleReq.req){const e="BDFDB-WebModules",t=window.webpackJsonp.push([[],{[e]:(e,t,s)=>e.exports=s},[[e]]]);delete t.m[e],delete t.c[e],u.getWebModuleReq.req=t}return u.getWebModuleReq.req},d.ModuleUtils={},d.ModuleUtils.find=function(e,t){t="boolean"!=typeof t||t;let s=u.getWebModuleReq();for(let i in s.c)if(s.c.hasOwnProperty(i)){let o=s.c[i].exports;if(o&&("object"==typeof o||"function"==typeof o)&&e(o))return t?o:s.c[i];if(o&&o.__esModule){for(let n in o)if(o[n]&&("object"==typeof o[n]||"function"==typeof o[n])&&e(o[n]))return t?o[n]:s.c[i];if(o.default&&("object"==typeof o.default||"function"==typeof o.default))for(let n in o.default)if(o.default[n]&&("object"==typeof o.default[n]||"function"==typeof o.default[n])&&e(o.default[n]))return t?o.default[n]:s.c[i]}}for(let i in s.m)if(s.m.hasOwnProperty(i)){let o=s.m[i];if(o&&"function"==typeof o&&e(o)){if(s.c[i])return t?s.c[i].exports:s.c[i];{let e={};return s.m[i](e,null,s),t?e.exports:e}}}},d.ModuleUtils.findByProperties=function(...e){let t=(e=e.flat(10)).pop();return"boolean"!=typeof t&&(e.push(t),t=!0),u.findModule("prop",JSON.stringify(e),t=>e.every(e=>void 0!==t[e]),t)},d.ModuleUtils.findByName=function(e,t){return u.findModule("name",JSON.stringify(e),t=>t.displayName===e||t.render&&t.render.displayName===e,"boolean"!=typeof t||t)},d.ModuleUtils.findByString=function(...e){let t=(e=e.flat(10)).pop();return"boolean"!=typeof t&&(e.push(t),t=!0),u.findModule("string",JSON.stringify(e),t=>e.every(e=>"function"==typeof t&&(t.toString().indexOf(e)>-1||"function"==typeof t.__originalMethod&&t.__originalMethod.toString().indexOf(e)>-1||"function"==typeof t.__originalFunction&&t.__originalFunction.toString().indexOf(e)>-1)||d.ObjectUtils.is(t)&&"function"==typeof t.type&&t.type.toString().indexOf(e)>-1),t)},d.ModuleUtils.findByPrototypes=function(...e){let t=(e=e.flat(10)).pop();return"boolean"!=typeof t&&(e.push(t),t=!0),u.findModule("proto",JSON.stringify(e),t=>t.prototype&&e.every(e=>void 0!==t.prototype[e]),t)},u.forceInitiateProcess=function(e,t,s){if((e=[e].flat(10).filter(e=>e)).length&&t&&s){let i=!1;for(let o of e){let e=o.plugin==d&&u||o.plugin,n=[];for(let t in e.patchedModules)e.patchedModules[t][s]&&n.push(e.patchedModules[t][s]);(n=d.ArrayUtils.removeCopies(n).flat(10).filter(e=>e)).includes("componentDidMount")&&u.initiateProcess(e,s,{instance:t,methodname:"componentDidMount",patchtypes:o.patchTypes[s]}),n.includes("render")?i=!0:!i&&n.includes("componentDidUpdate")&&u.initiateProcess(e,s,{instance:t,methodname:"componentDidUpdate",patchtypes:o.patchTypes[s]})}i&&d.ReactUtils.forceUpdate(t)}},u.initiateProcess=function(e,t,s){if(e=e==d&&u||e,d.ObjectUtils.is(e)&&!e.stopping&&s.instance&&(t=n.StringUtils.upperCaseFirstChar(t.split(" _ _ ")[1]||t).replace(/[^A-z0-9]|_/g,""),"function"==typeof e[`process${t}`]))if("string"!=typeof s.methodname||0!=s.methodname.indexOf("componentDid")&&0!=s.methodname.indexOf("componentWill")){if(s.returnvalue||s.patchtypes.includes("before"))return e[`process${t}`](s)}else{if(s.node=d.ReactUtils.findDOMNode(s.instance),s.node)return e[`process${t}`](s);d.TimeUtils.timeout(i=>{if(s.node=d.ReactUtils.findDOMNode(s.instance),s.node)return e[`process${t}`](s)})}},u.patchObserverData={observer:null,data:{}},u.patchPlugin=function(e){if(e=e==d&&u||e,!d.ObjectUtils.is(e)||!d.ObjectUtils.is(e.patchedModules))return;d.PatchUtils.unpatch(e);let t={};for(let s in e.patchedModules)for(let i in e.patchedModules[s])t[i]||(t[i]={}),t[i][s]=e.patchedModules[s][i];for(let s in t){let i={plugin:e,patchTypes:t[s]},o=s.split(" _ _ ")[1]||s,n={classNames:[U.ModuleUtilsConfig.Finder[o]&&U.ModuleUtilsConfig.Finder[o].class].flat(10).filter(e=>B[e]),stringFind:U.ModuleUtilsConfig.Finder[o]&&U.ModuleUtilsConfig.Finder[o].strings,propertyFind:U.ModuleUtilsConfig.Finder[o]&&U.ModuleUtilsConfig.Finder[o].props,specialFilter:U.ModuleUtilsConfig.Finder[o]&&U.ModuleUtilsConfig.Finder[o].special&&u.createFilter(U.ModuleUtilsConfig.Finder[o].special),memoComponent:U.ModuleUtilsConfig.MemoComponent.includes(o),subRender:U.ModuleUtilsConfig.SubRender.includes(o),forceObserve:U.ModuleUtilsConfig.ForceObserve.includes(o),nonRender:d.ObjectUtils.toArray(i.patchTypes).flat(10).filter(e=>e&&!U.ModuleUtilsConfig.InstanceFunctions.includes(e)).length>0,mapped:U.ModuleUtilsConfig.PatchMap[s]};n.ignoreCheck=!!(n.codeFind||n.propertyFind||n.specialFilter||n.nonRender||n.memoComponent),n.nonPrototype=U.ModuleUtilsConfig.NonPrototype.includes(o)||!!(n.codeFind||n.propertyFind||n.nonRender);let l=U.ModuleUtilsConfig.LoadedInComponents[s]&&d.ObjectUtils.get(r,U.ModuleUtilsConfig.LoadedInComponents[s]);if(l)u.patchInstance(i,n.nonRender?(d.ModuleUtils.find(e=>e==l,!1)||{}).exports:l,s,n);else{let t=n.mapped?n.mapped+" _ _ "+s:s,o=t.split(" _ _ ")[0];if(n.mapped)for(let i in e.patchedModules)e.patchedModules[i][s]&&(e.patchedModules[i][t]=e.patchedModules[i][s],delete e.patchedModules[i][s]);if(n.classNames.length)u.checkForInstance(i,t,n);else if(n.stringFind){let e=(d.ModuleUtils.findByString(n.stringFind,!1)||{}).exports;u.patchInstance(i,e&&n.memoComponent?e.default:e,t,n)}else if(n.propertyFind){let e=(d.ModuleUtils.findByProperties(n.propertyFind,!1)||{}).exports;u.patchInstance(i,e&&n.memoComponent?e.default:e,t,n)}else if(n.nonRender){let e=(d.ModuleUtils.findByName(o,!1)||{}).exports;u.patchInstance(i,e&&n.memoComponent?e.default:e,t,n)}else u.patchInstance(i,d.ModuleUtils.findByName(o),t,n)}}},u.patchInstance=function(e,t,s,i){if((e=[e].flat(10).filter(e=>e)).length&&t){let o=s.split(" _ _ ")[0];if(t=t[d.ReactUtils.instanceKey]&&t[d.ReactUtils.instanceKey].type?t[d.ReactUtils.instanceKey].type:t,t=i.ignoreCheck||d.ReactUtils.isCorrectInstance(t,o)||U.ModuleUtilsConfig.LoadedInComponents[s]?t:d.ReactUtils.findConstructor(t,o)||d.ReactUtils.findConstructor(t,o,{up:!0})){t=t[d.ReactUtils.instanceKey]&&t[d.ReactUtils.instanceKey].type?t[d.ReactUtils.instanceKey].type:t;let o=i.nonPrototype?t:t.prototype;o=i.subRender&&o?o.type:o;for(let t of e)for(let e in t.patchTypes){let n={};n[e]=(i=>u.initiateProcess(t.plugin,s,{instance:i.thisObject&&window!=i.thisObject?i.thisObject:{props:i.methodArguments[0]},returnvalue:i.returnValue,methodname:i.originalMethodName,patchtypes:[e]})),d.PatchUtils.patch(t.plugin,o,i.subRender?"render":t.patchTypes[e],n)}}}},u.createFilter=function(e){return t=>t&&e.every(e=>{let s=d.ObjectUtils.get(t,e.path);return s&&(!e.value||[e.value].flat(10).filter(e=>"string"==typeof e).some(e=>0==s.toUpperCase().indexOf(e.toUpperCase())))})&&t.return.type},u.checkEle=function(e,t,s,i){e=[e].flat(10).filter(e=>e);s.split(" _ _ ")[1];let o=d.ReactUtils.getInstance(t);if("function"==typeof i.specialFilter){let t=i.specialFilter(o);if(t){if(i.nonRender){let o=(d.ModuleUtils.find(e=>e==t,!1)||{}).exports;u.patchInstance(e,o&&i.memoComponent?o.default:o,s,i)}else u.patchInstance(e,t,s,i);return d.PatchUtils.forceAllUpdates(e.map(e=>e.plugin),s),!0}}else if(u.isCorrectPatchInstance(o,s))return u.patchInstance(e,o,s,i),d.PatchUtils.forceAllUpdates(e.map(e=>e.plugin),s),!0;return!1},u.checkForInstance=function(e,t,s){const i=document.querySelector(d.dotCN.app),o=document.querySelector("#bd-settingspane-container .scroller");let n=!1;if(!s.forceObserve){if(i){let o=d.ReactUtils.findConstructor(i,t,{unlimited:!0})||d.ReactUtils.findConstructor(i,t,{unlimited:!0,up:!0});o&&(n=!0)&&u.patchInstance(e,o,t,s)}if(!n&&o){let i=d.ReactUtils.findConstructor(o,t,{unlimited:!0});i&&(n=!0)&&u.patchInstance(e,i,t,s)}}if(!n){let i=!1,o=s.classNames.map(e=>d.disCN[e]),n=s.classNames.map(e=>d.dotCN[e]).join(", ");for(let o of document.querySelectorAll(n))if(i=u.checkEle(e,o,t,s))break;if(!i){if(!u.patchObserverData.observer){let e=document.querySelector(d.dotCN.appmount);e&&(u.patchObserverData.observer=new MutationObserver(e=>{e.forEach(e=>{e.addedNodes.forEach(e=>{if(e&&e.tagName)for(let t in u.patchObserverData.data)if(!u.patchObserverData.data[t].found){let s=null;null!=(s=d.DOMUtils.containsClass(e,...u.patchObserverData.data[t].classes)?e:e.querySelector(u.patchObserverData.data[t].selector))&&(u.patchObserverData.data[t].found=u.checkEle(u.patchObserverData.data[t].plugins,s,t,u.patchObserverData.data[t].config),u.patchObserverData.data[t].found&&(delete u.patchObserverData.data[t],d.ObjectUtils.isEmpty(u.patchObserverData.data)&&(u.patchObserverData.observer.disconnect(),u.patchObserverData.observer=null)))}})})}),u.patchObserverData.observer.observe(e,{childList:!0,subtree:!0}))}u.patchObserverData.data[t]||(u.patchObserverData.data[t]={selector:n,classes:o,found:!1,config:s,plugins:[]}),u.patchObserverData.data[t].plugins.push(e)}}},u.isCorrectPatchInstance=function(e,t){return!!e&&(e=e[d.ReactUtils.instanceKey]&&e[d.ReactUtils.instanceKey].type?e[d.ReactUtils.instanceKey].type:e,!!(e=d.ReactUtils.isCorrectInstance(e,t)?e:d.ReactUtils.findConstructor(e,t)||d.ReactUtils.findConstructor(e,t,{up:!0})))},d.PatchUtils={},d.PatchUtils.isPatched=function(e,t,s){if(!((e=e==d&&u||e)&&d.ObjectUtils.is(t)&&t.BDFDB_patches&&s))return!1;const i=("string"==typeof e?e:e.name).toLowerCase();return i&&t[s]&&t[s].__is_BDFDB_patched&&t.BDFDB_patches[s]&&d.ObjectUtils.toArray(t.BDFDB_patches[s]).some(e=>d.ObjectUtils.toArray(e).some(e=>Object.keys(e).includes(i)))},d.PatchUtils.patch=function(e,t,s,i,o={}){if(!((e=e==d&&u||e)&&d.ObjectUtils.is(t)&&s&&d.ObjectUtils.is(i)))return null;if(i=d.ObjectUtils.filter(i,e=>U.ModuleUtilsConfig.PatchTypes.includes(e),!0),d.ObjectUtils.isEmpty(i))return null;const n="string"==typeof e?e:e.name,r=n.toLowerCase(),l=d.ObjectUtils.is(e)&&!isNaN(e.patchPriority)?e.patchPriority<0?0:e.patchPriority>10?10:Math.round(e.patchPriority):5;d.ObjectUtils.is(t.BDFDB_patches)||(t.BDFDB_patches={}),s=[s].flat(10).filter(e=>e);let a=i=>{d.PatchUtils.unpatch(e,t,s)};for(let p of s)if(null==t[p]||"function"==typeof t[p]){if(!t.BDFDB_patches[p]||o.force&&(!t[p]||!t[p].__is_BDFDB_patched)){if(!t.BDFDB_patches[p]){t.BDFDB_patches[p]={};for(let e of U.ModuleUtilsConfig.PatchTypes)t.BDFDB_patches[p][e]={}}t[p]||(t[p]=(e=>{}));const e=t[p];t.BDFDB_patches[p].originalMethod=e,t[p]=function(){let s=!1,i=!1;const o={thisObject:this,methodArguments:arguments,originalMethod:e,originalMethodName:p,callOriginalMethod:e=>{i||(o.returnValue=o.originalMethod.apply(o.thisObject,o.methodArguments))},callOriginalMethodAfterwards:e=>{s=!0},stopOriginalMethodCall:e=>{i=!0}};if(t.BDFDB_patches&&t.BDFDB_patches[p]){for(let e in t.BDFDB_patches[p].before)for(let s in d.ObjectUtils.sort(t.BDFDB_patches[p].before[e]))d.TimeUtils.suppress(t.BDFDB_patches[p].before[e][s],`"before" callback of ${p} in ${t.constructor?t.constructor.displayName||t.constructor.name:"module"}`,t.BDFDB_patches[p].before[e][s].pluginName)(o);if(!t.BDFDB_patches||!t.BDFDB_patches[p])return"render"==p&&void 0===o.returnValue?null:o.returnValue;let e=d.ObjectUtils.toArray(t.BDFDB_patches[p].instead).some(e=>!d.ObjectUtils.isEmpty(e));if(e)for(let e in t.BDFDB_patches[p].instead)for(let s in d.ObjectUtils.sort(t.BDFDB_patches[p].instead[e])){let i=d.TimeUtils.suppress(t.BDFDB_patches[p].instead[e][s],`"instead" callback of ${p} in ${t.constructor?t.constructor.displayName||t.constructor.name:"module"}`,t.BDFDB_patches[p].instead[e][s].pluginName)(o);void 0!==i&&(o.returnValue=i)}if(e&&!s||i||d.TimeUtils.suppress(o.callOriginalMethod,`originalMethod of ${p} in ${t.constructor?t.constructor.displayName||t.constructor.name:"module"}`)(),!t.BDFDB_patches||!t.BDFDB_patches[p])return"render"==p&&void 0===o.returnValue?null:o.returnValue;for(let e in t.BDFDB_patches[p].after)for(let s in d.ObjectUtils.sort(t.BDFDB_patches[p].after[e])){let i=d.TimeUtils.suppress(t.BDFDB_patches[p].after[e][s],`"after" callback of ${p} in ${t.constructor?t.constructor.displayName||t.constructor.name:"module"}`,t.BDFDB_patches[p].after[e][s].pluginName)(o);void 0!==i&&(o.returnValue=i)}}else d.TimeUtils.suppress(o.callOriginalMethod,`originalMethod of ${p} in ${t.constructor?t.constructor.displayName||t.constructor.name:"module"}`)();return s=!1,i=!1,"render"==p&&void 0===o.returnValue?null:o.returnValue};for(let s of Object.keys(e))t[p][s]=e[s];if(!t[p].__originalFunction){let s=e.__originalMethod||e.__originalFunction||e;"function"==typeof s&&(t[p].__originalFunction=s,t[p].toString=(e=>s.toString()))}t[p].__is_BDFDB_patched=!0}for(let s in i)"function"==typeof i[s]&&(d.ObjectUtils.is(t.BDFDB_patches[p][s][l])||(t.BDFDB_patches[p][s][l]={}),t.BDFDB_patches[p][s][l][r]=((...t)=>(!o.once&&e.started||a(),i[s](...t))),t.BDFDB_patches[p][s][l][r].pluginName=n)}return!d.ObjectUtils.is(e)||o.once||o.noCache||(d.ArrayUtils.is(e.patchCancels)||(e.patchCancels=[]),e.patchCancels.push(a)),a},d.PatchUtils.unpatch=function(e,t,s){if(e=e==d&&u||e,t||s){if(!d.ObjectUtils.is(t)||!t.BDFDB_patches)return;const o=e?("string"==typeof e?e:e.name).toLowerCase():null;if(s)for(let e of[s].flat(10).filter(e=>e))t[e]&&t.BDFDB_patches[e]&&i(e,o);else for(let e of t.BDFDB_patches)i(e,o)}else if(d.ObjectUtils.is(e)&&d.ArrayUtils.is(e.patchCancels))for(;e.patchCancels.length;)e.patchCancels.pop()();function i(e,s){for(let i of U.ModuleUtilsConfig.PatchTypes)if(s)for(let o in t.BDFDB_patches[e][i])delete t.BDFDB_patches[e][i][o][s],d.ObjectUtils.isEmpty(t.BDFDB_patches[e][i][o])&&delete t.BDFDB_patches[e][i][o];else delete t.BDFDB_patches[e][i];d.ObjectUtils.isEmpty(d.ObjectUtils.filter(t.BDFDB_patches[e],s=>U.ModuleUtilsConfig.PatchTypes.includes(s)&&!d.ObjectUtils.isEmpty(t.BDFDB_patches[e][s]),!0))&&(t[e]=t.BDFDB_patches[e].originalMethod,delete t.BDFDB_patches[e],d.ObjectUtils.isEmpty(t.BDFDB_patches)&&delete t.BDFDB_patches)}},d.PatchUtils.forceAllUpdates=function(e,t){if((e=[e].flat(10).map(e=>e==d&&u||e).filter(e=>d.ObjectUtils.is(e.patchedModules))).length){const s=document.querySelector(d.dotCN.app),i=document.querySelector("#bd-settingspane-container > *");if(s){t=[t].flat(10).filter(e=>e).map(e=>e&&U.ModuleUtilsConfig.PatchMap[e]?U.ModuleUtilsConfig.PatchMap[e]+" _ _ "+e:e);let o={};for(let s of e){o[s.name]={filteredModules:[],specialModules:[],specialModuleTypes:[],patchTypes:{}};for(let e in s.patchedModules)for(let i in s.patchedModules[e]){let n=[s.patchedModules[e][i]].flat(10).filter(e=>e);if(d.ArrayUtils.includes(n,"componentDidMount","componentDidUpdate","render",!1)&&(!t.length||t.includes(i))){let t=i.split(" _ _ ")[1]||i,n=[U.ModuleUtilsConfig.Finder[t]].flat(10).filter(e=>B[e]).map(e=>d.dotCN[e]).join(", "),r=U.ModuleUtilsConfig.Finder[t]&&U.ModuleUtilsConfig.Finder[t].special&&u.createFilter(U.ModuleUtilsConfig.Finder[t].special);if(n&&"function"==typeof r)for(let e of document.querySelectorAll(n)){let t=r(d.ReactUtils.getInstance(e));if(t){o[s.name].specialModules.push([i,t]),o[s.name].specialModuleTypes.push(i);break}}else o[s.name].filteredModules.push(i);let l=i.split(" _ _ ")[0];o[s.name].patchTypes[l]||(o[s.name].patchTypes[l]=[]),o[s.name].patchTypes[l].push(e)}}}let n=d.ObjectUtils.toArray(o);if(d.ArrayUtils.sum(n.map(e=>e.filteredModules.length+e.specialModules.length)))try{let t=d.ArrayUtils.removeCopies(n.map(e=>e.filteredModules).flat(10)),r=d.ArrayUtils.removeCopies(n.map(e=>e.specialModules).flat(10));const l=d.ReactUtils.findOwner(s,{name:t,type:r,all:!0,group:!0,unlimited:!0}),a=d.ReactUtils.findOwner(s,{name:t,type:r,all:!0,group:!0,unlimited:!0,up:!0});for(let t in l){let s=e.filter(e=>o[e.name].filteredModules.includes(t)||o[e.name].specialModuleTypes.includes(t)).map(e=>({plugin:e,patchTypes:o[e.name].patchTypes}));for(let e of l[t])u.forceInitiateProcess(s,e,t)}for(let t in a){let s=e.filter(e=>o[e.name].filteredModules.includes(t)||o[e.name].specialModuleTypes.includes(t)).map(e=>({plugin:e,patchTypes:o[e.name].patchTypes}));for(let e of a[t])u.forceInitiateProcess(s,e,t)}if(i){if(d.ReactUtils.findOwner(i,{name:t,type:r,all:!0,unlimited:!0}).length){const e=d.ReactUtils.findOwner(d.ReactUtils.getInstance(document.querySelector("#bd-settingspane-container > *")),{props:"onChange",up:!0});e&&e.props&&"function"==typeof e.props.onChange&&e.props.onChange(e.props.type)}}}catch(t){d.LogUtils.error("Could not force update components! "+t,e.map(e=>e.name).join(", "))}}}},d.DiscordConstants=d.ModuleUtils.findByProperties("Permissions","ActivityTypes");for(let e in U.DiscordObjects)U.DiscordObjects[e].props?i[e]=d.ModuleUtils.findByPrototypes(U.DiscordObjects[e].props):U.DiscordObjects[e].protos&&(i[e]=d.ModuleUtils.find(t=>t.prototype&&U.DiscordObjects[e].protos.every(s=>t.prototype[s]&&(!U.DiscordObjects[e].array||Array.isArray(t.prototype[s])))));d.DiscordObjects=Object.assign({},i);for(let e of U.LibraryRequires)try{o[e]=require(e)}catch(e){}d.LibraryRequires=Object.assign({},o);for(let e in U.LibraryModules)U.LibraryModules[e].props&&(U.LibraryModules[e].nonProps?n[e]=d.ModuleUtils.find(t=>U.LibraryModules[e].props.every(e=>"function"==typeof t[e])&&U.LibraryModules[e].nonProps.every(e=>"function"!=typeof t[e])):n[e]=d.ModuleUtils.findByProperties(U.LibraryModules[e].props));let D;n.KeyCodeUtils&&(n.KeyCodeUtils.getString=function(e){return n.KeyCodeUtils.toString([e].flat(10).filter(e=>e).map(e=>[d.DiscordConstants.KeyboardDeviceTypes.KEYBOARD_KEY,e,d.DiscordConstants.KeyboardEnvs.BROWSER]),!0)}),d.LibraryModules=Object.assign({},n),n.React=d.ModuleUtils.findByProperties("createElement","cloneElement"),n.ReactDOM=d.ModuleUtils.findByProperties("render","findDOMNode"),d.ReactUtils=Object.assign({},n.React,n.ReactDOM),d.ReactUtils.childrenToArray=function(e){if(e&&e.props&&e.props.children&&!d.ArrayUtils.is(e.props.children)){var t=e.props.children;e.props.children=[],e.props.children.push(t)}return e.props.children},d.ReactUtils.createElement=function(e,t={},s=!1){if(e&&e.defaultProps)for(let s in e.defaultProps)null==t[s]&&(t[s]=e.defaultProps[s]);try{let i=n.React.createElement(e||"div",t)||null;return s?n.React.createElement(r.ErrorBoundary,{},i)||null:i}catch(e){d.LogUtils.error("Could not create react element! "+e)}return null},d.ReactUtils.objectToReact=function(e){return e?"string"==typeof e?e:d.ObjectUtils.is(e)?d.ReactUtils.createElement(e.type||e.props&&e.props.href&&"a"||"div",e.props?Object.assign({},e.props,{children:e.props.children?d.ReactUtils.objectToReact(e.props.children):null}):{}):d.ArrayUtils.is(e)?e.map(e=>d.ReactUtils.objectToReact(e)):null:null},d.ReactUtils.markdownParse=function(e){return d.ReactUtils.markdownParse.parser&&d.ReactUtils.markdownParse.render||(d.ReactUtils.markdownParse.parser=n.SimpleMarkdownParser.parserFor(n.SimpleMarkdownParser.defaultRules),d.ReactUtils.markdownParse.render=n.SimpleMarkdownParser.reactFor(n.SimpleMarkdownParser.ruleOutput(n.SimpleMarkdownParser.defaultRules,"react"))),d.ReactUtils.markdownParse.render(d.ReactUtils.markdownParse.parser(e,{inline:!0}))},d.ReactUtils.elementToReact=function(e,t){if(d.ReactUtils.isValidElement(e))return e;if(!Node.prototype.isPrototypeOf(e))return null;if(e.nodeType==Node.TEXT_NODE)return e.nodeValue;let s={},i=[];"function"==typeof t&&(s.ref=t);for(let t of e.attributes)s[t.name]=t.value;if(e.attributes.style&&(s.style=d.ObjectUtils.filter(e.style,t=>e.style[t]&&isNaN(parseInt(t)),!0)),s.children=[],e.style&&e.style.cssText)for(let t of e.style.cssText.split(";"))if(t.endsWith("!important")){let e=t.split(":")[0],o=e.replace(/-([a-z]?)/g,(e,t)=>t.toUpperCase());null!=s.style[o]&&i.push(e)}for(let t of e.childNodes)s.children.push(d.ReactUtils.elementToReact(t));s.className=d.DOMUtils.formatClassName(s.className,s.class),delete s.class;let o=d.ReactUtils.createElement(e.tagName,s);return d.ReactUtils.forceStyle(o,i),o},d.ReactUtils.forceStyle=function(e,t){if(!(d.ReactUtils.isValidElement(e)&&d.ObjectUtils.is(e.props.style)&&d.ArrayUtils.is(t)&&t.length))return null;let s=e.ref;return e.ref=(i=>{"function"==typeof s&&s(i);let o=d.ReactUtils.findDOMNode(i);if(Node.prototype.isPrototypeOf(o))for(let s of t){let t=e.props.style[s.replace(/-([a-z]?)/g,(e,t)=>t.toUpperCase())];null!=t&&o.style.setProperty(s,t,"important")}}),e},d.ReactUtils.findChild=function(e,t){if(!(e&&d.ObjectUtils.is(t)&&(t.name||t.key||t.props||t.filter)))return t.all?[]:null;let s=Node.prototype.isPrototypeOf(e)?d.ReactUtils.getInstance(e):e;if(!d.ObjectUtils.is(s)&&!d.ArrayUtils.is(s))return null;t.name=t.name&&[t.name].flat().filter(e=>e),t.key=t.key&&[t.key].flat().filter(e=>e),t.props=t.props&&[t.props].flat().filter(e=>e),t.filter="function"==typeof t.filter&&t.filter;let i=-1,o=performance.now(),n=t.unlimited?999999999:void 0===t.depth?30:t.depth,r=t.unlimited?999999999:void 0===t.time?150:t.time,l=[],a=function e(s){let a=null;if(!s||i>=n||performance.now()-o>=r)return a;if(d.ArrayUtils.is(s)){for(let o of s)if(o&&(d.ArrayUtils.is(o)?a=e(o):p(o)?void 0!==t.all&&t.all?t.all&&(o.BDFDBreactSearch||(o.BDFDBreactSearch=!0,l.push(o))):a=o:o.props&&o.props.children&&(i++,a=e(o.props.children),i--),a))break}else p(s)?void 0!==t.all&&t.all?t.all&&(s.BDFDBreactSearch||(s.BDFDBreactSearch=!0,l.push(s))):a=s:s.props&&s.props.children&&(i++,a=e(s.props.children),i--);return a}(s);if(t.all){for(let e in l)delete l[e].BDFDBreactSearch;return l}return a;function p(e){if(!e)return!1;let s=e.stateNode?e.stateNode.props:e.props;return e.type&&t.name&&t.name.some(t=>d.ReactUtils.isCorrectInstance(e,t))||t.key&&t.key.some(t=>e.key==t)||s&&t.props&&t.props[t.someProps?"some":"every"](e=>d.ArrayUtils.is(e)?d.ArrayUtils.is(e[1])?e[1].some(t=>c(s,e[0],t)):c(s,e[0],e[1]):void 0!==s[e])||t.filter&&t.filter(e)}function c(e,t,s){return null!=t&&null!=e[t]&&null!=s&&("className"==t?(" "+e[t]+" ").indexOf(" "+s+" ")>-1:d.equals(e[t],s))}},d.ReactUtils.setChild=function(e,t){if(!d.ReactUtils.isValidElement(e)||!d.ReactUtils.isValidElement(t)&&"string"!=typeof t&&!d.ArrayUtils.is(t))return;let s=!1;function i(e){if(!s)if(d.ArrayUtils.is(e))for(let t of e)o(t);else o(e)}function o(e){d.ReactUtils.isValidElement(e)&&(d.ReactUtils.isValidElement(e.props.children)?i(e.props.children):d.ArrayUtils.is(e.props.children)?e.props.children.every(e=>!e||"string"==typeof e)?(s=!0,e.props.children=[t].flat(10)):i(e.props.children):(s=!0,e.props.children=t))}i(e)},d.ReactUtils.findConstructor=function(e,t,s={}){if(!d.ObjectUtils.is(s))return null;if(!e||!t)return s.all?s.group?{}:[]:null;let i=Node.prototype.isPrototypeOf(e)?d.ReactUtils.getInstance(e):e;if(!d.ObjectUtils.is(i))return s.all?s.group?{}:[]:null;if(!(t=t&&[t].flat(10).filter(e=>"string"==typeof e)).length)return s.all?s.group?{}:[]:null;let o=-1,n=performance.now(),r=s.unlimited?999999999:void 0===s.depth?30:s.depth,l=s.unlimited?999999999:void 0===s.time?150:s.time,a=s.up?{return:!0,sibling:!0,default:!0}:{child:!0,sibling:!0,default:!0};a[d.ReactUtils.instanceKey]=!0;let p=s.group?{}:[],c=function e(i){o++;let c=void 0;if(i&&!Node.prototype.isPrototypeOf(i)&&!d.ReactUtils.getInstance(i)&&o<r&&performance.now()-n<l){if(i.type&&t.some(e=>d.ReactUtils.isCorrectInstance(i,e.split(" _ _ ")[0])))if(void 0!==s.all&&s.all){if(s.all&&!i.type.BDFDBreactSearch)if(i.type.BDFDBreactSearch=!0,s.group){if(i.type&&(i.type.render&&i.type.render.displayName||i.type.displayName||i.type.name)){let e=s.name.find(e=>(i.type.render&&i.type.render.displayName||i.type.displayName||i.type.name||i.type)==e.split(" _ _ ")[0])||"Default";d.ArrayUtils.is(p[e])||(p[e]=[]),p[e].push(i.stateNode)}}else p.push(i.type)}else c=i.type;if(void 0===c){let t=Object.getOwnPropertyNames(i);for(let s=0;void 0===c&&s<t.length;s++){let o=t[s];o&&a[o]&&("object"==typeof i[o]||"function"==typeof i[o])&&(c=e(i[o]))}}}o--;return c}(i);if(s.all){for(let e in p)if(s.group)for(let t in p[e])delete p[e][t].BDFDBreactSearch;else delete p[e].BDFDBreactSearch;return p}return c},d.ReactUtils.findDOMNode=function(e){if(Node.prototype.isPrototypeOf(e))return e;if(!e||!e.updater||"function"!=typeof e.updater.isMounted||!e.updater.isMounted(e))return null;let t=n.ReactDOM.findDOMNode(e)||d.ObjectUtils.get(e,"child.stateNode");return Node.prototype.isPrototypeOf(t)?t:null},d.ReactUtils.findOwner=function(e,t){if(!d.ObjectUtils.is(t))return null;if(!(e&&(t.name||t.type||t.key||t.props||t.filter)))return t.all?t.group?{}:[]:null;let s=Node.prototype.isPrototypeOf(e)?d.ReactUtils.getInstance(e):e;if(!d.ObjectUtils.is(s))return t.all?t.group?{}:[]:null;t.name=t.name&&[t.name].flat().filter(e=>e),t.type=t.type&&[t.type].flat().filter(e=>e),t.key=t.key&&[t.key].flat().filter(e=>e),t.props=t.props&&[t.props].flat().filter(e=>e),t.filter="function"==typeof t.filter&&t.filter;let i=-1,o=performance.now(),n=t.unlimited?999999999:void 0===t.depth?30:t.depth,r=t.unlimited?999999999:void 0===t.time?150:t.time,l=t.up?{return:!0,sibling:!0,default:!0}:{child:!0,sibling:!0,default:!0};l[d.ReactUtils.instanceKey]=!0;let a=t.group?{}:[],p=function e(s){i++;let p=void 0;if(s&&!Node.prototype.isPrototypeOf(s)&&!d.ReactUtils.getInstance(s)&&i<n&&performance.now()-o<r){let i=s.stateNode?s.stateNode.props:s.props;if(s.stateNode&&!Node.prototype.isPrototypeOf(s.stateNode)&&(s.type&&t.name&&t.name.some(e=>d.ReactUtils.isCorrectInstance(s,e.split(" _ _ ")[0]))||s.type&&t.type&&t.type.some(e=>d.ArrayUtils.is(e)?s.type===e[1]:s.type===e)||s.key&&t.key&&t.key.some(e=>s.key==e)||i&&t.props&&t.props.every(e=>d.ArrayUtils.is(e)?d.ArrayUtils.is(e[1])?e[1].some(t=>d.equals(i[e[0]],t)):d.equals(i[e[0]],e[1]):void 0!==i[e]))||t.filter&&t.filter(s))if(void 0!==t.all&&t.all){if(t.all&&!s.stateNode.BDFDBreactSearch)if(s.stateNode.BDFDBreactSearch=!0,t.group){if(t.name&&s.type&&(s.type.render&&s.type.render.displayName||s.type.displayName||s.type.name||s.type)){let e=t.name.find(e=>(s.type.render&&s.type.render.displayName||s.type.displayName||s.type.name||s.type)==e.split(" _ _ ")[0])||"Default";d.ArrayUtils.is(a[e])||(a[e]=[]),a[e].push(s.stateNode)}else if(t.type&&s.type){let e=[t.type.find(e=>d.ArrayUtils.is(e)&&s.type===e[1])].flat(10)[0]||"Default";d.ArrayUtils.is(a[e])||(a[e]=[]),a[e].push(s.stateNode)}}else a.push(s.stateNode)}else p=s.stateNode;if(void 0===p){let t=Object.getOwnPropertyNames(s);for(let i=0;void 0===p&&i<t.length;i++){let o=t[i];o&&l[o]&&("object"==typeof s[o]||"function"==typeof s[o])&&(p=e(s[o]))}}}i--;return p}(s);if(t.all){for(let e in a)if(t.group)for(let t in a[e])delete a[e][t].BDFDBreactSearch;else delete a[e].BDFDBreactSearch;return a}return p},d.ReactUtils.findParent=function(e,t){if(!(e&&d.ObjectUtils.is(t)&&(t.name||t.key||t.props||t.filter)))return[null,-1];let s=Node.prototype.isPrototypeOf(e)?d.ReactUtils.getInstance(e):e;if(!d.ObjectUtils.is(s)&&!d.ArrayUtils.is(s)||s.props&&"function"==typeof s.props.children)return[null,-1];t.name=t.name&&[t.name].flat().filter(e=>e),t.key=t.key&&[t.key].flat().filter(e=>e),t.props=t.props&&[t.props].flat().filter(e=>e),t.filter="function"==typeof t.filter&&t.filter;let i=firstArray=s;for(;!d.ArrayUtils.is(firstArray)&&firstArray.props&&firstArray.props.children;)firstArray=firstArray.props.children;return d.ArrayUtils.is(firstArray)||(i&&i.props?(i.props.children=[i.props.children],firstArray=i.props.children):firstArray=[]),function e(t){let s=[firstArray,-1];if(!t)return s;if(d.ArrayUtils.is(t))for(let r=0;-1==s[1]&&r<t.length;r++)t[r]&&(d.ArrayUtils.is(t[r])?(i=t,s=e(t[r])):n(t[r])?(i=t,s=o(t[r])):t[r].props&&t[r].props.children&&(i=t[r],s=e(t[r].props.children)));else n(t)?s=o(t):t.props&&t.props.children&&(i=t,s=e(t.props.children));return s}(s);function o(e){return d.ArrayUtils.is(i)?[i,i.indexOf(e)]:(i.props.children=[],i.props.children.push(e),[i.props.children,0])}function n(e){if(!e)return!1;let s=e.stateNode?e.stateNode.props:e.props;return e.type&&t.name&&t.name.some(t=>d.ReactUtils.isCorrectInstance(e,t))||t.key&&t.key.some(t=>e.key==t)||s&&t.props&&t.props[t.someProps?"some":"every"](e=>d.ArrayUtils.is(e)?d.ArrayUtils.is(e[1])?e[1].some(t=>r(s,e[0],t)):r(s,e[0],e[1]):void 0!==s[e])||t.filter&&t.filter(e)}function r(e,t,s){return null!=t&&null!=e[t]&&null!=s&&("className"==t?(" "+e[t]+" ").indexOf(" "+s+" ")>-1:d.equals(e[t],s))}},d.ReactUtils.findProps=function(e,t){if(!d.ObjectUtils.is(t))return null;if(!e||!t.name&&!t.key)return null;let s=Node.prototype.isPrototypeOf(e)?d.ReactUtils.getInstance(e):e;if(!d.ObjectUtils.is(s))return null;t.name=t.name&&[t.name].flat().filter(e=>e),t.key=t.key&&[t.key].flat().filter(e=>e);let i=-1,o=performance.now(),n=t.unlimited?999999999:void 0===t.depth?30:t.depth,r=t.unlimited?999999999:void 0===t.time?150:t.time,l=t.up?{return:!0,sibling:!0,default:!0}:{child:!0,sibling:!0,default:!0};return l[d.ReactUtils.instanceKey]=!0,function e(s){i++;let a=void 0;if(s&&!Node.prototype.isPrototypeOf(s)&&!d.ReactUtils.getInstance(s)&&i<n&&performance.now()-o<r&&(s.memoizedProps&&(s.type&&t.name&&t.name.some(e=>d.ReactUtils.isCorrectInstance(s,e.split(" _ _ ")[0]))||t.key&&t.key.some(e=>s.key==e))&&(a=s.memoizedProps),void 0===a)){let t=Object.getOwnPropertyNames(s);for(let i=0;void 0===a&&i<t.length;i++){let o=t[i];o&&l[o]&&("object"==typeof s[o]||"function"==typeof s[o])&&(a=e(s[o]))}}i--;return a}(s)},d.ReactUtils.findValue=function(e,t,s={}){if(!d.ObjectUtils.is(s))return null;if(!e||"string"!=typeof t)return s.all?[]:null;let i=Node.prototype.isPrototypeOf(e)?d.ReactUtils.getInstance(e):e;if(!d.ObjectUtils.is(i))return s.all?[]:null;i=i[d.ReactUtils.instanceKey]||i;let o=-1,n=performance.now(),r=s.unlimited?999999999:void 0===s.depth?30:s.depth,l=s.unlimited?999999999:void 0===s.time?150:s.time,a={props:!0,state:!0,stateNode:!0,updater:!0,prototype:!0,type:!0,children:!s.up,memoizedProps:!0,memoizedState:!0,child:!s.up,return:!!s.up,sibling:!s.up},p={contextSection:!0};d.ObjectUtils.is(s.whitelist)&&Object.assign(a,s.whiteList),d.ObjectUtils.is(s.blacklist)&&Object.assign(p,s.blacklist);let c=[],u=function e(i){o++;let u=void 0;if(i&&!Node.prototype.isPrototypeOf(i)&&!d.ReactUtils.getInstance(i)&&o<r&&performance.now()-n<l){let o=Object.getOwnPropertyNames(i);for(let n=0;void 0===u&&n<o.length;n++){let r=o[n];if(r&&!p[r]){let o=i[r];if(t!==r||void 0!==s.value&&!d.equals(s.value,o))"object"!=typeof o&&"function"!=typeof o||!a[r]&&"."!=r[0]&&isNaN(r[0])||(u=e(o));else if(void 0!==s.all&&s.all){if(s.all)if(void 0!==s.noCopies&&s.noCopies){if(s.noCopies){let e=!1;for(let t of c)if(d.equals(o,t)){e=!0;break}e||c.push(o)}}else c.push(o)}else u=o}}}o--;return u}(i);return s.all?c:u},d.ReactUtils.forceUpdate=function(...e){for(let t of e.flat(10).filter(e=>e))t.updater&&"function"==typeof t.updater.isMounted&&t.updater.isMounted(t)&&t.forceUpdate()},d.ReactUtils.getInstance=function(e){return d.ObjectUtils.is(e)?e[Object.keys(e).find(e=>e.startsWith("__reactInternalInstance")||e.startsWith("__reactFiber"))]:null},d.ReactUtils.isCorrectInstance=function(e,t){return e&&(e.type&&(e.type.render&&e.type.render.displayName===t||e.type.displayName===t||e.type.name===t||e.type===t)||e.render&&(e.render.displayName===t||e.render.name===t)||e.displayName==t||e.name===t)},d.ReactUtils.render=function(e,t){if(d.ReactUtils.isValidElement(e)&&Node.prototype.isPrototypeOf(t))try{n.ReactDOM.render(e,t);let s=new MutationObserver(e=>e.forEach(e=>{let i=Array.from(e.removedNodes);(i.indexOf(t)>-1||i.some(e=>e.contains(t)))&&(s.disconnect(),d.ReactUtils.unmountComponentAtNode(t))}));s.observe(document.body,{subtree:!0,childList:!0})}catch(e){d.LogUtils.error("Could not render react element! "+e)}},d.MessageUtils={},d.MessageUtils.rerenderAll=function(e){d.TimeUtils.clear(D),D=d.TimeUtils.timeout(e=>{let t=d.LibraryModules.ChannelStore.getChannel(d.LibraryModules.LastChannelStore.getChannelId());t&&(d.DMUtils.isDMChannel(t)?d.DMUtils.markAsRead(t):d.ChannelUtils.markAsRead(t));let s=d.ReactUtils.findOwner(document.querySelector(d.dotCN.messageswrapper),{name:"LayerProvider",unlimited:!0,up:!0}),i=d.ObjectUtils.get(s,`${d.ReactUtils.instanceKey}.type.prototype`);s&&i&&(d.PatchUtils.patch(d,i,"render",{after:e=>{e.returnValue.props.children=[]}},{once:!0}),d.ReactUtils.forceUpdate(s))},e?0:1e3)},d.MessageUtils.openMenu=function(e,t=b,s=!1){if(!e)return;let i=n.ChannelStore.getChannel(e.channel_id);i&&n.ContextMenuUtils.openContextMenu(t,function(t){return d.ReactUtils.createElement((d.ModuleUtils.findByName(s?"MessageSearchResultContextMenu":"MessageContextMenu",!1)||{exports:{}}).exports.default,Object.assign({},t,{message:e,channel:i}))})},d.UserUtils={},d.UserUtils.is=function(e){return e&&e instanceof d.DiscordObjects.User};var M=n.CurrentUserStore&&n.CurrentUserStore.getCurrentUser();let R,w;d.UserUtils.me=new Proxy(M||{},{get:function(e,t){return(M=n.CurrentUserStore.getCurrentUser())&&M[t]}}),d.UserUtils.getStatus=function(e=d.UserUtils.me.id){e="number"==typeof e?e.toFixed():e;let t=d.UserUtils.getActivity(e);return t&&t.type==d.DiscordConstants.ActivityTypes.STREAMING?"streaming":n.StatusMetaUtils.getStatus(e)},d.UserUtils.getStatusColor=function(e,t){switch(e="string"==typeof e?e.toLowerCase():null){case"online":case"mobile":return d.DiscordConstants.Colors.STATUS_GREEN;case"idle":return d.DiscordConstants.Colors.STATUS_YELLOW;case"dnd":return d.DiscordConstants.Colors.STATUS_RED;case"playing":return t?d.DiscordConstants.Colors.BRAND:"var(--bdfdb-blurple)";case"listening":return d.DiscordConstants.Colors.SPOTIFY;case"streaming":return d.DiscordConstants.Colors.TWITCH;default:return d.DiscordConstants.Colors.STATUS_GREY}},d.UserUtils.getActivity=function(e=d.UserUtils.me.id){for(let t of n.StatusMetaUtils.getActivities(e))if(t.type!=d.DiscordConstants.ActivityTypes.CUSTOM_STATUS)return t;return null},d.UserUtils.getAvatar=function(e=d.UserUtils.me.id){let t=n.UserStore.getUser("number"==typeof e?e.toFixed():e);return t?((t.avatar?"":window.location.origin)+n.IconUtils.getUserAvatarURL(t)).split("?")[0]:window.location.origin+"/assets/322c936a8c8be1b803cd94861bdfa868.png"},d.UserUtils.can=function(e,t=d.UserUtils.me.id,s=n.LastChannelStore.getChannelId()){if(d.DiscordConstants.Permissions[e]){let i=n.ChannelStore.getChannel(s);if(i)return n.PermissionRoleUtils.can(d.DiscordConstants.Permissions[e],t,i)}else d.LogUtils.warn(e+" not found in Permissions");return!1},d.UserUtils.openMenu=function(e,t,s=b){if(!e||!t)return;let i=n.UserStore.getUser(e);i&&n.ContextMenuUtils.openContextMenu(s,function(e){return d.ReactUtils.createElement((d.ModuleUtils.findByName("GuildChannelUserContextMenu",!1)||{exports:{}}).exports.default,Object.assign({},e,{user:i,guildId:t}))})},d.GuildUtils={},d.GuildUtils.is=function(e){if(!d.ObjectUtils.is(e))return!1;let t=Object.keys(e);return e instanceof d.DiscordObjects.Guild||Object.keys(new d.DiscordObjects.Guild({})).every(e=>t.indexOf(e)>-1)},d.GuildUtils.getIcon=function(e){let t=n.GuildStore.getGuild("number"==typeof e?e.toFixed():e);return t&&t.icon?n.IconUtils.getGuildIconURL(t).split("?")[0]:null},d.GuildUtils.getBanner=function(e){let t=n.GuildStore.getGuild("number"==typeof e?e.toFixed():e);return t&&t.banner?n.IconUtils.getGuildBannerURL(t).split("?")[0]:null},d.GuildUtils.getFolder=function(e){return d.LibraryModules.FolderStore.guildFolders.filter(e=>e.folderId).find(t=>t.guildIds.includes(e))},d.GuildUtils.getId=function(e){if(!Node.prototype.isPrototypeOf(e)||!d.ReactUtils.getInstance(e))return;let t=d.DOMUtils.getParent(d.dotCN.guildouter,e);if(!t)return;let s=t.querySelector(d.dotCN.guildiconwrapper),i=s&&s.href?s.href.split("/").slice(-2)[0]:null;return i&&!isNaN(parseInt(i))?i.toString():null},d.GuildUtils.getData=function(e){if(!e)return null;let t=Node.prototype.isPrototypeOf(e)?d.GuildUtils.getId(e):"object"==typeof e?e.id:e;t="number"==typeof t?t.toFixed():t;for(let e of d.GuildUtils.getAll())if(e&&e.id==t)return e;return null},d.GuildUtils.getAll=function(){let e=[],t=[];for(let e of d.ReactUtils.findOwner(document.querySelector(d.dotCN.guilds),{name:["Guild","GuildIcon"],all:!0,unlimited:!0}))e.props&&e.props.guild&&t.push(Object.assign(new e.props.guild.constructor(e.props.guild),{div:e.handleContextMenu&&d.ReactUtils.findDOMNode(e),instance:e}));for(let s of d.LibraryModules.FolderStore.getFlattenedGuildIds()){let i=null;for(let e of t)if(e.id==s){i=e;break}if(i)e.push(i);else{let t=d.LibraryModules.GuildStore.getGuild(s);t&&e.push(Object.assign(new t.constructor(t),{div:null,instance:null}))}}return e},d.GuildUtils.getUnread=function(e){let t=[];for(let s of void 0!==e&&d.ArrayUtils.is(e)?e:d.GuildUtils.getAll()){if(!s)return null;let e=Node.prototype.isPrototypeOf(s)?d.GuildUtils.getId(s):"object"==typeof s?s.id:s;(e="number"==typeof e?e.toFixed():e)&&(n.UnreadGuildUtils.hasUnread(e)||n.UnreadGuildUtils.getMentionCount(e)>0)&&t.push(s)}return t},d.GuildUtils.getPinged=function(e){let t=[];for(let s of void 0!==e&&d.ArrayUtils.is(e)?e:d.GuildUtils.getAll()){if(!s)return null;let e=Node.prototype.isPrototypeOf(s)?d.GuildUtils.getId(s):"object"==typeof s?s.id:s;(e="number"==typeof e?e.toFixed():e)&&n.UnreadGuildUtils.getMentionCount(e)>0&&t.push(s)}return t},d.GuildUtils.getMuted=function(e){let t=[];for(let s of void 0!==e&&d.ArrayUtils.is(e)?e:d.GuildUtils.getAll()){if(!s)return null;let e=Node.prototype.isPrototypeOf(s)?d.GuildUtils.getId(s):"object"==typeof s?s.id:s;(e="number"==typeof e?e.toFixed():e)&&n.MutedUtils.isGuildOrCategoryOrChannelMuted(e)&&t.push(s)}return t},d.GuildUtils.getSelected=function(){let e=n.GuildStore.getGuild(n.LastGuildStore.getGuildId());return e?d.GuildUtils.getData(e.id)||Object.assign(new e.constructor(e),{div:null,instance:null}):null},d.GuildUtils.openMenu=function(e,t=b){if(!e)return;let s=Node.prototype.isPrototypeOf(e)?d.GuildUtils.getId(e):"object"==typeof e?e.id:e,i=n.GuildStore.getGuild(s);i&&n.ContextMenuUtils.openContextMenu(t,function(e){return d.ReactUtils.createElement((d.ModuleUtils.findByName("GuildContextMenu",!1)||{exports:{}}).exports.default,Object.assign({},e,{guild:i}))})},d.GuildUtils.markAsRead=function(e){if(!e)return;let t=[];for(let s of[e].map(e=>NodeList.prototype.isPrototypeOf(e)?Array.from(e):e).flat(10).filter(e=>e)){let e=Node.prototype.isPrototypeOf(s)?d.GuildUtils.getId(s):s&&"object"==typeof s?s.id:s,i=e&&n.GuildChannelStore.getChannels(e);if(i)for(let e in i)if(d.ArrayUtils.is(i[e]))for(let s of i[e])t.push(s.channel.id)}t.length&&d.ChannelUtils.markAsRead(t)},d.GuildUtils.rerenderAll=function(e){d.TimeUtils.clear(R),R=d.TimeUtils.timeout(e=>{let t=d.ReactUtils.findOwner(document.querySelector(d.dotCN.app),{name:"Guilds",unlimited:!0}),s=d.ObjectUtils.get(t,`${d.ReactUtils.instanceKey}.type.prototype`);if(t&&s){let e=e=>{let[s,i]=d.ReactUtils.findParent(e,{name:"ConnectedUnreadDMs"});i>-1&&s.splice(i+1,0,d.ReactUtils.createElement("div",{})),d.ReactUtils.forceUpdate(t)};d.PatchUtils.patch(d,s,"render",{after:t=>{if("function"==typeof t.returnValue.props.children){let s=t.returnValue.props.children;t.returnValue.props.children=((...t)=>{let i=s(...t);return e(i),i})}else e(t.returnValue)}},{once:!0}),d.ReactUtils.forceUpdate(t)}},e?0:1e3)},d.FolderUtils={},d.FolderUtils.getId=function(e){if(Node.prototype.isPrototypeOf(e)&&d.ReactUtils.getInstance(e)&&(e=d.DOMUtils.getParent(d.dotCN.guildfolderwrapper,e)))return d.ReactUtils.findValue(e,"folderId",{up:!0})},d.FolderUtils.getDefaultName=function(e){let t=d.LibraryModules.FolderStore.getGuildFolderById(e);if(!t)return"";let s=2*d.DiscordConstants.MAX_GUILD_FOLDER_NAME_LENGTH,i=[],o=t.guildIds.map(e=>(d.LibraryModules.GuildStore.getGuild(e)||{}).name).filter(e=>e);for(let e of o)(e.length<s||0===i.length)&&(i.push(e),s-=e.length);return i.join(", ")+(i.length<o.length?", ...":"")},d.FolderUtils.getDiv=function(e){if(!e)return null;let t=d.FolderUtils.getData(e);return t?t.div:null},d.FolderUtils.getData=function(e){if(!e)return null;let t=Node.prototype.isPrototypeOf(e)?d.FolderUtils.getId(e):"object"==typeof e?e.id:e;t="number"==typeof t?t.toFixed():t;for(let e of d.FolderUtils.getAll())if(e&&e.folderId==t)return e;return null},d.FolderUtils.getAll=function(){let e=[];for(let t of d.ReactUtils.findOwner(document.querySelector(d.dotCN.guildswrapper),{name:"GuildFolder",all:!0,unlimited:!0}))t.props&&t.props.folderId&&e.push(Object.assign({},t.props,{div:d.ReactUtils.findDOMNode(t),instance:t}));return e},d.ChannelUtils={},d.ChannelUtils.is=function(e){if(!d.ObjectUtils.is(e))return!1;let t=Object.keys(e);return e instanceof d.DiscordObjects.Channel||Object.keys(new d.DiscordObjects.Channel({})).every(e=>t.indexOf(e)>-1)},d.ChannelUtils.isTextChannel=function(e){let t="string"==typeof e?n.ChannelStore.getChannel(e):e;return d.ObjectUtils.is(t)&&(t.type==d.DiscordConstants.ChannelTypes.GUILD_TEXT||t.type==d.DiscordConstants.ChannelTypes.GUILD_STORE||t.type==d.DiscordConstants.ChannelTypes.GUILD_ANNOUNCEMENT)},d.ChannelUtils.getId=function(e){if(!Node.prototype.isPrototypeOf(e)||!d.ReactUtils.getInstance(e))return;if(!(e=d.DOMUtils.getParent(d.dotCNC.categorycontainerdefault+d.dotCNC.channelcontainerdefault+d.dotCN.dmchannel,e)))return;let t=d.ReactUtils.findValue(e,"channel");return t?t.id.toString():null},d.ChannelUtils.getDiv=function(e){if(!e)return null;let t=d.ChannelUtils.getData(e);return t?t.div:null},d.ChannelUtils.getData=function(e){if(!e)return null;let t=Node.prototype.isPrototypeOf(e)?d.ChannelUtils.getId(e):"object"==typeof e?e.id:e;t="number"==typeof t?t.toFixed():t;for(let e of d.ChannelUtils.getAll())if(e&&e.id==t)return e;return null},d.ChannelUtils.getName=function(e,t){let s=d.LibraryModules.ChannelStore.getChannel(e);if(!s)return"";switch(s.type){case d.DiscordConstants.ChannelTypes.DM:let e=s.recipients.map(d.LibraryModules.UserStore.getUser).filter(e=>e)[0];return(t?"@":"")+(e&&e.toString()||"");case d.DiscordConstants.ChannelTypes.GROUP_DM:if(s.name)return s.name;let i=s.recipients.map(d.LibraryModules.UserStore.getUser).filter(e=>e);return i.length>0?i.map(e=>e.toString).join(", "):d.LanguageUtils.LanguageStrings.UNNAMED;case d.DiscordConstants.ChannelTypes.GUILD_ANNOUNCEMENT:case d.DiscordConstants.ChannelTypes.GUILD_TEXT:return(t?"#":"")+s.name;default:return s.name}},d.ChannelUtils.getAll=function(){let e=[];for(let t of d.ReactUtils.findOwner(document.querySelector(d.dotCN.channels),{name:["ChannelCategoryItem","ChannelItem","PrivateChannel"],all:!0,unlimited:!0}))if(t.props&&!t.props.ispin&&t.props.channel&&t[d.ReactUtils.instanceKey]&&t[d.ReactUtils.instanceKey].return){let s=d.ReactUtils.findDOMNode(t);s=s&&d.DOMUtils.containsClass(s.parentElement,d.disCN.categorycontainerdefault,d.disCN.channelcontainerdefault,!1)?s.parentElement:s,e.push(Object.assign(new t.props.channel.constructor(t.props.channel),{div:s,instance:t}))}return e},d.ChannelUtils.getSelected=function(){let e=n.ChannelStore.getChannel(n.LastChannelStore.getChannelId());return e?d.ChannelUtils.getData(e.id)||Object.assign(new e.constructor(e),{div:null,instance:null}):null},d.ChannelUtils.markAsRead=function(e){if(!e)return;let t=[];for(let s of[e].map(e=>NodeList.prototype.isPrototypeOf(e)?Array.from(e):e).flat(10).filter(e=>e)){let e=Node.prototype.isPrototypeOf(s)?d.ChannelUtils.getId(s):s&&"object"==typeof s?s.id:s;e&&d.ChannelUtils.isTextChannel(e)&&t.push({channelId:e,messageId:n.UnreadChannelUtils.lastMessageId(e)})}t.length&&n.AckUtils.bulkAck(t)},d.ChannelUtils.rerenderAll=function(e){d.TimeUtils.clear(w),w=d.TimeUtils.timeout(e=>{let t=d.ReactUtils.findOwner(document.querySelector(d.dotCN.guildchannels),{name:"Channels",unlimited:!0}),s=d.ObjectUtils.get(t,`${d.ReactUtils.instanceKey}.type.prototype`);t&&s&&(d.PatchUtils.patch(d,s,"render",{after:e=>{e.returnValue.props.children="function"==typeof e.returnValue.props.children?e=>null:[],d.ReactUtils.forceUpdate(t)}},{once:!0}),d.ReactUtils.forceUpdate(t))},e?0:1e3)},d.DMUtils={},d.DMUtils.isDMChannel=function(e){let t="string"==typeof e?n.ChannelStore.getChannel(e):e;return d.ObjectUtils.is(t)&&(t.type==d.DiscordConstants.ChannelTypes.DM||t.type==d.DiscordConstants.ChannelTypes.GROUP_DM)},d.DMUtils.getIcon=function(e){let t=n.ChannelStore.getChannel(e="number"==typeof e?e.toFixed():e);return t?t.icon?n.IconUtils.getChannelIconURL(t).split("?")[0]:1==t.type?d.UserUtils.getAvatar(t.recipients[0]):3==t.type?window.location.origin+n.IconUtils.getChannelIconURL(t).split("?")[0]:null:null},d.DMUtils.getId=function(e){if(!Node.prototype.isPrototypeOf(e)||!d.ReactUtils.getInstance(e))return;let t=d.DOMUtils.getParent(d.dotCN.guildouter,e);if(!t)return;let s=t.querySelector(d.dotCN.guildiconwrapper),i=s&&s.href?s.href.split("/").slice(-1)[0]:null;return i&&!isNaN(parseInt(i))?i.toString():null},d.DMUtils.getDiv=function(e){if(!e)return null;if(Node.prototype.isPrototypeOf(e))return(t=d.DOMUtils.getParent(d.dotCN.guildouter,e))?t.parentElement:t;{let s="object"==typeof e?e.id:e;var t;if(s)return(t=d.DOMUtils.getParent(d.dotCN.guildouter,document.querySelector(`${d.dotCNS.guilds+d.dotCN.dmpill+" + * "+d.dotCN.guildiconwrapper}[href*="/channels/@me/${s}"]`)))&&d?t.parentElement:t}return null},d.DMUtils.getData=function(e){if(!e)return null;let t=Node.prototype.isPrototypeOf(e)?d.BDFDB.DMUtils.getId(e):"object"==typeof e?e.id:e;t="number"==typeof t?t.toFixed():t;for(let e of d.DMUtils.getAll())if(e&&e.id==t)return e;return null},d.DMUtils.getAll=function(){let e=[];for(let t of d.ReactUtils.findOwner(document.querySelector(d.dotCN.guilds),{name:"DirectMessage",all:!0,unlimited:!0}))t.props&&t.props.channel&&e.push(Object.assign(new t.props.channel.constructor(t.props.channel),{div:d.ReactUtils.findDOMNode(t),instance:t}));return e},d.DMUtils.openMenu=function(e,t=b){if(!e)return;let s=Node.prototype.isPrototypeOf(e)?d.ChannelUtils.getId(e):"object"==typeof e?e.id:e,i=n.ChannelStore.getChannel(s);i&&(i.isMultiUserDM()?n.ContextMenuUtils.openContextMenu(t,function(e){return d.ReactUtils.createElement((d.ModuleUtils.findByName("GroupDMContextMenu",!1)||{exports:{}}).exports.default,Object.assign({},e,{channel:i,selected:i.id==n.LastChannelStore.getChannelId()}))}):n.ContextMenuUtils.openContextMenu(t,function(e){return d.ReactUtils.createElement((d.ModuleUtils.findByName("DMUserContextMenu",!1)||{exports:{}}).exports.default,Object.assign({},e,{user:n.UserStore.getUser(i.recipients[0]),channel:i,selected:i.id==n.LastChannelStore.getChannelId()}))}))},d.DMUtils.markAsRead=function(e){if(!e)return;let t=[];for(let s of[e].map(e=>NodeList.prototype.isPrototypeOf(e)?Array.from(e):e).flat(10).filter(e=>e)){let e=Node.prototype.isPrototypeOf(s)?d.BDFDB.DMUtils.getId(s):s&&"object"==typeof s?s.id:s;e&&t.push(e)}for(let e in t)d.TimeUtils.timeout(s=>{n.AckUtils.ack(t[e])},1e3*e)},u.writeConfig=function(e,t){try{o.fs.writeFileSync(e,JSON.stringify(t,null,"\t"))}catch(e){}},u.readConfig=function(e){try{return JSON.parse(o.fs.readFileSync(e))}catch(e){return{}}},d.DataUtils={},d.DataUtils.save=function(e,t,s,i){let n="string"==typeof(t=t==d&&u||t)?t:t.name,r="BDFDB"==n?"0BDFDB":n,a=o.path.join(d.BDUtils.getPluginsFolder(),r+".config.json"),p=void 0!==l.data[n]?l.data[n]:u.readConfig(a)||{};void 0===s?p=d.ObjectUtils.is(e)?d.ObjectUtils.sort(e):e:void 0===i?p[s]=d.ObjectUtils.is(e)?d.ObjectUtils.sort(e):e:(d.ObjectUtils.is(p[s])||(p[s]={}),p[s][i]=d.ObjectUtils.is(e)?d.ObjectUtils.sort(e):e);let c=d.ObjectUtils.is(p);void 0!==s&&c&&d.ObjectUtils.is(p[s])&&d.ObjectUtils.isEmpty(p[s])&&delete p[s],d.ObjectUtils.isEmpty(p)?(delete l.data[n],o.fs.existsSync(a)&&o.fs.unlinkSync(a)):(c&&(p=d.ObjectUtils.sort(p)),l.data[n]=c?d.ObjectUtils.deepAssign({},p):p,u.writeConfig(a,p))},d.DataUtils.load=function(e,t,s){let i="string"==typeof(e=e==d&&u||e)?e:e.name,n="BDFDB"==i?"0BDFDB":i,r=o.path.join(d.BDUtils.getPluginsFolder(),n+".config.json"),a=void 0!==l.data[i]?l.data[i]:u.readConfig(r)||{},p=d.ObjectUtils.is(a);if(l.data[i]=p?d.ObjectUtils.deepAssign({},a):a,void 0===t)return a;{let e=p?d.ObjectUtils.is(a[t])||null==a[t]?d.ObjectUtils.deepAssign({},a[t]):a[t]:null;return void 0===s?e:d.ObjectUtils.is(e)&&void 0!==e[s]?e[s]:null}},d.DataUtils.remove=function(e,t,s){let i="string"==typeof(e=e==d&&u||e)?e:e.name,n="BDFDB"==i?"0BDFDB":i,r=o.path.join(d.BDUtils.getPluginsFolder(),n+".config.json"),a=void 0!==l.data[i]?l.data[i]:u.readConfig(r)||{},p=d.ObjectUtils.is(a);void 0!==t&&p?void 0===s?delete a[t]:d.ObjectUtils.is(a[t])&&delete a[t][s]:a={},d.ObjectUtils.is(a[t])&&d.ObjectUtils.isEmpty(a[t])&&delete a[t],d.ObjectUtils.isEmpty(a)?(delete l.data[i],o.fs.existsSync(r)&&o.fs.unlinkSync(r)):(p&&(a=d.ObjectUtils.sort(a)),l.data[i]=p?d.ObjectUtils.deepAssign({},a):a,u.writeConfig(r,a))},d.DataUtils.get=function(e,t,s){if(e="string"==typeof(e=e==d&&u||e)?d.BDUtils.getPlugin(e):e,!d.ObjectUtils.is(e))return void 0===s?{}:null;let i=e.defaults;if(!d.ObjectUtils.is(i)||!i[t])return void 0===s?{}:null;let o=d.DataUtils.load(e,t),n={},r=!1;for(let e in i[t]){let s=d.ObjectUtils.is(i[t][e].value);null==o[e]||s&&(!d.ObjectUtils.is(o[e])||Object.keys(i[t][e].value).some(s=>null!=i[t][e].value[s]&&!d.sameProto(i[t][e].value[s],o[e][s])))?(n[e]=s?d.ObjectUtils.deepAssign({},i[t][e].value):i[t][e].value,r=!0):n[e]=o[e]}return r&&d.DataUtils.save(n,e,t),void 0===s?n:void 0===n[s]?null:n[s]},d.ColorUtils={},d.ColorUtils.convert=function(e,t,s){if(d.ObjectUtils.is(e)){var i={};for(let o in e)i[o]=d.ColorUtils.convert(e[o],t,s);return i}if(t=void 0!==t&&t?t.toUpperCase():t="RGBCOMP",s=void 0!==s&&s&&["RGB","RGBA","RGBCOMP","HSL","HSLA","HSLCOMP","HEX","HEXA","INT"].includes(s.toUpperCase())?s.toUpperCase():d.ColorUtils.getType(e),"RGBCOMP"==t)switch(s){case"RGBCOMP":if(3==e.length)return L(e);if(4==e.length){let t=O(e.pop());return L(e).concat(t)}break;case"RGB":return L(e.replace(/\s/g,"").slice(4,-1).split(","));case"RGBA":let t=e.replace(/\s/g,"").slice(5,-1).split(","),i=O(t.pop());return L(t).concat(i);case"HSLCOMP":if(3==e.length)return d.ColorUtils.convert(`hsl(${D(e).join(",")})`,"RGBCOMP");if(4==e.length){let t=O(e.pop());return d.ColorUtils.convert(`hsl(${D(e).join(",")})`,"RGBCOMP").concat(t)}break;case"HSL":var o,n,r,l,a,p=(u=D(e.replace(/\s/g,"").slice(4,-1).split(",")))[0]/360,c=parseInt(u[1])/100;switch(r=(N=parseInt(u[2])/100)*(1-c),l=N*(1-(n=6*p-(o=Math.floor(6*p)))*c),a=N*(1-(1-n)*c),o%6){case 0:f=N,g=a,C=r;break;case 1:f=l,g=N,C=r;break;case 2:f=r,g=N,C=a;break;case 3:f=r,g=l,C=N;break;case 4:f=a,g=r,C=N;break;case 5:f=N,g=r,C=l}return[Math.round(255*f),Math.round(255*g),Math.round(255*C)];case"HSLA":var u=e.replace(/\s/g,"").slice(5,-1).split(",");return d.ColorUtils.convert(`hsl(${u.slice(0,3).join(",")})`,"RGBCOMP").concat(O(u.pop()));case"HEX":var h=/^#([a-f\d]{1})([a-f\d]{1})([a-f\d]{1})$|^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return[parseInt(h[1]+h[1]||h[4],16).toString(),parseInt(h[2]+h[2]||h[5],16).toString(),parseInt(h[3]+h[3]||h[6],16).toString()];case"HEXA":h=/^#([a-f\d]{1})([a-f\d]{1})([a-f\d]{1})([a-f\d]{1})$|^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return[parseInt(h[1]+h[1]||h[5],16).toString(),parseInt(h[2]+h[2]||h[6],16).toString(),parseInt(h[3]+h[3]||h[7],16).toString(),Math.floor(d.NumberUtils.mapRange([0,255],[0,100],parseInt(h[4]+h[4]||h[8],16).toString()))/100];case"INT":return[((e=M(e))>>16&255).toString(),(e>>8&255).toString(),(255&e).toString()];default:return null}else if(t&&s&&0==t.indexOf("HSL")&&0==s.indexOf("HSL")){if("HSLCOMP"!=s)return d.ColorUtils.convert(e.replace(/\s/g,"").slice(0==e.toLowerCase().indexOf("hsla")?5:4,-1).split(","),t,"HSLCOMP");switch(t){case"HSLCOMP":if(3==e.length)return D(e);if(4==e.length){var m=O(e.pop());return D(e).concat(m)}break;case"HSL":return`hsl(${D(e.slice(0,3)).join(",")})`;case"HSLA":m=4==(e=e.slice(0,4)).length?O(e.pop()):1;return`hsla(${D(e).concat(m).join(",")})`}}else{let i="RGBCOMP"==s?e:d.ColorUtils.convert(e,"RGBCOMP",s);if(i)switch(t){case"RGB":return`rgb(${L(i.slice(0,3)).join(",")})`;case"RGBA":m=4==(i=i.slice(0,4)).length?O(i.pop()):1;return`rgba(${L(i).concat(m).join(",")})`;case"HSLCOMP":m=4==i.length?O(i.pop()):null,u=D(d.ColorUtils.convert(i,"HSL").replace(/\s/g,"").split(","));return null!=m?u.concat(m):u;case"HSL":var f=v(i[0]),g=v(i[1]),C=v(i[2]),y=Math.max(f,g,C),U=Math.min(f,g,C),b=y-U,N=(c=0===y?0:b/y,y/255);switch(y){case U:p=0;break;case f:p=g-C+b*(g<C?6:0),p/=6*b;break;case g:p=C-f+2*b,p/=6*b;break;case C:p=f-g+4*b,p/=6*b}return`hsl(${D([Math.round(360*p),100*c,100*N]).join(",")})`;case"HSLA":m=4==i.length?O(i.pop()):1;return`hsla(${d.ColorUtils.convert(i,"HSL").slice(4,-1).split(",").concat(m).join(",")})`;case"HEX":return("#"+(16777216+(i[2]|i[1]<<8|i[0]<<16)).toString(16).slice(1)).toUpperCase();case"HEXA":return("#"+(16777216+(i[2]|i[1]<<8|i[0]<<16)).toString(16).slice(1)+(256+Math.round(d.NumberUtils.mapRange([0,100],[0,255],100*O(i[3])))).toString(16).slice(1)).toUpperCase();case"INT":return M(i[2]|i[1]<<8|i[0]<<16);default:return null}}return null;function v(e){return null==e?255:(e=parseInt(e.toString().replace(/[^0-9\-]/g,"")),isNaN(e)||e>255?255:e<0?0:e)}function L(e){return e.map(e=>v(e))}function O(e){return null==e?1:(e=((e=e.toString()).indexOf("%")>-1?.01:1)*parseFloat(e.replace(/[^0-9\.\-]/g,"")),isNaN(e)||e>1?1:e<0?0:e)}function D(e){let t=parseFloat(e.shift().toString().replace(/[^0-9\.\-]/g,""));return[t=isNaN(t)||t>360?360:t<0?0:t].concat(e.map(e=>(function(e){return null==e?"100%":(e=parseFloat(e.toString().replace(/[^0-9\.\-]/g,"")),(isNaN(e)||e>100?100:e<0?0:e)+"%")})(e)))}function M(e){return null==e?16777215:(e=parseInt(e.toString().replace(/[^0-9]/g,"")),isNaN(e)||e>16777215?16777215:e<0?0:e)}},d.ColorUtils.setAlpha=function(e,t,s){if(d.ObjectUtils.is(e)){var i={};for(let o in e)i[o]=d.ColorUtils.setAlpha(e[o],t,s);return i}var o=d.ColorUtils.convert(e,"RGBCOMP");return o?(t=((t=t.toString()).indexOf("%")>-1?.01:1)*parseFloat(t.replace(/[^0-9\.\-]/g,"")),t=isNaN(t)||t>1?1:t<0?0:t,o[3]=t,s="RGB"==(s=(s||d.ColorUtils.getType(e)).toUpperCase())||"HSL"==s||"HEX"==s?s+"A":s,d.ColorUtils.convert(o,s)):null},d.ColorUtils.getAlpha=function(e){var t=d.ColorUtils.convert(e,"RGBCOMP");if(t){if(3==t.length)return 1;if(4==t.length){let e=t[3].toString();return e=(e.indexOf("%")>-1?.01:1)*parseFloat(e.replace(/[^0-9\.\-]/g,"")),isNaN(e)||e>1?1:e<0?0:e}}return null},d.ColorUtils.change=function(e,t,s){if(t=parseFloat(t),null!=e&&"number"==typeof t&&!isNaN(t)){if(d.ObjectUtils.is(e)){var i={};for(let o in e)i[o]=d.ColorUtils.change(e[o],t,s);return i}var o=d.ColorUtils.convert(e,"RGBCOMP");if(o)return parseInt(t)!==t?(t=((t=t.toString()).indexOf("%")>-1?.01:1)*parseFloat(t.replace(/[^0-9\.\-]/g,"")),t=isNaN(t)?0:t,d.ColorUtils.convert([Math.round(o[0]*(1+t)),Math.round(o[1]*(1+t)),Math.round(o[2]*(1+t))],s||d.ColorUtils.getType(e))):d.ColorUtils.convert([Math.round(o[0]+t),Math.round(o[1]+t),Math.round(o[2]+t)],s||d.ColorUtils.getType(e))}return null},d.ColorUtils.invert=function(e,t){if(d.ObjectUtils.is(e)){var s={};for(let i in e)s[i]=d.ColorUtils.invert(e[i],t);return s}var i=d.ColorUtils.convert(e,"RGBCOMP");return i?d.ColorUtils.convert([255-i[0],255-i[1],255-i[2]],t||d.ColorUtils.getType(e)):null},d.ColorUtils.compare=function(e,t){return e&&t&&(e=d.ColorUtils.convert(e,"RGBA"),t=d.ColorUtils.convert(t,"RGBA"),e&&t)?d.equals(e,t):null},d.ColorUtils.isBright=function(e,t=160){return!!(e=d.ColorUtils.convert(e,"RGBCOMP"))&&parseInt(t)<Math.sqrt(.299*e[0]**2+.587*e[1]**2+.144*e[2]**2)},d.ColorUtils.getType=function(e){if(null!=e)if("object"!=typeof e||3!=e.length&&4!=e.length){if("string"==typeof e){if(/^#[a-f\d]{3}$|^#[a-f\d]{6}$/i.test(e))return"HEX";if(/^#[a-f\d]{4}$|^#[a-f\d]{8}$/i.test(e))return"HEXA";var t=(e=e.toUpperCase()).replace(/[^0-9\.\-\,\%]/g,"").split(",");if(0==e.indexOf("RGB(")&&3==t.length&&s(t))return"RGB";if(0==e.indexOf("RGBA(")&&4==t.length&&s(t))return"RGBA";if(0==e.indexOf("HSL(")&&3==t.length&&i(t))return"HSL";if(0==e.indexOf("HSLA(")&&4==t.length&&i(t))return"HSLA"}else if("number"==typeof e&&parseInt(e)==e&&e>-1&&e<16777216)return"INT"}else{if(s(e))return"RGBCOMP";if(i(e))return"HSLCOMP"}return null;function s(e){return e.slice(0,3).every(e=>-1==e.toString().indexOf("%")&&parseFloat(e)==parseInt(e))}function i(e){return e.slice(1,3).every(e=>e.toString().indexOf("%")==e.length-1)}},d.ColorUtils.createGradient=function(e,t="to right"){let s="linear-gradient("+t;for(let t of Object.keys(e).sort()){let i=d.ColorUtils.convert(e[t],"RGBA");s+=i?`, ${i} ${100*t}%`:""}return s+")"},d.ColorUtils.getSwatchColor=function(e,t){if(!Node.prototype.isPrototypeOf(e))return;let s=e.querySelector(`${d.dotCN.colorpickerswatches}[number="${t}"], ${d.dotCN.colorpickerswatch}[number="${t}"]`);return s?d.ColorUtils.convert(d.ReactUtils.findValue(d.ReactUtils.getInstance(s),"selectedColor",{up:!0,blacklist:{props:!0}})):null},d.DOMUtils={},d.DOMUtils.getSelection=function(){let e=document.getSelection();return e&&e.anchorNode?e.getRangeAt(0).toString():""},d.DOMUtils.addClass=function(e,...t){if(e&&t)for(let t of[e].map(e=>NodeList.prototype.isPrototypeOf(e)?Array.from(e):e).flat(10).filter(e=>e))if(Node.prototype.isPrototypeOf(t))s(t);else if(NodeList.prototype.isPrototypeOf(t))for(let e of t)s(e);else if("string"==typeof t)for(let e of t.split(","))if(e&&(e=e.trim()))for(let t of document.querySelectorAll(e))s(t);function s(e){if(e&&e.classList)for(let s of t)for(let t of[s].flat(10).filter(e=>e))if("string"==typeof t)for(let s of t.split(" "))s&&e.classList.add(s)}},d.DOMUtils.removeClass=function(e,...t){if(e&&t)for(let t of[e].map(e=>NodeList.prototype.isPrototypeOf(e)?Array.from(e):e).flat(10).filter(e=>e))if(Node.prototype.isPrototypeOf(t))s(t);else if(NodeList.prototype.isPrototypeOf(t))for(let e of t)s(e);else if("string"==typeof t)for(let e of t.split(","))if(e&&(e=e.trim()))for(let t of document.querySelectorAll(e))s(t);function s(e){if(e&&e.classList)for(let s of t)for(let t of[s].flat(10).filter(e=>e))if("string"==typeof t)for(let s of t.split(" "))s&&e.classList.remove(s)}},d.DOMUtils.toggleClass=function(e,...t){if(e&&t){var s=t.pop();if("boolean"!=typeof s&&(t.push(s),s=void 0),t.length)for(let t of[e].map(e=>NodeList.prototype.isPrototypeOf(e)?Array.from(e):e).flat(10).filter(e=>e))if(Node.prototype.isPrototypeOf(t))i(t);else if(NodeList.prototype.isPrototypeOf(t))for(let e of t)i(e);else if("string"==typeof t)for(let e of t.split(","))if(e&&(e=e.trim()))for(let t of document.querySelectorAll(e))i(t)}function i(e){if(e&&e.classList)for(let i of t)for(let t of[i].flat(10).filter(e=>e))if("string"==typeof t)for(let i of t.split(" "))i&&e.classList.toggle(i,s)}},d.DOMUtils.containsClass=function(e,...t){if(!e||!t)return;let s=t.pop();if("boolean"!=typeof s&&(t.push(s),s=!0),!t.length)return;let i=void 0;for(let t of[e].map(e=>NodeList.prototype.isPrototypeOf(e)?Array.from(e):e).flat(10).filter(e=>e))if(Node.prototype.isPrototypeOf(t))o(t);else if(NodeList.prototype.isPrototypeOf(t))for(let e of t)o(e);else if("string"==typeof t)for(let e of t.split(","))if(e&&(e=e.trim()))for(let t of document.querySelectorAll(e))o(t);return i;function o(e){if(e&&e.classList)for(let o of t)if("string"==typeof o)for(let t of o.split(" "))t&&(void 0===i&&(i=s),s&&!e.classList.contains(t)&&(i=!1),!s&&e.classList.contains(t)&&(i=!0))}},d.DOMUtils.replaceClass=function(e,t,s){if(e&&"string"==typeof t&&"string"==typeof s)for(let t of[e].map(e=>NodeList.prototype.isPrototypeOf(e)?Array.from(e):e).flat(10).filter(e=>e))if(Node.prototype.isPrototypeOf(t))i(t);else if(NodeList.prototype.isPrototypeOf(t))for(let e of t)i(e);else if("string"==typeof t)for(let e of t.split(","))if(e&&(e=e.trim()))for(let t of document.querySelectorAll(e))i(t);function i(e){e&&e.tagName&&e.className&&(e.className=e.className.replace(new RegExp(t,"g"),s).trim())}},d.DOMUtils.formatClassName=function(...e){return d.ArrayUtils.removeCopies(e.flat(10).filter(e=>e).join(" ").split(" ")).join(" ").trim()},d.DOMUtils.removeClassFromDOM=function(...e){for(let t of e.flat(10).filter(e=>e))if("string"==typeof t)for(let e of t.split(","))e&&(e=e.replace(/\.|\s/g,""))&&d.DOMUtils.removeClass(document.querySelectorAll("."+e),e)},d.DOMUtils.show=function(...e){d.DOMUtils.toggle(...e,!0)},d.DOMUtils.hide=function(...e){d.DOMUtils.toggle(...e,!1)},d.DOMUtils.toggle=function(...e){if(!e)return;let t=e.pop();if("boolean"!=typeof t&&(e.push(t),t=void 0),e.length)for(let t of e.flat(10).filter(e=>e))if(Node.prototype.isPrototypeOf(t))s(t);else if(NodeList.prototype.isPrototypeOf(t))for(let e of t)s(e);else if("string"==typeof t)for(let e of t.split(","))if(e&&(e=e.trim()))for(let t of document.querySelectorAll(e))s(t);function s(e){if(!e||!Node.prototype.isPrototypeOf(e))return;if(void 0===t?!d.DOMUtils.isHidden(e):!t){let t=e.style.getPropertyValue("display");t&&"none"!=t&&(e.BDFDBhideDisplayState={display:t,important:0==(` ${e.style.cssText} `.split(` display: ${t}`)[1]||"").trim().indexOf("!important")}),e.style.setProperty("display","none","important")}else e.BDFDBhideDisplayState?(e.style.setProperty("display",e.BDFDBhideDisplayState.display,e.BDFDBhideDisplayState.important?"important":""),delete e.BDFDBhideDisplayState):e.style.removeProperty("display")}},d.DOMUtils.isHidden=function(e){if(Node.prototype.isPrototypeOf(e)&&e.nodeType!=Node.TEXT_NODE)return"none"==getComputedStyle(e,null).getPropertyValue("display")},d.DOMUtils.remove=function(...e){for(let t of e.flat(10).filter(e=>e))if(Node.prototype.isPrototypeOf(t))t.remove();else if(NodeList.prototype.isPrototypeOf(t)){let e=Array.from(t);for(;e.length;)e.shift().remove()}else if("string"==typeof t)for(let e of t.split(","))if(e&&(e=e.trim())){let t=Array.from(document.querySelectorAll(e));for(;t.length;)t.shift().remove()}},d.DOMUtils.create=function(e){if("string"!=typeof e||!e.trim())return null;let t=document.createElement("template");try{t.innerHTML=e.replace(/(?<!pre)>[\t\r\n]+<(?!pre)/g,"><")}catch(s){t.innerHTML=e.replace(/>[\t\r\n]+<(?!pre)/g,"><")}if(1==t.content.childNodes.length)return t.content.firstElementChild||t.content.firstChild;{let e=document.createElement("span"),s=Array.from(t.content.childNodes);for(;s.length;)e.appendChild(s.shift());return e}},d.DOMUtils.getParent=function(e,t){let s=null;if(Node.prototype.isPrototypeOf(t)&&e){let i=NodeList.prototype.isPrototypeOf(e)?e:"string"==typeof e?document.querySelectorAll(e):null;if(i)for(let e of i)if(e.contains(t)){s=e;break}}return s},d.DOMUtils.setText=function(e,t){if(!e||!Node.prototype.isPrototypeOf(e))return;let s=e.nodeType==Node.TEXT_NODE?e:null;if(!s)for(let t of e.childNodes)if(t.nodeType==Node.TEXT_NODE||d.DOMUtils.containsClass(t,"BDFDB-textnode")){s=t;break}s?Node.prototype.isPrototypeOf(t)&&t.nodeType!=Node.TEXT_NODE?(d.DOMUtils.addClass(t,"BDFDB-textnode"),e.replaceChild(t,s)):Node.prototype.isPrototypeOf(s)&&s.nodeType!=Node.TEXT_NODE?e.replaceChild(document.createTextNode(t),s):s.textContent=t:e.appendChild(Node.prototype.isPrototypeOf(t)?t:document.createTextNode(t))},d.DOMUtils.getText=function(e){if(e&&Node.prototype.isPrototypeOf(e))for(let t of e.childNodes)if(t.nodeType==Node.TEXT_NODE)return t.textContent},d.DOMUtils.getRects=function(e){let t={};if(Node.prototype.isPrototypeOf(e)&&e.nodeType!=Node.TEXT_NODE){let s=e;for(;s;){d.DOMUtils.isHidden(s)&&(d.DOMUtils.toggle(s,!0),s.BDFDBgetRectsHidden=!0),s=s.parentElement}for(t=e.getBoundingClientRect(),s=e;s;)s.BDFDBgetRectsHidden&&(d.DOMUtils.toggle(s,!1),delete s.BDFDBgetRectsHidden),s=s.parentElement}return t},d.DOMUtils.getHeight=function(e){if(Node.prototype.isPrototypeOf(e)&&e.nodeType!=Node.TEXT_NODE){let t=d.DOMUtils.getRects(e),s=getComputedStyle(e);return t.height+parseInt(s.marginTop)+parseInt(s.marginBottom)}return 0},d.DOMUtils.getInnerHeight=function(e){if(Node.prototype.isPrototypeOf(e)&&e.nodeType!=Node.TEXT_NODE){let t=d.DOMUtils.getRects(e),s=getComputedStyle(e);return t.height-parseInt(s.paddingTop)-parseInt(s.paddingBottom)}return 0},d.DOMUtils.getWidth=function(e){if(Node.prototype.isPrototypeOf(e)&&e.nodeType!=Node.TEXT_NODE){let t=d.DOMUtils.getRects(e),s=getComputedStyle(e);return t.width+parseInt(s.marginLeft)+parseInt(s.marginRight)}return 0},d.DOMUtils.getInnerWidth=function(e){if(Node.prototype.isPrototypeOf(e)&&e.nodeType!=Node.TEXT_NODE){let t=d.DOMUtils.getRects(e),s=getComputedStyle(e);return t.width-parseInt(s.paddingLeft)-parseInt(s.paddingRight)}return 0},d.DOMUtils.appendWebScript=function(e,t){if("string"!=typeof e)return;t||document.head.querySelector("bd-head bd-scripts")||document.head.appendChild(d.DOMUtils.create("<bd-head><bd-scripts></bd-scripts></bd-head>")),t=t||document.head.querySelector("bd-head bd-scripts")||document.head,t=Node.prototype.isPrototypeOf(t)?t:document.head,d.DOMUtils.removeWebScript(e,t);let s=document.createElement("script");s.src=e,t.appendChild(s)},d.DOMUtils.removeWebScript=function(e,t){"string"==typeof e&&(t=t||document.head.querySelector("bd-head bd-scripts")||document.head,t=Node.prototype.isPrototypeOf(t)?t:document.head,d.DOMUtils.remove(t.querySelectorAll(`script[src="${e}"]`)))},d.DOMUtils.appendWebStyle=function(e,t){"string"==typeof e&&(t||document.head.querySelector("bd-head bd-styles")||document.head.appendChild(d.DOMUtils.create("<bd-head><bd-styles></bd-styles></bd-head>")),t=t||document.head.querySelector("bd-head bd-styles")||document.head,t=Node.prototype.isPrototypeOf(t)?t:document.head,d.DOMUtils.removeWebStyle(e,t),t.appendChild(d.DOMUtils.create(`<link type="text/css" rel="Stylesheet" href="${e}"></link>`)))},d.DOMUtils.removeWebStyle=function(e,t){"string"==typeof e&&(t=t||document.head.querySelector("bd-head bd-styles")||document.head,t=Node.prototype.isPrototypeOf(t)?t:document.head,d.DOMUtils.remove(t.querySelectorAll(`link[href="${e}"]`)))},d.DOMUtils.appendLocalStyle=function(e,t,s){"string"==typeof e&&"string"==typeof t&&(s||document.head.querySelector("bd-head bd-styles")||document.head.appendChild(d.DOMUtils.create("<bd-head><bd-styles></bd-styles></bd-head>")),s=s||document.head.querySelector("bd-head bd-styles")||document.head,s=Node.prototype.isPrototypeOf(s)?s:document.head,d.DOMUtils.removeLocalStyle(e,s),s.appendChild(d.DOMUtils.create(`<style id="${e}CSS">${t.replace(/\t|\r|\n/g,"")}</style>`)))},d.DOMUtils.removeLocalStyle=function(e,t){"string"==typeof e&&(t=t||document.head.querySelector("bd-head bd-styles")||document.head,t=Node.prototype.isPrototypeOf(t)?t:document.head,d.DOMUtils.remove(t.querySelectorAll(`style[id="${e}CSS"]`)))},d.ModalUtils={},d.ModalUtils.open=function(e,t){if(!d.ObjectUtils.is(e)||!d.ObjectUtils.is(t))return;let s,i,o,l=[],a=e=>{d.ObjectUtils.is(o)&&"function"==typeof o.onClose&&o.onClose()},p=[],c=[],u=[],h=[];if("string"==typeof t.text&&u.push(d.ReactUtils.createElement(r.LibraryComponents.TextElement,{children:t.text})),t.children){let e=[];for(let s of[t.children].flat(10).filter(e=>e))n.React.isValidElement(s)&&(s.type==r.LibraryComponents.ModalComponents.ModalTabContent&&(e.length?delete s.props.open:s.props.open=!0,e.push({value:s.props.tab})),u.push(s));e.length&&c.push(d.ReactUtils.createElement(r.LibraryComponents.Flex,{className:d.disCN.tabbarcontainer,align:r.LibraryComponents.Flex.Align.CENTER,children:[d.ReactUtils.createElement(r.LibraryComponents.TabBar,{className:d.disCN.tabbar,itemClassName:d.disCN.tabbaritem,type:r.LibraryComponents.TabBar.Types.TOP,items:e,onItemSelect:(e,t)=>{let i=d.ReactUtils.findOwner(s,{name:"BDFDB_ModalTabContent",all:!0,unlimited:!0});for(let t of i)t.props.tab==e?t.props.open=!0:delete t.props.open;d.ReactUtils.forceUpdate(i)}}),t.tabBarChildren].flat(10).filter(e=>e)}))}if(d.ArrayUtils.is(t.buttons))for(let e of t.buttons){let t="string"==typeof e.contents&&e.contents;if(t){let o="string"==typeof e.color&&r.LibraryComponents.Button.Colors[e.color.toUpperCase()],n="string"==typeof e.look&&r.LibraryComponents.Button.Looks[e.look.toUpperCase()],p="function"==typeof e.click?e.click:"function"==typeof e.onClick?e.onClick:e=>{};e.cancel&&l.push(p),h.push(d.ReactUtils.createElement(r.LibraryComponents.Button,d.ObjectUtils.exclude(Object.assign({},e,{look:n||(o?r.LibraryComponents.Button.Looks.FILLED:r.LibraryComponents.Button.Looks.LINK),color:o||r.LibraryComponents.Button.Colors.PRIMARY,onClick:t=>{e.close&&a(),e.close&&e.cancel||p(s,i)},children:t}),"click","close","cancel","contents")))}}if(u=u.concat(t.contentChildren).filter(e=>e&&("string"==typeof e||d.ReactUtils.isValidElement(e))),p=p.concat(t.titleChildren).filter(e=>e&&("string"==typeof e||d.ReactUtils.isValidElement(e))),c=c.concat(t.headerChildren).filter(e=>e&&("string"==typeof e||d.ReactUtils.isValidElement(e))),h=h.concat(t.footerChildren).filter(e=>e&&("string"==typeof e||d.ReactUtils.isValidElement(e))),u.length){"function"!=typeof t.onClose&&(t.onClose=(e=>{})),"function"!=typeof t.onOpen&&(t.onOpen=(e=>{}));let m=e.name||("function"==typeof e.getName?e.getName():null);m="string"==typeof m?m:null;let f=0;n.ModalUtils.openModal(e=>(o=e,d.ReactUtils.createElement(class extends n.React.Component{render(){return d.ReactUtils.createElement(r.LibraryComponents.ModalComponents.ModalRoot,{className:d.DOMUtils.formatClassName(m&&`${m}-modal`,d.disCN.modalwrapper,t.className),size:"string"==typeof t.size&&r.LibraryComponents.ModalComponents.ModalSize[t.size.toUpperCase()]||r.LibraryComponents.ModalComponents.ModalSize.SMALL,transitionState:e.transitionState,children:[d.ReactUtils.createElement(r.LibraryComponents.ModalComponents.ModalHeader,{className:d.DOMUtils.formatClassName(t.headerClassName,t.shade&&d.disCN.modalheadershade,c.length&&d.disCN.modalheaderhassibling),separator:t.headerSeparator||!1,children:[d.ReactUtils.createElement(r.LibraryComponents.Flex.Child,{children:[d.ReactUtils.createElement(r.LibraryComponents.FormComponents.FormTitle,{tag:r.LibraryComponents.FormComponents.FormTitle.Tags.H4,children:t.header}),d.ReactUtils.createElement(r.LibraryComponents.TextElement,{size:r.LibraryComponents.TextElement.Sizes.SIZE_12,children:"string"==typeof t.subheader||d.ReactUtils.isValidElement(t.subheader)?t.subheader:m||""})]}),p,d.ReactUtils.createElement(r.LibraryComponents.ModalComponents.ModalCloseButton,{onClick:a})].flat(10).filter(e=>e)}),c.length?d.ReactUtils.createElement(r.LibraryComponents.Flex,{grow:0,shrink:0,children:c}):null,d.ReactUtils.createElement(r.LibraryComponents.ModalComponents.ModalContent,{className:t.contentClassName,scroller:t.scroller,direction:t.direction,content:t.content,children:u}),h.length?d.ReactUtils.createElement(r.LibraryComponents.ModalComponents.ModalFooter,{className:t.footerClassName,direction:t.footerDirection,children:h}):null]})}componentDidMount(){i=this,(s=(s=d.ReactUtils.findDOMNode(this))&&s.parentElement?s.parentElement.querySelector(d.dotCN.modalwrapper):null)&&1==e.transitionState&&e.transitionState>f&&t.onOpen(s,this),f=e.transitionState}componentWillUnmount(){if(s&&3==e.transitionState){for(let e of l)e(s);t.onClose(s,this)}}},e,!0)),{onCloseRequest:a})}},d.ModalUtils.confirm=function(e,t,s){d.ObjectUtils.is(e)&&"string"==typeof t&&d.ModalUtils.open(e,{text:t,header:d.LanguageUtils.LibraryStrings.confirm,className:d.disCN.modalconfirmmodal,scroller:!1,buttons:[{contents:d.LanguageUtils.LanguageStrings.OKAY,close:!0,color:"RED",click:"function"==typeof s?s:e=>{}},{contents:d.LanguageUtils.LanguageStrings.CANCEL,close:!0}]})};const S=d.ModuleUtils.findByProperties("MenuItem","MenuGroup");d.ContextMenuUtils={},d.ContextMenuUtils.open=function(e,t,s){n.ContextMenuUtils.openContextMenu(t,function(e){return d.ReactUtils.createElement(r.LibraryComponents.Menu,{navId:"bdfdb-context",onClose:d.LibraryModules.ContextMenuUtils.closeContextMenu,children:s},!0)})},d.ContextMenuUtils.close=function(e){if(!d.ObjectUtils.is(e))return;let t=d.ReactUtils.findOwner(e,{props:"closeContextMenu",up:!0});d.ObjectUtils.is(t)&&t.props&&"function"==typeof t.props.closeContextMenu?t.props.closeContextMenu():d.LibraryModules.ContextMenuUtils.closeContextMenu()},d.ContextMenuUtils.createItem=function(e,t={}){return e?((t.persisting||d.ObjectUtils.is(t.popoutProps)||"string"==typeof t.color&&!B[`menu${t.color.toLowerCase()}`])&&(e=r.MenuItem),d.ObjectUtils.toArray(S).some(t=>t==e)?d.ReactUtils.createElement(e,t):d.ReactUtils.createElement(S.MenuItem,{id:t.id,disabled:t.disabled,render:s=>(t.state||(t.state=d.ObjectUtils.extract(t,"checked","value")),d.ReactUtils.createElement(r.CustomMenuItemWrapper,{disabled:t.disabled,childProps:Object.assign({},t,s,{color:t.color}),children:e},!0))})):null},d.ContextMenuUtils.createItemId=function(...e){return e.map(e=>"number"==typeof e?e.toString():e).filter(e=>"string"==typeof e).map(e=>e.toLowerCase().replace(/\s/,"-")).join("-")},d.ContextMenuUtils.findItem=function(e,t){if(!e||!d.ObjectUtils.is(t)||!t.label&&!t.id)return[null,-1];t.label=t.label&&[t.label].flat().filter(e=>e),t.id=t.id&&[t.id].flat().filter(e=>e);let s=d.ReactUtils.findChild(e,{props:"navId"});if(s){for(let e in s.props.children)if(s.props.children[e]&&s.props.children[e].type==S.MenuGroup){if(d.ArrayUtils.is(s.props.children[e].props.children)){for(let o in s.props.children[e].props.children)if(i(s.props.children[e].props.children[o]))return t.group?[s.props.children,parseInt(e)]:[s.props.children[e].props.children,parseInt(o)]}else if(s.props.children[e]&&s.props.children[e].props){if(i(s.props.children[e].props.children))return t.group?[s.props.children,parseInt(e)]:(s.props.children[e].props.children=[s.props.children[e].props.children],[s.props.children[e].props.children,0]);if(s.props.children[e].props.children&&s.props.children[e].props.children.props&&d.ArrayUtils.is(s.props.children[e].props.children.props.children))for(let o in s.props.children[e].props.children.props.children)if(i(s.props.children[e].props.children.props.children[o]))return t.group?[s.props.children,parseInt(e)]:[s.props.children[e].props.children.props.children,parseInt(o)]}}else if(i(s.props.children[e]))return[s.props.children,parseInt(e)];return[s.props.children,-1]}return[null,-1];function i(e){if(!e)return!1;let s=e.stateNode?e.stateNode.props:e.props;return!!s&&(t.id&&t.id.some(e=>s.id==e)||t.label&&t.label.some(e=>s.label==e))}},d.StringUtils={},d.StringUtils.htmlEscape=function(e){let t=document.createElement("div");return t.innerText=e,t.innerHTML},d.StringUtils.regEscape=function(e){return"string"==typeof e&&e.replace(/([\-\/\\\^\$\*\+\?\.\(\)\|\[\]\{\}])/g,"\\$1")},d.StringUtils.insertNRST=function(e){return"string"==typeof e&&e.replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\t/g,"\t").replace(/\\s/g," ")},d.StringUtils.highlight=function(e,t,s=`<span class="${d.disCN.highlight}">`,i="</span>"){if("string"!=typeof e||!t||t.length<1)return e;let o=0,n=e;return d.ArrayUtils.getAllIndexes(e.toUpperCase(),t.toUpperCase()).forEach(n=>{let r=(n+=o*(s.length+i.length))+t.length,l=[-1].concat(d.ArrayUtils.getAllIndexes(e.substring(0,n),"<")),a=[-1].concat(d.ArrayUtils.getAllIndexes(e.substring(0,n),">"));l[l.length-1]>a[a.length-1]||(e=e.substring(0,n)+s+e.substring(n,r)+i+e.substring(r),o++)}),e||n},d.StringUtils.findMatchCaseless=function(e,t,s){if("string"!=typeof e||"string"!=typeof t||!e||!t)return"";e=d.StringUtils.regEscape(e);let i=new RegExp(s?`([\\n\\r\\s]+${e})|(^${e})`:`([\\n\\r\\s]+${e}[\\n\\r\\s]+)|([\\n\\r\\s]+${e}$)|(^${e}[\\n\\r\\s]+)|(^${e}$)`,"i").exec(t);return i&&"string"==typeof i[0]&&i[0].replace(/[\n\r\s]/g,"")||""},d.StringUtils.extractSelection=function(e,t){if("string"!=typeof e)return"";if("string"!=typeof t)return e;let s=[],i=[],o=0,n=!1,r=!1;for(let l of d.ArrayUtils.getAllIndexes(e,t[0]))if(!r)for(;l<=e.length&&!r;){let a=t.slice(s.filter(e=>null!=e).length);if(!a&&s.length-20<=t.length)r=!0;else for(let t in a)if(!r&&!n){if(e[l]==a[t])s[l]=a[t],i[l]=a[t],o=0,l==e.length&&(r=!0);else if(s[l]=null,i[l]=e[l],++o>4){s=[],i=[],o=0,n=!0;break}break}n=!1,l++}if(s.filter(e=>e).length){let e=[].concat(s).reverse(),t=0,o=0;for(let e in s){if(null!=s[e])break;t=parseInt(e)+1}for(let t in e){if(null!=e[t])break;o=parseInt(t)+1}return i.slice(t,i.length-o).join("")}return e},d.SlateUtils={},d.SlateUtils.isRichValue=function(e){return d.ObjectUtils.is(e)&&n.SlateUtils.deserialize("").constructor.prototype.isPrototypeOf(e)},d.SlateUtils.copyRichValue=function(e,t){let s=n.SlateUtils.deserialize(e);if(d.SlateUtils.isRichValue(t)&&t._map&&t._map._root&&d.ArrayUtils.is(t._map._root.entries))for(let e in t._map._root.entries)if("selection"==t._map._root.entries[e][0]){s._map._root.entries[e]=t._map._root.entries[e];break}return s},d.SlateUtils.hasOpenPlainTextCodeBlock=function(e){let t=d.ObjectUtils.get(e,"props.richValue");if(!d.SlateUtils.isRichValue(t))return!1;let s=d.LibraryModules.SlateSelectionUtils.serializeSelection(t.document,{start:{key:t.document.getFirstText().key,offset:0},end:t.selection.start},"raw").match(/```/g);return s&&s.length&&s.length%2!=0},d.SlateUtils.getCurrentWord=function(e){let t=d.ObjectUtils.get(e,"props.richValue");if(!d.SlateUtils.isRichValue(t)||!t.selection.isCollapsed||d.SlateUtils.hasOpenPlainTextCodeBlock(e)||0==t.document.text.trim().length)return{word:null,isAtStart:!1};if(e.props.useSlate){if(t.document.text.startsWith("/giphy ")||t.document.text.startsWith("/tenor ")){let e=t.document.getNode(t.selection.start.key);if(e)return{word:e.text.substring(0,t.selection.start.offset),isAtStart:!0}}let e=t.document.getNode(t.selection.start.key);if(null==e)return{word:null,isAtStart:!1};let s="",i=!1,o=t.selection.start.offset,n=t.document.getClosestBlock(e.key);for(;;){if(--o<0){if(e=null==n.getPreviousNode(e.key)){i=!0;break}if("text"!==e.object)break;o=e.text.length-1}if("text"!==e.object)break;let t=e.text[o];if(/(\t|\s)/.test(t))break;s=t+s}return{word:s||null,isAtStart:i&&"line"==n.type&&t.document.nodes.get(0)===n}}{let t=d.ReactUtils.findDOMNode(e.ref.current);if(Node.prototype.isPrototypeOf(t)&&"TEXTAREA"==t.tagName&&t.value.length&&!/\s/.test(t.value.slice(t.selectionStart,t.selectionEnd))){if(t.selectionEnd==t.value.length){let e=t.value.split(/\s/).reverse();return{word:e[0]?e[0]:null,isAtStart:e.length>1}}{let e=t.value.split(""),s="",i="",o=!1,n=!0;for(let r in e)r==t.selectionStart&&(o=!0),/\s/.test(e[r])?(s="",n=i.length>0&&n||!1,o=!1):(s+=e[r],o&&(i=s));return{word:i||null,isAtStart:n}}}return{word:null,isAtStart:!0}}},d.NumberUtils={},d.NumberUtils.formatBytes=function(e,t){if(e=parseInt(e),isNaN(e)||e<0)return"0 Bytes";if(1==e)return"1 Byte";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(t<1?0:t>20?20:t||2))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][s]},d.NumberUtils.mapRange=function(e,t,s){return parseFloat(s)<parseFloat(e[0])?parseFloat(t[0]):parseFloat(s)>parseFloat(e[1])?parseFloat(t[1]):parseFloat(t[0])+(parseFloat(s)-parseFloat(e[0]))*(parseFloat(t[1])-parseFloat(t[0]))/(parseFloat(e[1])-parseFloat(e[0]))},d.NumberUtils.generateId=function(e){e=d.ArrayUtils.is(e)?e:[];let t=Math.floor(1e16*Math.random());return e.includes(t)?d.NumberUtils.generateId(e):(e.push(t),t)},d.NumberUtils.compareVersions=function(e,t){if(!e||!t)return!0;e=e.toString().replace(/["'`]/g,"").split(/,|\./g).map(e=>parseInt(e)).filter(e=>(e||0==e)&&!isNaN(e)),t=t.toString().replace(/["'`]/g,"").split(/,|\./g).map(e=>parseInt(e)).filter(e=>(e||0==e)&&!isNaN(e));let s=Math.max(e.length,t.length);if(!s)return!0;if(e.length>t.length){let s=new Array(e.length-t.length);for(let e=0;e<s.length;e++)s[e]=0;t=s.concat(t)}else if(e.length<t.length){let s=new Array(t.length-e.length);for(let e=0;e<s.length;e++)s[e]=0;e=s.concat(e)}for(let i=0;i<s;i++)for(let s=!1,o=0;o<=i;o++){if(o==i&&e[o]<t[o])return!1;if(o<i&&(s=e[o]==t[o]),(0==o||s)&&o==i&&e[o]>t[o])return!0}return!1},d.NumberUtils.getVersionDifference=function(e,t){if(!e||!t)return!1;e=e.toString().replace(/["'`]/g,"").split(/,|\./g).map(e=>parseInt(e)).filter(e=>(e||0==e)&&!isNaN(e)),t=t.toString().replace(/["'`]/g,"").split(/,|\./g).map(e=>parseInt(e)).filter(e=>(e||0==e)&&!isNaN(e));let s=Math.max(e.length,t.length);if(!s)return!1;if(e.length>t.length){let s=new Array(e.length-t.length);for(let e=0;e<s.length;e++)s[e]=0;t=s.concat(t)}else if(e.length<t.length){let s=new Array(t.length-e.length);for(let e=0;e<s.length;e++)s[e]=0;e=s.concat(e)}let i=0,o=0;for(let e in t.reverse())i+=t[e]*10**e;for(let t in e.reverse())o+=e[t]*10**t;return(o-i)/10**(s-1)},d.DiscordUtils={},d.DiscordUtils.openLink=function(e,t,s){if(t){let t=new o.electron.remote.BrowserWindow({frame:!0,resizeable:!0,show:!0,darkTheme:d.DiscordUtils.getTheme()==d.disCN.themedark,webPreferences:{nodeIntegration:!1,nodeIntegrationInWorker:!1}});t.setMenu(null),t.loadURL(e),s&&t.minimize(null)}else window.open(e,"_blank")},d.DiscordUtils.getFolder=function(){var e=d.DiscordUtils.getBuilt();return e="discord"+("stable"==e?"":e),o.path.resolve(o.electron.remote.app.getPath("appData"),e,d.DiscordUtils.getVersion())},d.DiscordUtils.getBuilt=function(){if(d.DiscordUtils.getBuilt.built)return d.DiscordUtils.getBuilt.built;var e=null;try{e=require(o.electron.remote.app.getAppPath()+"/build_info.json").releaseChannel.toLowerCase()}catch(s){try{e=require(o.electron.remote.app.getAppPath().replace("app.asar","")+"/build_info.json").releaseChannel.toLowerCase()}catch(s){var t=d.DiscordUtils.getVersion();e=t?3!=(t=t.split(".")).length||isNaN(t=parseInt(t[2]))?"stable":t>300?"stable":da>200?"canary":"ptb":"stable"}}return d.DiscordUtils.getBuilt.built=e,e},d.DiscordUtils.getVersion=function(){if(d.DiscordUtils.getBuilt.version)return d.DiscordUtils.getBuilt.version;{let e=null;try{e=o.electron.remote.app.getVersion()}catch(t){e=""}return d.DiscordUtils.getBuilt.version=e,e}},d.DiscordUtils.isDevModeEnabled=function(){return(n.StoreChangeUtils.get("UserSettingsStore")||{}).developerMode},d.DiscordUtils.getTheme=function(){return"dark"!=(n.StoreChangeUtils.get("UserSettingsStore")||{}).theme?d.disCN.themelight:d.disCN.themedark},d.DiscordUtils.getMode=function(){return(n.StoreChangeUtils.get("UserSettingsStore")||{}).message_display_compact?"compact":"cozy"},d.DiscordUtils.getZoomFactor=function(){let e=d.DOMUtils.getRects(document.querySelector(d.dotCN.appmount)),t=Math.round(100*window.outerWidth/e.width),s=Math.round(100*window.outerHeight/e.height);return t<s?t:s},d.DiscordUtils.getFontScale=function(){return parseInt(document.firstElementChild.style.fontSize.replace("%",""))},d.DiscordUtils.shake=function(){d.ReactUtils.getInstance(document.querySelector(d.dotCN.appold)).return.stateNode.shake()},d.WindowUtils={},d.WindowUtils.open=function(e,t,s={}){if(e=e==d&&u||e,!d.ObjectUtils.is(e)||!t)return;d.ArrayUtils.is(e.browserWindows)||(e.browserWindows=[]);let i=Object.assign({show:!1,webPreferences:{nodeIntegration:!0,nodeIntegrationInWorker:!0}},s),n=new o.electron.remote.BrowserWindow(d.ObjectUtils.exclude(i,"showOnReady","onLoad"));return!i.show&&i.showOnReady&&n.once("ready-to-show",n.show),i.devTools&&n.openDevTools(),"function"==typeof i.onLoad&&n.webContents.on("did-finish-load",(...e)=>{i.onLoad(...e)}),"function"==typeof i.onClose&&n.once("closed",(...e)=>{i.onClose(...e)}),"function"==typeof n.removeMenu?n.removeMenu():n.setMenu(null),n.loadURL(t),n.executeJavaScriptSafe=(e=>{n.isDestroyed()||n.webContents.executeJavaScript(`(_ => {${e}})();`)}),e.browserWindows.push(n),n},d.WindowUtils.close=function(e){d.ObjectUtils.is(e)&&!e.isDestroyed()&&e.isClosable()&&e.close()},d.WindowUtils.closeAll=function(e){if(e=e==d&&u||e,d.ObjectUtils.is(e)&&d.ArrayUtils.is(e.browserWindows))for(;e.browserWindows.length;)d.WindowUtils.close(e.browserWindows.pop())},d.WindowUtils.addListener=function(e,t,s){if(e=e==d&&u||e,d.ObjectUtils.is(e)&&t&&"function"==typeof s){d.WindowUtils.removeListener(e,t);for(let i of t.split(" ")){let t=(i=i.split(".")).shift();if(!t)return;let n=(i.join(".")||"")+e.name;d.ArrayUtils.is(e.ipcListeners)||(e.ipcListeners=[]),e.ipcListeners.push({eventName:t,namespace:n,callback:s}),o.electron.ipcRenderer.on(t,s)}}},d.WindowUtils.removeListener=function(e,t=""){if(e=e==d&&u||e,d.ObjectUtils.is(e)&&d.ArrayUtils.is(e.ipcListeners))if(t)for(let s of t.split(" ")){let t=(s=s.split(".")).shift(),i=(s.join(".")||"")+e.name;for(let s of e.ipcListeners){let n=[];s.eventName==t&&s.namespace==i&&(o.electron.ipcRenderer.off(s.eventName,s.callback),n.push(s)),n.length&&(e.ipcListeners=e.ipcListeners.filter(e=>n.indexOf(e)<0))}}else{for(let t of e.ipcListeners)o.electron.ipcRenderer.off(t.eventName,t.callback);e.ipcListeners=[]}};const E=Object.assign({},U.CustomClassModules);for(let e in U.DiscordClassModules)U.DiscordClassModules[e].length?E[e]=d.ModuleUtils.find(t=>U.DiscordClassModules[e].props.every(e=>"string"==typeof t[e])&&(U.DiscordClassModules[e].smaller?Object.keys(t).length<U.DiscordClassModules[e].length:Object.keys(t).length==U.DiscordClassModules[e].length)):E[e]=d.ModuleUtils.findByProperties(U.DiscordClassModules[e].props);d.DiscordClassModules=Object.assign({},E);const B=Object.assign({},U.DiscordClasses);d.DiscordClasses=Object.assign({},B),u.getDiscordClass=function(e,t){let s=fallbackClassName=E.BDFDB.BDFDBundefined+"-"+u.generateClassId();if(void 0===B[e])return d.LogUtils.warn(e+" not found in DiscordClasses"),s;if(d.ArrayUtils.is(B[e])&&2==B[e].length){if(void 0===E[B[e][0]])return d.LogUtils.warn(B[e][0]+" not found in DiscordClassModules"),s;if([B[e][1]].flat().every(t=>void 0===E[B[e][0]][t]))return d.LogUtils.warn(B[e][1]+" not found in "+B[e][0]+" in DiscordClassModules"),s;for(let t of[B[e][1]].flat()){if(s=E[B[e][0]][t])break;s=fallbackClassName}return t?s=(s=s.split(" ").filter(e=>0!=e.indexOf("da-")).join(t?".":" "))||fallbackClassName:d.BDUtils.getSettings(d.BDUtils.settingsIds.normalizedClasses)&&(s=s.split(" ").filter(e=>0!=e.indexOf("da-")).map(e=>e.replace(/^([A-z0-9]+?)-([A-z0-9_-]{6})$/g,"$1-$2 da-$1")).join(" ")),d.ArrayUtils.removeCopies(s.split(" ")).join(" ")||fallbackClassName}return d.LogUtils.warn(e+" is not an Array of Length 2 in DiscordClasses"),s};const x="0123456789ABCDEFGHIJKMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split("");u.generateClassId=function(){let e="";for(;e.length<6;)e+=x[Math.floor(Math.random()*x.length)];return e},d.disCN=new Proxy(B,{get:function(e,t){return u.getDiscordClass(t,!1).replace("#","")}}),d.disCNS=new Proxy(B,{get:function(e,t){return u.getDiscordClass(t,!1).replace("#","")+" "}}),d.disCNC=new Proxy(B,{get:function(e,t){return u.getDiscordClass(t,!1).replace("#","")+","}}),d.dotCN=new Proxy(B,{get:function(e,t){let s=u.getDiscordClass(t,!0);return(0==s.indexOf("#")?"":".")+s}}),d.dotCNS=new Proxy(B,{get:function(e,t){let s=u.getDiscordClass(t,!0);return(0==s.indexOf("#")?"":".")+s+" "}}),d.dotCNC=new Proxy(B,{get:function(e,t){let s=u.getDiscordClass(t,!0);return(0==s.indexOf("#")?"":".")+s+","}}),d.notCN=new Proxy(B,{get:function(e,t){return`:not(.${u.getDiscordClass(t,!0).split(".")[0]})`}}),d.notCNS=new Proxy(B,{get:function(e,t){return`:not(.${u.getDiscordClass(t,!0).split(".")[0]}) `}}),d.notCNC=new Proxy(B,{get:function(e,t){return`:not(.${u.getDiscordClass(t,!0).split(".")[0]}),`}});const P=n.LanguageStore&&n.LanguageStore._proxyContext?Object.assign({},n.LanguageStore._proxyContext.defaultMessages):{},k=Object.assign({},U.LibraryStrings);d.LanguageUtils={},d.LanguageUtils.languages=Object.assign({},U.Languages),d.LanguageUtils.getLanguage=function(){let e=n.LanguageStore.chosenLocale||"en";"en-GB"!=e&&"en-US"!=e||(e="en");let t=e.split("-"),s=t[0],i=t[1]||"";return e=i&&s.toUpperCase()!==i.toUpperCase()?s+"-"+i:s,d.LanguageUtils.languages[e]||d.LanguageUtils.languages[s]||d.LanguageUtils.languages.en},d.LanguageUtils.LanguageStrings=new Proxy(P,{get:function(e,t){let s=n.LanguageStore.Messages[t];return s?s&&"object"==typeof s&&"function"==typeof s.format?d.LanguageUtils.LanguageStringsFormat(t):s:(d.LogUtils.warn(t+" not found in BDFDB.LanguageUtils.LanguageStrings"),"")}}),d.LanguageUtils.LanguageStringsCheck=new Proxy(P,{get:function(e,t){return!!n.LanguageStore.Messages[t]}});let j=e=>{let t="";if("string"==typeof e)t+=e;else if(d.ObjectUtils.is(e)){if(e.props)t+=j(e.props);else if(e.type){let s=e.content||e.children&&e.children[0]&&e.children[0].toString()||"";s&&("text"==e.type||e.content?t=j(s):t+=`<${e.type}>${j(s)}</${e.type}>`)}}else if(d.ArrayUtils.is(e))for(let s of e)t+=j(s);return t};d.LanguageUtils.LanguageStringsFormat=function(e,...t){if(e){let s=n.LanguageStore.Messages[e];if(s&&"object"==typeof s&&"function"==typeof s.format){let i,o=0,n={};for(;!i&&o<10;){o++;try{i=s.format(n,!1)}catch(e){i=null;let s=t.shift();n[e.toString().split("for: ")[1]]=null!=s?0===s?"0":s:"undefined"}}return i?j(i):(d.LogUtils.warn(e+" failed to format string in BDFDB.LanguageUtils.LanguageStrings"),"")}return d.LanguageUtils.LanguageStrings[e]}return d.LogUtils.warn(e+" enter a valid key to format the string in BDFDB.LanguageUtils.LanguageStrings"),""},d.LanguageUtils.LibraryStrings=new Proxy(k.default||{},{get:function(e,t){let s=d.LanguageUtils.getLanguage().id;return k[s]&&k[s][t]?k[s][t]:k.default[t]?k.default[t]:(d.LogUtils.warn(t+" not found in BDFDB.LanguageUtils.LibraryStrings"),"")}}),d.LanguageUtils.LibraryStringsCheck=new Proxy(P,{get:function(e,t){return!!k.default[t]}}),d.LanguageUtils.LibraryStringsFormat=function(e,...t){if(e){let s=d.LanguageUtils.getLanguage().id,i=null;if(k[s]&&k[s][e]?i=k[s][e]:k.default[e]&&(i=k.default[e]),i){for(let e=0;e<t.length;e++)"string"==typeof t[e]&&(i=i.replace(new RegExp(`{{var${e}}}`,"g"),t[e]));return i}d.LogUtils.warn(e+" not found in BDFDB.LanguageUtils.LibraryStrings")}else d.LogUtils.warn(e+" enter a valid key to format the string in BDFDB.LanguageUtils.LibraryStrings");return""},d.TimeUtils.interval(e=>{if(n.LanguageStore.chosenLocale){d.TimeUtils.clear(e);let t=d.LanguageUtils.getLanguage();t&&(d.LanguageUtils.languages.$discord=Object.assign({},t,{name:`Discord (${t.name})`}))}},100);const A=n.React&&n.React.Component;let T;u.setDefaultProps=function(e,t){d.ObjectUtils.is(e)&&(e.defaultProps=Object.assign({},e.defaultProps,t))},r.MenuItem=A&&class extends n.React.Component{constructor(e){super(e),this.state={hovered:!1}}componentWillUnmount(){T==this.props.id&&(T=null)}render(){let e=("string"==typeof this.props.color?this.props.color:r.LibraryComponents.MenuItems.Colors.DEFAULT).toLowerCase(),t=!1;e&&(B[`menu${e}`]?e=e:d.ColorUtils.getType(e)?(t=!0,e=d.ColorUtils.convert(e,"RGBA")):e=(r.LibraryComponents.MenuItems.Colors.DEFAULT||"").toLowerCase());let s,i,o=d.ObjectUtils.is(this.props.popoutProps);o&&(s=(e=>(T=this.props.id,"function"==typeof this.props.popoutProps.renderPopout&&this.props.popoutProps.renderPopout(e))),i=(e=>{T=null,"function"==typeof this.props.popoutProps.onClose&&this.props.popoutProps.onClose(e)}));let n=T?T==this.props.id:this.props.isFocused,l=(d.DiscordUtils.getTheme(),d.disCN.themedark,d.ReactUtils.createElement(r.LibraryComponents.Clickable,Object.assign({className:d.DOMUtils.formatClassName(d.disCN.menuitem,d.disCN.menulabelcontainer,e&&(t?d.disCN.menucolorcustom:d.disCN[`menu${e}`]),this.props.disabled&&d.disCN.menudisabled,n&&d.disCN.menufocused),style:{color:t?n||this.state.hovered?d.ColorUtils.isBright(e)?"#000000":"#ffffff":e:this.state.hovered?"#ffffff":null,background:t&&(n||this.state.hovered)&&e},onClick:this.props.disabled?null:e=>{if(!this.props.action)return!1;!this.props.persisting&&!o&&this.props.onClose(),this.props.action(e,this)},onMouseEnter:this.props.disabled?null:e=>{this.setState({hovered:!0})},onMouseLeave:this.props.disabled?null:e=>{this.setState({hovered:!1})},"aria-disabled":this.props.disabled,children:[d.ReactUtils.createElement("div",{className:d.disCN.menulabel,children:["function"==typeof this.props.label?this.props.label(this):this.props.label,this.props.subtext&&d.ReactUtils.createElement("div",{className:d.disCN.menusubtext,children:"function"==typeof this.props.subtext?this.props.subtext(this):this.props.subtext})].filter(e=>e)}),this.props.hint&&d.ReactUtils.createElement("div",{className:d.disCN.menuhintcontainer,children:"function"==typeof this.props.hint?this.props.hint(this):this.props.hint}),this.props.icon&&d.ReactUtils.createElement("div",{className:d.disCN.menuiconcontainer,children:d.ReactUtils.createElement(this.props.icon,{className:d.disCN.menuicon})}),this.props.imageUrl&&d.ReactUtils.createElement("div",{className:d.disCN.menuimagecontainer,children:d.ReactUtils.createElement("img",{className:d.disCN.menuimage,src:"function"==typeof this.props.imageUrl?this.props.imageUrl(this):this.props.imageUrl,alt:""})})].filter(e=>e)},this.props.menuItemProps,{isFocused:n})));return o?d.ReactUtils.createElement(r.LibraryComponents.PopoutContainer,Object.assign({},this.props.popoutProps,{children:l,renderPopout:s,onClose:i})):l}},r.CustomMenuItemWrapper=A&&class extends n.React.Component{constructor(e){super(e),this.state={hovered:!1}}render(){return d.ReactUtils.createElement("div",{onMouseEnter:e=>{this.setState({hovered:!0})},onMouseLeave:e=>{this.setState({hovered:!1})},children:d.ReactUtils.createElement(this.props.children,Object.assign({},this.props.childProps,{isFocused:this.state.hovered&&!this.props.disabled}))})}},r.ErrorBoundary=A&&class extends n.React.PureComponent{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){d.LogUtils.error("Could not create react element! "+e)}render(){return this.state.hasError?n.React.createElement("span",{style:{background:d.DiscordConstants&&d.DiscordConstants.Colors&&d.DiscordConstants.Colors.PRIMARY_DARK,borderRadius:5,color:d.DiscordConstants&&d.DiscordConstants.Colors&&d.DiscordConstants.Colors.STATUS_RED,fontSize:12,fontWeight:600,padding:6,textAlign:"center",verticalAlign:"center"},children:"React Component Error"}):this.props.children}};for(let e in U.NativeSubComponents)U.NativeSubComponents[e].name?U.NativeSubComponents[e].protos?r.NativeSubComponents[e]=d.ModuleUtils.find(t=>t&&t.displayName==U.NativeSubComponents[e].name&&t.prototype&&U.NativeSubComponents[e].protos.every(e=>t.prototype[e])):r.NativeSubComponents[e]=d.ModuleUtils.findByName(U.NativeSubComponents[e].name):U.NativeSubComponents[e].props&&(r.NativeSubComponents[e]=d.ModuleUtils.findByProperties(U.NativeSubComponents[e].props));for(let e in U.LibraryComponents){let t;U.LibraryComponents[e].name?t=d.ModuleUtils.findByName(U.LibraryComponents[e].name):U.LibraryComponents[e].strings?t=d.ModuleUtils.findByString(U.LibraryComponents[e].strings):U.LibraryComponents[e].props&&(t=d.ModuleUtils.findByProperties(U.LibraryComponents[e].props));let s=e,i=s.split(" "),o=r.LibraryComponents;i.length>1&&(s=i[1],i=i[0],r.LibraryComponents[i]||(r.LibraryComponents[i]={}),o=r.LibraryComponents[i]),U.LibraryComponents[e].value&&(t=(t||{})[U.LibraryComponents[e].value]),U.LibraryComponents[e].assign?o[s]=Object.assign({},t):o[s]=t}r.LibraryComponents.AddonCard=A&&class extends n.React.Component{render(){if(!d.ObjectUtils.is(this.props.data))return null;let e=[].concat(this.props.controls).flat(10).filter(e=>e),s=[].concat(this.props.links).flat(10).filter(e=>e),i=[].concat(this.props.buttons).flat(10).filter(e=>e),o=[!t&&" v",d.ReactUtils.createElement("span",{className:d.disCN._repoversion,children:t?`v${this.props.data.version}`:this.props.data.version})," by ",d.ReactUtils.createElement("span",{className:d.disCN._repoauthor,children:this.props.data.author})].filter(e=>e);return d.ReactUtils.createElement("div",{className:d.DOMUtils.formatClassName(d.disCN._repoentry,this.props.className,d.disCN._repocard,d.disCN._reposettingsclosed,d.disCN._repocheckboxitem),children:[d.ReactUtils.createElement("div",{className:d.disCN._repoheader,style:{overflow:"visible"},children:[t&&this.props.icon,d.ReactUtils.createElement("span",{className:d.disCN._repoheadertitle,children:[d.ReactUtils.createElement("span",{className:d.disCN._reponame,children:this.props.data.name}),t?d.ReactUtils.createElement("div",{className:d.disCN._repometa,children:o}):o]}),e.length&&d.ReactUtils.createElement("div",{className:d.disCN._repoheadercontrols,children:e})]}),d.ReactUtils.createElement("div",{className:d.disCN._repodescriptionwrap,children:d.ReactUtils.createElement("div",{className:d.disCN._repodescription,children:this.props.data.description&&d.ReactUtils.markdownParse(this.props.data.description)})}),(s.length||i.length)&&d.ReactUtils.createElement("div",{className:d.disCN._repofooter,children:[s.length&&d.ReactUtils.createElement("span",{className:d.disCN._repolinks,children:s.map((e,s)=>{if(!d.ObjectUtils.is(e))return;let i=d.ReactUtils.createElement("a",{className:d.DOMUtils.formatClassName(d.disCN._repolink,"string"==typeof e.label&&d.disCN._repolink+"-"+e.label.toLowerCase().replace(/\s/g,"")),href:e.href,children:e.icon||e.label});if(t){let t=d.ReactUtils.createElement("div",{className:d.disCN._repocontrolsbutton,children:i,onClick:t=>{"function"==typeof e.onClick&&(d.ListenerUtils.stopEvent(t),e.onClick())}});return"string"==typeof e.label?d.ReactUtils.createElement(r.LibraryComponents.TooltipContainer,{text:e.label,children:t}):t}return[s>0&&" | ",i]}).flat(10).filter(e=>e)}),i.length&&d.ReactUtils.createElement("div",{className:d.DOMUtils.formatClassName(d.disCN._repofootercontrols,t&&d.disCN._repocontrols),children:i})].flat(10).filter(e=>e)})].filter(e=>e)})}},r.LibraryComponents.BadgeAnimationContainer=A&&class extends n.React.Component{componentDidMount(){d.ReactUtils.forceUpdate(this)}componentWillAppear(e){"function"==typeof e&&e()}componentWillEnter(e){"function"==typeof e&&e()}componentWillLeave(e){"function"==typeof e&&(this.timeoutId=setTimeout(e,300))}componentWillUnmount(){clearTimeout(this.timeoutId)}render(){return d.ReactUtils.createElement(r.LibraryComponents.Animations.animated.div,{className:this.props.className,style:this.props.animatedStyle,children:this.props.children})}},r.LibraryComponents.Badges=Object.assign({},d.ModuleUtils.findByProperties("IconBadge","NumberBadge")),r.LibraryComponents.Badges.IconBadge=A&&class extends n.React.Component{render(){return d.ReactUtils.createElement("div",{className:d.DOMUtils.formatClassName(d.disCN.badgeiconbadge,this.props.className),style:Object.assign({backgroundColor:this.props.disableColor?null:this.props.color||d.DiscordConstants.Colors.STATUS_RED},this.props.style),children:d.ReactUtils.createElement(r.LibraryComponents.SvgIcon,{className:d.disCN.badgeicon,name:this.props.icon})})}},r.LibraryComponents.BotTag=A&&class extends n.React.Component{handleClick(e){"function"==typeof this.props.onClick&&this.props.onClick(e,this)}handleContextMenu(e){"function"==typeof this.props.onContextMenu&&this.props.onContextMenu(e,this)}handleMouseEnter(e){"function"==typeof this.props.onMouseEnter&&this.props.onMouseEnter(e,this)}handleMouseLeave(e){"function"==typeof this.props.onMouseLeave&&this.props.onMouseLeave(e,this)}render(){return d.ReactUtils.createElement("span",{className:d.DOMUtils.formatClassName(this.props.className,this.props.invertColor?d.disCN.bottaginvert:d.disCN.bottagregular,this.props.useRemSizes?d.disCN.bottagrem:d.disCN.bottagpx),style:this.props.style,onClick:this.handleClick.bind(this),onContextMenu:this.handleContextMenu.bind(this),onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this),children:d.ReactUtils.createElement("span",{className:d.disCN.bottagtext,children:this.props.tag||d.LanguageUtils.LanguageStrings.BOT_TAG_BOT})})}},r.LibraryComponents.Button=A&&class extends n.React.Component{handleClick(e){"function"==typeof this.props.onClick&&this.props.onClick(e,this)}handleContextMenu(e){"function"==typeof this.props.onContextMenu&&this.props.onContextMenu(e,this)}handleMouseDown(e){"function"==typeof this.props.onMouseDown&&this.props.onMouseDown(e,this)}handleMouseUp(e){"function"==typeof this.props.onMouseUp&&this.props.onMouseUp(e,this)}handleMouseEnter(e){"function"==typeof this.props.onMouseEnter&&this.props.onMouseEnter(e,this)}handleMouseLeave(e){"function"==typeof this.props.onMouseLeave&&this.props.onMouseLeave(e,this)}render(){let e=(this.props.disabled||this.props.submitting)&&(null!=this.props.onMouseEnter||null!=this.props.onMouseLeave),t=d.ObjectUtils.exclude(this.props,"look","color","hover","size","fullWidth","grow","disabled","submitting","type","style","wrapperClassName","className","innerClassName","onClick","onContextMenu","onMouseDown","onMouseUp","onMouseEnter","onMouseLeave","children","rel"),s=d.ReactUtils.createElement("button",Object.assign({},!this.props.disabled&&!this.props.submitting&&t,{className:d.DOMUtils.formatClassName(this.props.className,d.disCN.button,null!=this.props.look?this.props.look:r.LibraryComponents.Button.Looks.FILLED,null!=this.props.color?this.props.color:r.LibraryComponents.Button.Colors.BRAND,this.props.hover,null!=this.props.size?this.props.size:r.LibraryComponents.Button.Sizes.MEDIUM,e&&this.props.wrapperClassName,this.props.fullWidth&&d.disCN.buttonfullwidth,(void 0===this.props.grow||this.props.grow)&&d.disCN.buttongrow,this.props.hover&&this.props.hover!==r.LibraryComponents.Button.Hovers.DEFAULT&&d.disCN.buttonhashover,this.props.submitting&&d.disCN.buttonsubmitting),onClick:this.props.disabled||this.props.submitting?e=>e.preventDefault():this.handleClick.bind(this),onContextMenu:this.props.disabled||this.props.submitting?e=>e.preventDefault():this.handleContextMenu.bind(this),onMouseUp:!this.props.disabled&&this.handleMouseDown.bind(this),onMouseDown:!this.props.disabled&&this.handleMouseUp.bind(this),onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this),type:this.props.type?this.props.type:"button",disabled:this.props.disabled,style:this.props.style,rel:this.props.rel,children:[this.props.submitting&&!this.props.disabled?d.ReactUtils.createElement(r.LibraryComponents.Spinner,{type:r.LibraryComponents.Spinner.Type.PULSING_ELLIPSIS,className:d.disCN.buttonspinner,itemClassName:d.disCN.buttonspinneritem}):null,d.ReactUtils.createElement("div",{className:d.DOMUtils.formatClassName(d.disCN.buttoncontents,this.props.innerClassName),children:this.props.children})]}));return e?d.ReactUtils.createElement("span",{className:d.DOMUtils.formatClassName(d.disCN.buttondisabledwrapper,this.props.wrapperClassName,null!=this.props.size?this.props.size:r.LibraryComponents.Button.Sizes.MEDIUM,this.props.fullWidth&&d.disCN.buttonfullwidth,(void 0===this.props.grow||this.props.grow)&&d.disCN.buttongrow),children:[s,d.ReactUtils.createElement("span",{onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this),className:d.disCN.buttondisabledoverlay})]}):s}},r.LibraryComponents.Card=A&&class extends n.React.Component{render(){return d.ReactUtils.createElement("div",d.ObjectUtils.exclude(Object.assign({},this.props,{className:d.DOMUtils.formatClassName(d.disCN.hovercardwrapper,this.props.horizontal&&d.disCN.hovercardhorizontal,this.props.backdrop&&d.disCN.hovercard,this.props.className),onMouseEnter:e=>{"function"==typeof this.props.onMouseEnter&&this.props.onMouseEnter(e,this)},onMouseLeave:e=>{"function"==typeof this.props.onMouseLeave&&this.props.onMouseLeave(e,this)},onClick:e=>{"function"==typeof this.props.onClick&&this.props.onClick(e,this)},onContextMenu:e=>{"function"==typeof this.props.onContextMenu&&this.props.onContextMenu(e,this)},children:[this.props.noRemove?null:d.ReactUtils.createElement(r.LibraryComponents.CardRemoveButton,{onClick:e=>{"function"==typeof this.props.onRemove&&this.props.onRemove(e,this),d.ListenerUtils.stopEvent(e)}}),"string"==typeof this.props.children?d.ReactUtils.createElement(r.LibraryComponents.TextElement,{className:d.disCN.hovercardinner,children:d.ReactUtils.createElement(r.LibraryComponents.TextScroller,{children:this.props.children})}):this.props.children].flat(10).filter(e=>e)}),"backdrop","horizontal","noRemove"))}},u.setDefaultProps(r.LibraryComponents.Card,{backdrop:!0,noRemove:!1}),r.LibraryComponents.ChannelTextAreaButton=A&&class extends n.React.Component{render(){return d.ReactUtils.createElement(r.LibraryComponents.Button,{look:r.LibraryComponents.Button.Looks.BLANK,size:r.LibraryComponents.Button.Sizes.NONE,"aria-label":this.props.label,tabIndex:this.props.tabIndex,className:d.DOMUtils.formatClassName(d.disCN.textareabuttonwrapper,this.props.isActive&&d.disCN.textareabuttonactive),innerClassName:d.DOMUtils.formatClassName(d.disCN.textareabutton,this.props.className,this.props.pulse&&d.disCN.textareaattachbuttonplus),onClick:this.props.onClick,onContextMenu:this.props.onContextMenu,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,children:d.ReactUtils.createElement(r.LibraryComponents.SvgIcon,{name:this.props.iconName,iconSVG:this.props.iconSVG,className:d.DOMUtils.formatClassName(d.disCN.textareaicon,this.props.iconClassName,this.props.pulse&&d.disCN.textareaiconpulse),nativeClass:this.props.nativeClass})})}},u.setDefaultProps(r.LibraryComponents.ChannelTextAreaButton,{tabIndex:0}),r.LibraryComponents.CharCounter=A&&class extends n.React.Component{getCounterString(){let e=this.refElement||{},t="";if(d.DOMUtils.containsClass(this.refElement,d.disCN.textarea)){let s=d.ReactUtils.findOwner(e,{name:"ChannelEditorContainer",up:!0});t=s?s.props.textValue:e.value||e.textContent||""}else t=e.value||e.textContent||"";let s=e.selectionStart||0,i=e.selectionEnd||0,o=i-s,n=d.DOMUtils.getSelection(),l=o||n?o||n.length:0;l=l?l>t.length?i||s?t.length-(t.length-i-s):t.length:l:0;let a=["function"==typeof this.props.renderPrefix&&this.props.renderPrefix(t.length),`${t.length}${this.props.max?"/"+this.props.max:""}${l?" ("+l+")":""}`,"function"==typeof this.props.renderSuffix&&this.props.renderSuffix(t.length)].filter(e=>e);return"function"==typeof this.props.onChange&&this.props.onChange(this),1==a.length?a[0]:d.ReactUtils.createElement(r.LibraryComponents.Flex,{align:r.LibraryComponents.Flex.Align.CENTER,children:a})}updateCounter(){this.refElement&&(d.TimeUtils.clear(this.updateTimeout),this.updateTimeout=d.TimeUtils.timeout(this.forceUpdateCounter.bind(this),100))}forceUpdateCounter(){this.refElement&&(this.props.children=this.getCounterString(),d.ReactUtils.forceUpdate(this))}handleSelection(){if(!this.refElement)return;let e=e=>{d.TimeUtils.timeout(this.forceUpdateCounter.bind(this),10)},t=i=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t),this.refElement.selectionEnd-this.refElement.selectionStart&&d.TimeUtils.timeout(e=>{document.addEventListener("click",s)})},s=i=>{d.TimeUtils.timeout(this.forceUpdateCounter.bind(this),100),document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t),document.removeEventListener("click",s)};document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)}componentDidMount(){if(this.props.refClass){let e=d.ReactUtils.findDOMNode(this);e&&e.parentElement&&(this.refElement=e.parentElement.querySelector(this.props.refClass),this.refElement?(this._updateCounter||(this._updateCounter=(t=>{document.contains(e)?this.updateCounter():d.ListenerUtils.multiRemove(this.refElement,"keydown click change",this._updateCounter)})),this._handleSelection||(this._handleSelection=(t=>{document.contains(e)?this.handleSelection():d.ListenerUtils.multiRemove(this.refElement,"mousedown",this._handleSelection)})),d.ListenerUtils.multiRemove(this.refElement,"mousedown",this._handleSelection),d.ListenerUtils.multiAdd(this.refElement,"mousedown",this._handleSelection),"INPUT"==this.refElement.tagName||"TEXTAREA"==this.refElement.tagName?(d.ListenerUtils.multiRemove(this.refElement,"keydown click change",this._updateCounter),d.ListenerUtils.multiAdd(this.refElement,"keydown click change",this._updateCounter)):(this._mutationObserver?this._mutationObserver.disconnect():this._mutationObserver=new MutationObserver(t=>{document.contains(e)?this.updateCounter():this._mutationObserver.disconnect()}),this._mutationObserver.observe(this.refElement,{childList:!0,subtree:!0})),this.updateCounter()):d.LogUtils.warn("could not find referenceElement for BDFDB_CharCounter"))}else d.LogUtils.warn("refClass can not be undefined for BDFDB_CharCounter")}render(){let e=this.getCounterString();return d.TimeUtils.timeout(t=>{e!=this.getCounterString()&&d.ReactUtils.forceUpdate(this)}),d.ReactUtils.createElement("div",d.ObjectUtils.exclude(Object.assign({},this.props,{className:d.DOMUtils.formatClassName(d.disCN.charcounter,this.props.className),children:e}),"parsing","max","refClass","renderPrefix","renderSuffix"))}},r.LibraryComponents.Checkbox=A&&class extends n.React.Component{handleChange(){this.props.value=!this.props.value,"function"==typeof this.props.onChange&&this.props.onChange(this.props.value,this),d.ReactUtils.forceUpdate(this)}render(){return d.ReactUtils.createElement(r.NativeSubComponents.Checkbox,Object.assign({},this.props,{onChange:this.handleChange.bind(this)}))}},r.LibraryComponents.Clickable=A&&class extends n.React.Component{handleClick(e){"function"==typeof this.props.onClick&&this.props.onClick(e,this)}handleContextMenu(e){"function"==typeof this.props.onContextMenu&&this.props.onContextMenu(e,this)}handleMouseDown(e){"function"==typeof this.props.onMouseDown&&this.props.onMouseDown(e,this)}handleMouseUp(e){"function"==typeof this.props.onMouseUp&&this.props.onMouseUp(e,this)}handleMouseEnter(e){"function"==typeof this.props.onMouseEnter&&this.props.onMouseEnter(e,this)}handleMouseLeave(e){"function"==typeof this.props.onMouseLeave&&this.props.onMouseLeave(e,this)}render(){return d.ReactUtils.createElement(r.NativeSubComponents.Clickable,Object.assign({},this.props,{className:d.DOMUtils.formatClassName(this.props.className,-1==(this.props.className||"").toLowerCase().indexOf("disabled")&&d.disCN.cursorpointer),onClick:this.handleClick.bind(this),onContextMenu:this.handleContextMenu.bind(this),onMouseUp:this.handleMouseDown.bind(this),onMouseDown:!this.props.disabled&&this.handleMouseUp.bind(this),onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this)}))}},r.LibraryComponents.CollapseContainer=A&&class extends n.React.Component{render(){return d.ObjectUtils.is(this.props.collapseStates)||(this.props.collapseStates={}),this.props.collapsed=this.props.collapsed&&(this.props.collapseStates[this.props.title]||null==this.props.collapseStates[this.props.title]),this.props.collapseStates[this.props.title]=this.props.collapsed,d.ReactUtils.createElement("div",{className:d.DOMUtils.formatClassName(this.props.collapsed&&d.disCN.collapsecontainercollapsed,this.props.mini?d.disCN.collapsecontainermini:d.disCN.collapsecontainer,this.props.className),id:this.props.id,children:[d.ReactUtils.createElement(r.LibraryComponents.Flex,{className:d.disCN.collapsecontainerheader,align:r.LibraryComponents.Flex.Align.CENTER,onClick:e=>{this.props.collapsed=!this.props.collapsed,this.props.collapseStates[this.props.title]=this.props.collapsed,"function"==typeof this.props.onClick&&this.props.onClick(this.props.collapsed,this),d.ReactUtils.forceUpdate(this)},children:d.ReactUtils.createElement(r.LibraryComponents.FormComponents.FormTitle,{tag:r.LibraryComponents.FormComponents.FormTitle.Tags.H5,className:d.disCN.collapsecontainertitle,children:this.props.title})}),this.props.collapsed?null:d.ReactUtils.createElement("div",{className:d.disCN.collapsecontainerinner,children:this.props.children})]})}},u.setDefaultProps(r.LibraryComponents.CollapseContainer,{collapsed:!0,mini:!0}),r.LibraryComponents.ColorPicker=A&&class extends n.React.Component{constructor(e){super(e),this.state||(this.state={}),this.state.isGradient=e.gradient&&e.color&&d.ObjectUtils.is(e.color),this.state.gradientBarEnabled=this.state.isGradient,this.state.draggingAlphaCursor=!1,this.state.draggingGradientCursor=!1,this.state.selectedGradientCursor=0}handleColorChange(e){let t=!1;null!=e?(t=!d.equals(this.state.isGradient?this.props.color[this.state.selectedGradientCursor]:this.props.color,e),this.state.isGradient?this.props.color[this.state.selectedGradientCursor]=e:this.props.color=e):t=!0,t&&("function"==typeof this.props.onColorChange&&this.props.onColorChange(this.props.color),d.ReactUtils.forceUpdate(this))}componentDidMount(){this.domElementRef={current:d.DOMUtils.getParent(d.dotCN.itemlayer,d.ReactUtils.findDOMNode(this))};let e=d.ReactUtils.findOwner(this.domElementRef.current,{name:"BDFDB_PopoutContainer",up:!0,unlimited:!0});if(e){let t=s=>{if(this.domElementRef.current&&document.contains(this.domElementRef.current)){if(!this.domElementRef.current.contains(s.target)){let s=i=>{this.domElementRef.current&&document.contains(this.domElementRef.current)?this.domElementRef.current.contains(i.target)||(document.removeEventListener("mousedown",t),document.removeEventListener("mouseup",s),e.handleClick(i)):(document.removeEventListener("mousedown",t),document.removeEventListener("mouseup",s))};document.addEventListener("mouseup",s)}}else document.removeEventListener("mousedown",t)};document.addEventListener("mousedown",t)}}render(){this.state.isGradient&&(this.props.color=Object.assign({},this.props.color));let e=this.props.alpha?"HSLA":"HSL",t=this.props.alpha?/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i:/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,s=d.ColorUtils.convert(this.state.isGradient?this.props.color[this.state.selectedGradientCursor]:this.props.color,e)||d.ColorUtils.convert("#000000FF",e),i=this.state.isGradient?Object.entries(this.props.color,e):[[0,s],[1,s]],[o,n,l]=d.ColorUtils.convert(s,"HSLCOMP"),a=d.ColorUtils.getAlpha(s);return a=null==a?1:a,d.ReactUtils.createElement(r.LibraryComponents.PopoutFocusLock,{className:d.disCNS.colorpickerwrapper+d.disCN.colorpicker,children:[d.ReactUtils.createElement("div",{className:d.disCN.colorpickerinner,children:[d.ReactUtils.createElement("div",{className:d.disCN.colorpickersaturation,children:d.ReactUtils.createElement("div",{className:d.disCN.colorpickersaturationcolor,style:{position:"absolute",top:0,right:0,bottom:0,left:0,cursor:"crosshair",backgroundColor:d.ColorUtils.convert([o,"100%","100%"],"RGB")},onClick:t=>{let s=d.DOMUtils.getRects(d.DOMUtils.getParent(d.dotCN.colorpickersaturationcolor,t.target)),i=d.NumberUtils.mapRange([s.left,s.left+s.width],[0,100],t.clientX)+"%",n=d.NumberUtils.mapRange([s.top,s.top+s.height],[100,0],t.clientY)+"%";this.handleColorChange(d.ColorUtils.convert([o,i,n,a],e))},onMouseDown:t=>{let s=d.DOMUtils.getRects(d.DOMUtils.getParent(d.dotCN.colorpickersaturationcolor,t.target)),i=e=>{document.removeEventListener("mouseup",i),document.removeEventListener("mousemove",n)},n=t=>{let i=d.NumberUtils.mapRange([s.left,s.left+s.width],[0,100],t.clientX)+"%",n=d.NumberUtils.mapRange([s.top,s.top+s.height],[100,0],t.clientY)+"%";this.handleColorChange(d.ColorUtils.convert([o,i,n,a],e))};document.addEventListener("mouseup",i),document.addEventListener("mousemove",n)},children:[d.ReactUtils.createElement("style",{children:`${d.dotCN.colorpickersaturationwhite} {background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));background: linear-gradient(to right, #fff, rgba(255,255,255,0));}${d.dotCN.colorpickersaturationblack} {background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));background: linear-gradient(to top, #000, rgba(0,0,0,0));}`}),d.ReactUtils.createElement("div",{className:d.disCN.colorpickersaturationwhite,style:{position:"absolute",top:0,right:0,bottom:0,left:0},children:[d.ReactUtils.createElement("div",{className:d.disCN.colorpickersaturationblack,style:{position:"absolute",top:0,right:0,bottom:0,left:0}}),d.ReactUtils.createElement("div",{className:d.disCN.colorpickersaturationcursor,style:{position:"absolute",cursor:"crosshair",left:n,top:`${d.NumberUtils.mapRange([0,100],[100,0],parseFloat(l))}%`},children:d.ReactUtils.createElement("div",{style:{width:4,height:4,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 1.5px, rgba(0, 0, 0, 0.3) 0px 0px 1px 1px inset, rgba(0, 0, 0, 0.4) 0px 0px 1px 2px",borderRadius:"50%",transform:"translate(-2px, -2px)"}})})]})]})}),d.ReactUtils.createElement("div",{className:d.disCN.colorpickerhue,children:d.ReactUtils.createElement("div",{style:{position:"absolute",top:0,right:0,bottom:0,left:0},children:d.ReactUtils.createElement("div",{className:d.disCN.colorpickerhuehorizontal,style:{padding:"0px 2px",position:"relative",height:"100%"},onClick:t=>{let s=d.DOMUtils.getRects(d.DOMUtils.getParent(d.dotCN.colorpickerhuehorizontal,t.target)),i=d.NumberUtils.mapRange([s.left,s.left+s.width],[0,360],t.clientX);this.handleColorChange(d.ColorUtils.convert([i,n,l,a],e))},onMouseDown:t=>{let s=d.DOMUtils.getRects(d.DOMUtils.getParent(d.dotCN.colorpickerhuehorizontal,t.target)),i=e=>{document.removeEventListener("mouseup",i),document.removeEventListener("mousemove",o)},o=t=>{let i=d.NumberUtils.mapRange([s.left,s.left+s.width],[0,360],t.clientX);this.handleColorChange(d.ColorUtils.convert([i,n,l,a],e))};document.addEventListener("mouseup",i),document.addEventListener("mousemove",o)},children:[d.ReactUtils.createElement("style",{children:`${d.dotCN.colorpickerhuehorizontal} {background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);background: -webkit-linear-gradient(to right, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);}${d.dotCN.colorpickerhuevertical} {background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);}`}),d.ReactUtils.createElement("div",{className:d.disCN.colorpickerhuecursor,style:{position:"absolute",cursor:"ew-resize",left:`${d.NumberUtils.mapRange([0,360],[0,100],o)}%`},children:d.ReactUtils.createElement("div",{style:{marginTop:1,width:4,borderRadius:1,height:8,boxShadow:"rgba(0, 0, 0, 0.6) 0px 0px 2px",background:"rgb(255, 255, 255)",transform:"translateX(-2px)"}})})]})})}),this.props.alpha&&d.ReactUtils.createElement("div",{className:d.disCN.colorpickeralpha,children:[d.ReactUtils.createElement("div",{style:{position:"absolute",top:0,right:0,bottom:0,left:0},children:d.ReactUtils.createElement("div",{className:d.disCN.colorpickeralphacheckered,style:{padding:"0px 2px",position:"relative",height:"100%"}})}),d.ReactUtils.createElement("div",{style:{position:"absolute",top:0,right:0,bottom:0,left:0},children:d.ReactUtils.createElement("div",{className:d.disCN.colorpickeralphahorizontal,style:{padding:"0px 2px",position:"relative",height:"100%",background:`linear-gradient(to right, ${d.ColorUtils.setAlpha([o,n,l],0,"RGBA")}, ${d.ColorUtils.setAlpha([o,n,l],1,"RGBA")}`},onClick:t=>{let i=d.DOMUtils.getRects(d.DOMUtils.getParent(d.dotCN.colorpickeralphahorizontal,t.target)),o=d.NumberUtils.mapRange([i.left,i.left+i.width],[0,1],t.clientX);this.handleColorChange(d.ColorUtils.setAlpha(s,o,e))},onMouseDown:t=>{let i=d.DOMUtils.getRects(d.DOMUtils.getParent(d.dotCN.colorpickeralphahorizontal,t.target)),o=e=>{document.removeEventListener("mouseup",o),document.removeEventListener("mousemove",n),this.state.draggingAlphaCursor=!1,d.ReactUtils.forceUpdate(this)},n=t=>{this.state.draggingAlphaCursor=!0;let o=d.NumberUtils.mapRange([i.left,i.left+i.width],[0,1],t.clientX);this.handleColorChange(d.ColorUtils.setAlpha(s,o,e))};document.addEventListener("mouseup",o),document.addEventListener("mousemove",n)},children:d.ReactUtils.createElement("div",{className:d.disCN.colorpickeralphacursor,style:{position:"absolute",cursor:"ew-resize",left:`${100*a}%`},children:[d.ReactUtils.createElement("div",{style:{marginTop:1,width:4,borderRadius:1,height:8,boxShadow:"rgba(0, 0, 0, 0.6) 0px 0px 2px",background:"rgb(255, 255, 255)",transform:"translateX(-2px)"}}),this.state.draggingAlphaCursor&&d.ReactUtils.createElement("span",{className:d.disCN.sliderbubble,style:{opacity:1,visibility:"visible",left:2},children:`${Math.floor(100*a)}%`})].filter(e=>e)})})})]}),this.state.gradientBarEnabled&&d.ReactUtils.createElement("div",{className:d.disCN.colorpickergradient,children:[d.ReactUtils.createElement("div",{style:{position:"absolute",top:0,right:0,bottom:0,left:0},children:d.ReactUtils.createElement("div",{className:d.disCN.colorpickergradientcheckered,style:{padding:"0px 2px",position:"relative",height:"100%"}})}),d.ReactUtils.createElement("div",{style:{position:"absolute",top:0,right:0,bottom:0,left:0},children:d.ReactUtils.createElement("div",{className:d.disCN.colorpickergradienthorizontal,style:{padding:"0px 2px",position:"relative",cursor:"copy",height:"100%",background:d.ColorUtils.createGradient(i.reduce((e,t)=>(e[t[0]]=t[1],e),{}))},onClick:t=>{let s=d.DOMUtils.getRects(t.target),i=d.NumberUtils.mapRange([s.left,s.left+s.width],[.01,.99],t.clientX);-1==Object.keys(this.props.color).indexOf(i)&&(this.props.color[i]=d.ColorUtils.convert("#000000FF",e),this.state.selectedGradientCursor=i,this.handleColorChange())},children:i.map(e=>d.ReactUtils.createElement("div",{className:d.DOMUtils.formatClassName(d.disCN.colorpickergradientcursor,(0==e[0]||1==e[0])&&d.disCNS.colorpickergradientcursoredge,this.state.selectedGradientCursor==e[0]&&d.disCN.colorpickergradientcursorselected),style:{position:"absolute",cursor:"pointer",left:`${100*e[0]}%`},onMouseDown:0==e[0]||1==e[0]?e=>{}:t=>{t=t.nativeEvent||t;let s=o=>{if(Math.sqrt((t.pageX-o.pageX)**2)>10){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",i),this.state.draggingGradientCursor=!0;let o=d.DOMUtils.getParent(d.dotCN.colorpickergradientcursor,t.target),n=d.DOMUtils.getRects(o.parentElement),r=e=>{document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",r),d.TimeUtils.timeout(e=>{this.state.draggingGradientCursor=!1})},l=t=>{let s=d.NumberUtils.mapRange([n.left,n.left+n.width],[.01,.99],t.clientX);-1==Object.keys(this.props.color).indexOf(s)&&(delete this.props.color[e[0]],e[0]=s,this.props.color[s]=e[1],this.state.selectedGradientCursor=s,this.handleColorChange())};document.addEventListener("mousemove",l),document.addEventListener("mouseup",r)}},i=e=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",i)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",i)},onClick:t=>{d.ListenerUtils.stopEvent(t),this.state.draggingGradientCursor||(this.state.selectedGradientCursor=e[0],d.ReactUtils.forceUpdate(this))},onContextMenu:0==e[0]||1==e[0]?e=>{}:t=>{d.ListenerUtils.stopEvent(t),delete this.props.color[e[0]],this.state.selectedGradientCursor=0,this.handleColorChange()},children:d.ReactUtils.createElement("div",{style:{background:d.ColorUtils.convert(e[1],"RGBA")}})}))})})]})].filter(e=>e)}),d.ReactUtils.createElement(r.LibraryComponents.TextInput,{className:d.disCNS.colorpickerhexinput+d.disCN.margintop8,maxLength:this.props.alpha?9:7,valuePrefix:"#",value:d.ColorUtils.convert(s,this.props.alpha?"HEXA":"HEX"),autoFocus:!0,onChange:e=>{t.test(e)&&this.handleColorChange(e)},inputChildren:this.props.gradient&&d.ReactUtils.createElement(r.LibraryComponents.TooltipContainer,{text:d.LanguageUtils.LibraryStrings.gradient,children:d.ReactUtils.createElement(r.LibraryComponents.Clickable,{className:d.DOMUtils.formatClassName(d.disCN.colorpickergradientbutton,this.state.gradientBarEnabled&&d.disCN.colorpickergradientbuttonenabled),children:d.ReactUtils.createElement(r.LibraryComponents.SvgIcon,{nativeClass:!0,width:28,height:28,name:r.LibraryComponents.SvgIcon.Names.GRADIENT}),onClick:e=>{this.state.gradientBarEnabled=!this.state.gradientBarEnabled,this.state.gradientBarEnabled&&!this.state.isGradient?this.props.color={0:s,1:s}:!this.state.gradientBarEnabled&&this.state.isGradient&&(this.props.color=s),this.state.isGradient=this.props.color&&d.ObjectUtils.is(this.props.color),this.handleColorChange()}})})}),d.ReactUtils.createElement("div",{className:"move-corners",children:[{top:0,left:0},{top:0,right:0},{bottom:0,right:0},{bottom:0,left:0}].map(e=>d.ReactUtils.createElement("div",{className:"move-corner",onMouseDown:e=>{if(!this.domElementRef.current)return;let t=d.DOMUtils.getRects(this.domElementRef.current),s=t.left,i=t.top,o=e.pageX,n=e.pageY,r=e=>{document.removeEventListener("mouseup",r),document.removeEventListener("mousemove",l)},l=e=>{s-=o-e.pageX,i-=n-e.pageY,o=e.pageX,n=e.pageY,this.domElementRef.current.style.setProperty("left",`${s}px`,"important"),this.domElementRef.current.style.setProperty("top",`${i}px`,"important")};document.addEventListener("mouseup",r),document.addEventListener("mousemove",l)},style:Object.assign({},e,{width:10,height:10,cursor:"move",position:"absolute"})}))})]})}},r.LibraryComponents.ColorSwatches=A&&class extends n.React.Component{constructor(e){super(e),e.selectedColor=d.ObjectUtils.is(e.color)?e.color:d.ColorUtils.convert(e.color,"RGBA"),e.colors=(d.ArrayUtils.is(e.colors)?e.colors:[null,5433630,3066993,1752220,3447003,3429595,8789737,10181046,15277667,15286558,15158332,15105570,15844367,13094093,7372936,6513507,16777215,3910932,2067276,1146986,2123412,2111892,7148717,7419530,11342935,11345940,10038562,11027200,12745742,9936031,6121581,2894892]).map(e=>d.ColorUtils.convert(e,"RGBA")),e.colorRows=e.colors.length?[e.colors.slice(0,parseInt(e.colors.length/2)),e.colors.slice(parseInt(e.colors.length/2))]:[],e.customColor=null!=e.selectedColor?e.colors.indexOf(e.selectedColor)>-1?null:e.selectedColor:null,e.customSelected=!!e.customColor,e.pickerConfig=d.ObjectUtils.is(e.pickerConfig)?e.pickerConfig:{gradient:!0,alpha:!0},this.state=e;var t=this;this.ColorSwatch=class extends n.React.Component{render(){let s=!d.ColorUtils.isBright(this.props.color),i=d.ReactUtils.createElement("button",{type:"button",className:d.DOMUtils.formatClassName(d.disCN.colorpickerswatch,this.props.isSingle&&d.disCN.colorpickerswatchsingle,this.props.isDisabled&&d.disCN.colorpickerswatchdisabled,this.props.isSelected&&d.disCN.colorpickerswatchselected,this.props.isCustom&&d.disCN.colorpickerswatchcustom,null==this.props.color&&d.disCN.colorpickerswatchnocolor),number:this.props.number,disabled:this.props.isDisabled,onClick:e=>{if(!this.props.isSelected){let e=this.props.isCustom&&null==this.props.color?"rgba(0, 0, 0, 1)":this.props.color;"function"==typeof t.props.onColorChange&&t.props.onColorChange(d.ColorUtils.convert(e,"RGBA")),t.setState({selectedColor:e,customColor:this.props.isCustom?e:t.state.customColor,customSelected:this.props.isCustom})}},style:Object.assign({},this.props.style,{background:d.ObjectUtils.is(this.props.color)?d.ColorUtils.createGradient(this.props.color):d.ColorUtils.convert(this.props.color,"RGBA")}),children:[this.props.isCustom||this.props.isSingle?d.ReactUtils.createElement(r.LibraryComponents.SvgIcon,{className:d.disCN.colorpickerswatchdropper,foreground:d.disCN.colorpickerswatchdropperfg,name:r.LibraryComponents.SvgIcon.Names.DROPPER,width:this.props.isCustom?14:10,height:this.props.isCustom?14:10,color:s?d.DiscordConstants.Colors.WHITE:d.DiscordConstants.Colors.BLACK}):null,this.props.isSelected&&!this.props.isSingle?d.ReactUtils.createElement(r.LibraryComponents.SvgIcon,{name:r.LibraryComponents.SvgIcon.Names.CHECKMARK,width:this.props.isCustom?32:16,height:this.props.isCustom?24:16,color:s?d.DiscordConstants.Colors.WHITE:d.DiscordConstants.Colors.BLACK}):null]});return(this.props.isCustom||this.props.isSingle||null==this.props.color)&&(i=d.ReactUtils.createElement(r.LibraryComponents.TooltipContainer,{text:this.props.isCustom||this.props.isSingle?d.LanguageUtils.LanguageStrings.CUSTOM_COLOR:d.LanguageUtils.LanguageStrings.DEFAULT,tooltipConfig:{type:this.props.isSingle?"top":"bottom"},children:i})),(this.props.isCustom||this.props.isSingle)&&(i=d.ReactUtils.createElement(r.LibraryComponents.PopoutContainer,{children:i,wrap:!1,popoutClassName:d.disCNS.colorpickerwrapper+d.disCN.colorpicker,animation:r.LibraryComponents.PopoutContainer.Animation.TRANSLATE,position:r.LibraryComponents.PopoutContainer.Positions.BOTTOM,align:r.LibraryComponents.PopoutContainer.Align.CENTER,renderPopout:s=>d.ReactUtils.createElement(r.LibraryComponents.ColorPicker,Object.assign({color:this.props.color,onColorChange:e=>{"function"==typeof t.props.onColorChange&&t.props.onColorChange(d.ColorUtils.convert(e,"RGBA")),this.props.color=e,t.setState({selectedColor:e,customColor:e,customSelected:!0})}},e.pickerConfig),!0)})),i}}}renderRow(e){return d.ReactUtils.createElement(r.LibraryComponents.Flex,{className:d.disCN.colorpickerrow,wrap:r.LibraryComponents.Flex.Wrap.WRAP,children:e.map(e=>d.ReactUtils.createElement(this.ColorSwatch,{color:e,isCustom:!1,isSelected:!this.state.customSelected&&e===this.state.selectedColor,isDisabled:this.state.disabled}))})}render(){let e=d.ReactUtils.createElement(this.ColorSwatch,{number:this.state.colors.length?null:null!=this.props.number?this.props.number:0,color:this.state.customColor,isSingle:!this.state.colors.length,isCustom:this.state.colors.length,isSelected:this.state.customSelected,isDisabled:this.state.disabled,style:{margin:0}});return this.state.colors.length?d.ReactUtils.createElement(r.LibraryComponents.Flex,{className:d.DOMUtils.formatClassName(d.disCN.colorpickerswatches,this.state.disabled&&d.disCN.colorpickerswatchesdisabled),number:null!=this.props.number?this.props.number:0,children:[d.ReactUtils.createElement(r.LibraryComponents.Flex.Child,{className:d.disCN.marginreset,shrink:0,grow:0,children:e}),d.ReactUtils.createElement(r.LibraryComponents.Flex,{direction:r.LibraryComponents.Flex.Direction.VERTICAL,className:d.disCN.flexmarginreset,grow:1,children:[this.renderRow(this.state.colorRows[0]),this.renderRow(this.state.colorRows[1])]})]}):d.ReactUtils.createElement("div",{className:d.disCN.colorpickerswatchsinglewrapper,children:e})}},r.LibraryComponents.EmojiPickerButton=A&&class extends n.React.Component{handleEmojiChange(e){null!=e&&(this.props.emoji=e.id?{id:e.id,name:e.name,animated:e.animated}:{id:null,name:e.optionallyDiverseSequence,animated:!1},"function"==typeof this.props.onSelect&&this.props.onSelect(this.props.emoji,this),d.ReactUtils.forceUpdate(this))}render(){return d.ReactUtils.createElement(r.LibraryComponents.PopoutContainer,{children:d.ReactUtils.createElement(r.LibraryComponents.EmojiButton,{className:d.DOMUtils.formatClassName(this.props.className,d.disCN.emojiinputbutton),renderButtonContents:this.props.emoji?e=>d.ReactUtils.createElement(r.LibraryComponents.Emoji,{className:d.disCN.emoji,emojiId:this.props.emoji.id,emojiName:this.props.emoji.name}):null}),wrap:!1,animation:r.LibraryComponents.PopoutContainer.Animation.NONE,position:r.LibraryComponents.PopoutContainer.Positions.TOP,align:r.LibraryComponents.PopoutContainer.Align.LEFT,renderPopout:e=>d.ReactUtils.createElement(r.LibraryComponents.EmojiPicker,{closePopout:e.close,onSelectEmoji:this.handleEmojiChange.bind(this),allowManagedEmojis:this.props.allowManagedEmojis})})}},u.setDefaultProps(r.LibraryComponents.EmojiPickerButton,{allowManagedEmojis:!1}),r.LibraryComponents.FavButton=A&&class extends n.React.Component{handleClick(){this.props.isFavorite=!this.props.isFavorite,"function"==typeof this.props.onClick&&this.props.onClick(this.props.isFavorite,this),d.ReactUtils.forceUpdate(this)}render(){return d.ReactUtils.createElement("div",{className:d.DOMUtils.formatClassName(d.disCN.favbuttoncontainer,this.props.className),children:d.ReactUtils.createElement(r.NativeSubComponents.FavButton,d.ObjectUtils.exclude(Object.assign({},this.props,{onClick:this.handleClick.bind(this)}),"className"))})}},r.LibraryComponents.FileButton=A&&class extends n.React.Component{componentDidMount(){if(this.props.searchFolders){let e=d.ReactUtils.findDOMNode(this);e&&null!=(e=e.querySelector("input[type='file']"))&&(e.setAttribute("directory",""),e.setAttribute("webkitdirectory",""))}}render(){let e=this.props.filter&&[this.props.filter].flat(10).filter(e=>"string"==typeof e)||[];return d.ReactUtils.createElement(r.LibraryComponents.Button,d.ObjectUtils.exclude(Object.assign({},this.props,{onClick:e=>{e.currentTarget.querySelector("input").click()},children:[d.LanguageUtils.LibraryStrings.file_navigator_text,d.ReactUtils.createElement("input",{type:"file",accept:e.length&&e.join("/*,")+"/*",style:{display:"none"},onChange:t=>{let s=t.currentTarget.files[0];this.refInput&&s&&(!e.length||e.some(e=>0==s.type.indexOf(e)))&&(this.refInput.props.value=this.props.searchFolders?s.path.split(s.name).slice(0,-1).join(s.name):`${"url"==this.props.mode?"url('":""}${this.props.useFilePath?s.path:`data: ${s.type};base64,${d.LibraryRequires.fs.readFileSync(s.path).toString("base64")}`}${this.props.mode?"')":""}`,d.ReactUtils.forceUpdate(this.refInput),this.refInput.handleChange(this.refInput.props.value))}})]}),"filter","mode","useFilePath","searchFolders"))}},r.LibraryComponents.FormComponents.FormItem=A&&class extends n.React.Component{render(){return d.ReactUtils.createElement("div",{className:this.props.className,style:this.props.style,children:[d.ReactUtils.createElement(r.LibraryComponents.Flex,{align:r.LibraryComponents.Flex.Align.BASELINE,children:[null!=this.props.title||null!=this.props.error?d.ReactUtils.createElement(r.LibraryComponents.Flex.Child,{wrap:!0,children:d.ReactUtils.createElement(r.LibraryComponents.FormComponents.FormTitle,{tag:this.props.tag||r.LibraryComponents.FormComponents.FormTitle.Tags.H5,disabled:this.props.disabled,required:this.props.required,error:this.props.error,className:this.props.titleClassName,children:this.props.title})}):null].concat([this.props.titlechildren].flat(10)).filter(e=>e)})].concat(this.props.children)})}},r.LibraryComponents.GuildComponents=Object.assign({},r.LibraryComponents.GuildComponents),r.LibraryComponents.GuildComponents.Guild=A&&class extends n.React.Component{constructor(e){super(e),this.state={hovered:!1}}handleMouseEnter(e){this.props.sorting||this.setState({hovered:!0}),"function"==typeof this.props.onMouseEnter&&this.props.onMouseEnter(e,this)}handleMouseLeave(e){this.props.sorting||this.setState({hovered:!1}),"function"==typeof this.props.onMouseLeave&&this.props.onMouseLeave(e,this)}handleMouseDown(e){!this.props.unavailable&&this.props.guild&&this.props.selectedChannelId&&n.DirectMessageUtils.preload(this.props.guild.id,this.props.selectedChannelId),0==e.button&&"function"==typeof this.props.onMouseDown&&this.props.onMouseDown(e,this)}handleMouseUp(e){0==e.button&&"function"==typeof this.props.onMouseUp&&this.props.onMouseUp(e,this)}handleClick(e){"function"==typeof this.props.onClick&&this.props.onClick(e,this)}handleContextMenu(e){this.props.menu&&d.GuildUtils.openMenu(this.props.guild,e),"function"==typeof this.props.onContextMenu&&this.props.onContextMenu(e,this)}setRef(e){"function"==typeof this.props.setRef&&this.props.setRef(this.props.guild.id,e)}componentDidMount(){let e=d.ReactUtils.findDOMNode(this);if(e)for(let t of e.querySelectorAll("a"))t.setAttribute("draggable",!1)}render(){if(!this.props.guild)return null;let e=n.ChannelStore.getChannel(n.CurrentVoiceUtils.getChannelId()),t=e&&n.VoiceUtils.hasVideo(e);this.props.guildId=this.props.guild.id,this.props.selectedChannelId=n.LastChannelStore.getChannelId(this.props.guild.id),this.props.selected=!!this.props.state&&n.LastGuildStore.getGuildId()==this.props.guild.id,this.props.unread=!!this.props.state&&n.UnreadGuildUtils.hasUnread(this.props.guild.id),this.props.badge=this.props.state?n.UnreadGuildUtils.getMentionCount(this.props.guild.id):0,this.props.audio=!!this.props.state&&(e&&e.guild_id==this.props.guild.id&&!t),this.props.video=!!this.props.state&&(e&&e.guild_id==this.props.guild.id&&t),this.props.screenshare=!!this.props.state&&!!n.StreamUtils.getAllApplicationStreams().filter(e=>e.guildId==this.props.guild.id)[0],this.props.isCurrentUserInThisGuildVoice=!!this.props.state&&n.CurrentVoiceUtils.getGuildId()==this.props.guild.id,this.props.animatable=!!this.props.state&&n.IconUtils.hasAnimatedGuildIcon(this.props.guild),this.props.unavailable=!!this.props.state&&n.GuildUnavailableStore.unavailableGuilds.includes(this.props.guild.id);let s=this.props.draggingGuildId===this.props.guild.id,i=s?d.ReactUtils.createElement("div",{children:d.ReactUtils.createElement(r.LibraryComponents.GuildComponents.Items.DragPlaceholder,{})}):d.ReactUtils.createElement("div",{className:d.disCN.guildcontainer,children:d.ReactUtils.createElement(r.LibraryComponents.GuildComponents.BlobMask,{selected:this.state.isDropHovering||this.props.selected||this.state.hovered,upperBadge:this.props.unavailable?r.LibraryComponents.GuildComponents.Items.renderUnavailableBadge():r.LibraryComponents.GuildComponents.Items.renderIconBadge(this.props.audio,this.props.video,this.props.screenshare,this.props.isCurrentUserInThisGuildVoice),lowerBadge:this.props.badge>0?r.LibraryComponents.GuildComponents.Items.renderMentionBadge(this.props.badge):null,lowerBadgeWidth:r.LibraryComponents.Badges.getBadgeWidthForValue(this.props.badge),children:d.ReactUtils.createElement(r.LibraryComponents.NavItem,{to:{pathname:d.DiscordConstants.Routes.CHANNEL(this.props.guild.id,this.props.selectedChannelId),state:{analyticsSource:{page:d.DiscordConstants.AnalyticsPages.GUILD_CHANNEL,section:d.DiscordConstants.AnalyticsSections.CHANNEL_LIST,object:d.DiscordConstants.AnalyticsObjects.CHANNEL}}},name:this.props.guild.name,onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this),onMouseDown:this.handleMouseDown.bind(this),onMouseUp:this.handleMouseUp.bind(this),onClick:this.handleClick.bind(this),onContextMenu:this.handleContextMenu.bind(this),icon:this.props.guild.getIconURL(this.state.hovered&&this.props.animatable?"gif":"png"),selected:this.props.selected||this.state.hovered})})});this.props.draggable&&"function"==typeof this.props.connectDragSource&&(i=this.props.connectDragSource(i));let o=[this.props.list||this.props.pill?d.ReactUtils.createElement(r.LibraryComponents.GuildComponents.Pill,{hovered:!s&&this.state.hovered,selected:!s&&this.props.selected,unread:!s&&this.props.unread,className:d.disCN.guildpill}):null,this.props.tooltip?d.ReactUtils.createElement(r.LibraryComponents.TooltipContainer,{tooltipConfig:Object.assign({type:"right"},this.props.tooltipConfig,{guild:this.props.list&&this.props.guild}),children:i}):i].filter(e=>e);return this.props.list?d.ReactUtils.createElement("div",{ref:null!=this.props.setRef?this.props.setRef:null,className:d.DOMUtils.formatClassName(d.disCN.guildouter,d.disCN._bdguild,this.props.unread&&d.disCN._bdguildunread,this.props.selected&&d.disCN._bdguildselected,this.props.unread&&d.disCN._bdguildunread,this.props.audio&&d.disCN._bdguildaudio,this.props.video&&d.disCN._bdguildvideo),children:d.ReactUtils.createElement(d.ReactUtils.Fragment,{children:o})}):d.ReactUtils.createElement("div",{className:d.DOMUtils.formatClassName(d.disCN.guild,this.props.className),children:o})}},u.setDefaultProps(r.LibraryComponents.GuildComponents.Guild,{menu:!0,tooltip:!0,list:!1,state:!1,draggable:!1,sorting:!1}),r.LibraryComponents.GuildSummaryItem=A&&class extends n.React.Component{defaultRenderGuild(e,t){if(!e)return d.ReactUtils.createElement("div",{className:d.disCN.guildsummaryemptyguild});let s=d.ReactUtils.createElement(r.LibraryComponents.GuildComponents.Icon,{className:d.disCN.guildsummaryicon,guild:e,showTooltip:this.props.showTooltip,tooltipPosition:"top",size:r.LibraryComponents.GuildComponents.Icon.Sizes.SMALLER});return this.props.switchOnClick?d.ReactUtils.createElement(r.LibraryComponents.Clickable,{className:d.disCN.guildsummaryclickableicon,onClick:t=>{n.SelectChannelUtils.selectChannel(e.id,n.LastChannelStore.getChannelId(e.id))},key:e.id,tabIndex:-1,children:s}):s}renderGuilds(){let e=[],t="function"!=typeof this.props.renderGuild?this.defaultRenderGuild:this.props.renderGuild,s=0,i=this.props.guilds.length===this.props.max?this.props.guilds.length:this.props.max-1;for(;s<i&&s<this.props.guilds.length;){let i=s===this.props.guilds.length-1,o=t.apply(this,[this.props.guilds[s],i]);e.push(d.ReactUtils.createElement("div",{className:i?d.disCN.guildsummaryiconcontainer:d.disCN.guildsummaryiconcontainermasked,children:o})),s++}if(s<this.props.guilds.length){let t=Math.min(this.props.guilds.length-s,99);e.push(d.ReactUtils.createElement(n.React.Fragment,{key:"more-guilds",children:this.props.renderMoreGuilds("+"+t,t,this.props.guilds.slice(s),this.props)}))}return e}renderIcon(){return this.props.renderIcon?d.ReactUtils.createElement(r.LibraryComponents.SvgIcon,{name:r.LibraryComponents.SvgIcon.Names.WHATISTHIS,className:d.disCN.guildsummarysvgicon}):null}render(){return d.ReactUtils.createElement("div",{className:d.DOMUtils.formatClassName(this.props.className,d.disCN.guildsummarycontainer),ref:this.props._ref,children:[this.renderIcon.apply(this),this.renderGuilds.apply(this)].flat(10).filter(e=>e)})}},u.setDefaultProps(r.LibraryComponents.GuildSummaryItem,{max:10,renderMoreGuilds:(e,t,s,i)=>{let o=d.ReactUtils.createElement("div",{className:d.disCN.guildsummarymoreguilds,children:e});return i.showTooltip?d.ReactUtils.createElement(r.LibraryComponents.TooltipContainer,{text:s.map(e=>e.name).join(", "),children:o}):o},renderIcon:!1}),r.LibraryComponents.KeybindRecorder=A&&class extends n.React.Component{handleChange(e){"function"==typeof this.props.onChange&&this.props.onChange(e.map(e=>n.KeyEvents.codes[d.LibraryModules.KeyCodeUtils.codeToKey(e)]||e[1]),this)}handleReset(){this.props.defaultValue=[];let e=d.ReactUtils.findOwner(this,{name:"KeybindRecorder"});e&&e.setState({codes:[]}),"function"==typeof this.props.onChange&&this.props.onChange([],this),"function"==typeof this.props.onReset&&this.props.onReset(this)}render(){return d.ReactUtils.createElement(r.LibraryComponents.Flex,{className:d.disCN.hotkeywrapper,direction:r.LibraryComponents.Flex.Direction.HORIZONTAL,align:r.LibraryComponents.Flex.Align.CENTER,children:[d.ReactUtils.createElement(r.NativeSubComponents.KeybindRecorder,d.ObjectUtils.exclude(Object.assign({},this.props,{defaultValue:[this.props.defaultValue].flat(10).filter(e=>e).map(e=>[d.DiscordConstants.KeyboardDeviceTypes.KEYBOARD_KEY,e,d.DiscordConstants.KeyboardEnvs.BROWSER]),onChange:this.handleChange.bind(this)}),"reset","onReset")),this.props.reset||this.props.onReset?d.ReactUtils.createElement(r.LibraryComponents.TooltipContainer,{text:d.LanguageUtils.LanguageStrings.REMOVE_KEYBIND,tooltipConfig:{type:"top"},children:d.ReactUtils.createElement(r.LibraryComponents.Clickable,{className:d.disCN.hotkeyresetbutton,onClick:this.handleReset.bind(this),children:d.ReactUtils.createElement(r.LibraryComponents.SvgIcon,{iconSVG:'<svg height="20" width="20" viewBox="0 0 20 20"><path fill="currentColor" d="M 14.348 14.849 c -0.469 0.469 -1.229 0.469 -1.697 0 l -2.651 -3.030 -2.651 3.029 c -0.469 0.469 -1.229 0.469 -1.697 0 -0.469 -0.469 -0.469 -1.229 0 -1.697l2.758 -3.15 -2.759 -3.152 c -0.469 -0.469 -0.469 -1.228 0 -1.697 s 1.228 -0.469 1.697 0 l 2.652 3.031 2.651 -3.031 c 0.469 -0.469 1.228 -0.469 1.697 0 s 0.469 1.229 0 1.697l -2.758 3.152 2.758 3.15 c 0.469 0.469 0.469 1.229 0 1.698 z"></path></svg>'})})}):null].filter(e=>e)})}},r.LibraryComponents.ListRow=A&&class extends n.React.Component{render(){return d.ReactUtils.createElement("div",d.ObjectUtils.exclude(Object.assign({},this.props,{className:d.DOMUtils.formatClassName(d.disCN.listrowwrapper,this.props.className,d.disCN.listrow),children:[this.props.prefix,d.ReactUtils.createElement("div",{className:d.disCN.listrowcontent,style:{flex:"1 1 auto"},children:[d.ReactUtils.createElement("div",{className:d.DOMUtils.formatClassName(d.disCN.listname,this.props.labelClassName),style:{flex:"1 1 auto"},children:this.props.label}),"string"==typeof this.props.note?d.ReactUtils.createElement(r.LibraryComponents.FormComponents.FormText,{type:r.LibraryComponents.FormComponents.FormText.Types.DESCRIPTION,children:this.props.note}):null].filter(e=>e)}),this.props.suffix].filter(e=>e)}),"label","note","suffix","prefix","labelClassName"))}},r.LibraryComponents.MemberRole=A&&class extends n.React.Component{handleClick(e){"function"==typeof this.props.onClick&&this.props.onClick(e,this)}handleContextMenu(e){"function"==typeof this.props.onContextMenu&&this.props.onContextMenu(e,this)}render(){let e=d.ColorUtils.convert(this.props.role.colorString||d.DiscordConstants.Colors.PRIMARY_DARK_300,"RGB");return d.ReactUtils.createElement("li",{className:d.DOMUtils.formatClassName(d.disCN.userpopoutrole,this.props.className),style:{borderColor:d.ColorUtils.setAlpha(e,.6)},onClick:this.handleClick.bind(this),onContextMenu:this.handleContextMenu.bind(this),children:[this.props.noCircle?null:d.ReactUtils.createElement("div",{className:d.disCN.userpopoutrolecircle,style:{backgroundColor:e}}),d.ReactUtils.createElement("div",{className:d.disCN.userpopoutrolename,children:this.props.role.name})].filter(e=>e)})}},r.LibraryComponents.MenuItems.MenuCheckboxItem=A&&class extends n.React.Component{handleClick(){this.props.state&&(this.props.state.checked=!this.props.state.checked,"function"==typeof this.props.action&&this.props.action(this.props.state.checked,this)),d.ReactUtils.forceUpdate(this)}render(){return d.ReactUtils.createElement(r.NativeSubComponents.MenuCheckboxItem,Object.assign({},this.props,{checked:this.props.state&&this.props.state.checked,action:this.handleClick.bind(this)}))}},r.LibraryComponents.MenuItems.MenuHint=A&&class extends n.React.Component{render(){return this.props.hint?d.ReactUtils.createElement("div",{className:d.disCN.menuhint,children:d.ReactUtils.createElement(r.LibraryComponents.TextScroller,{children:this.props.hint})}):null}},r.LibraryComponents.MenuItems.MenuIcon=A&&class extends n.React.Component{render(){let e="string"==typeof this.props.icon;return this.props.icon?d.ReactUtils.createElement(r.LibraryComponents.SvgIcon,{className:d.disCN.menuicon,nativeClass:!0,iconSVG:e?this.props.icon:null,name:e?null:this.props.icon}):null}},r.LibraryComponents.MenuItems.MenuSliderItem=A&&class extends n.React.Component{handleValueChange(e){this.props.state&&(this.props.state.value=Math.round(d.NumberUtils.mapRange([0,100],[this.props.minValue,this.props.maxValue],e)*Math.pow(10,this.props.digits))/Math.pow(10,this.props.digits),"function"==typeof this.props.onValueChange&&this.props.onValueChange(this.props.state.value,this)),d.ReactUtils.forceUpdate(this)}handleValueRender(e){let t=Math.round(d.NumberUtils.mapRange([0,100],[this.props.minValue,this.props.maxValue],e)*Math.pow(10,this.props.digits))/Math.pow(10,this.props.digits);if("function"==typeof this.props.onValueRender){let e=this.props.onValueRender(t,this);null!=e&&(t=e)}return t}render(){let e=this.props.state&&this.props.state.value||0;return d.ReactUtils.createElement(r.NativeSubComponents.MenuControlItem,d.ObjectUtils.exclude(Object.assign({},this.props,{label:"function"==typeof this.props.renderLabel?this.props.renderLabel(Math.round(e*Math.pow(10,this.props.digits))/Math.pow(10,this.props.digits)):this.props.label,control:(t,s)=>d.ReactUtils.createElement("div",{className:d.disCN.menuslidercontainer,children:d.ReactUtils.createElement(r.NativeSubComponents.Slider,Object.assign({},t,{ref:s,className:d.disCN.menuslider,mini:!0,initialValue:Math.round(d.NumberUtils.mapRange([this.props.minValue,this.props.maxValue],[0,100],e)*Math.pow(10,this.props.digits))/Math.pow(10,this.props.digits),onValueChange:this.handleValueChange.bind(this),onValueRender:this.handleValueRender.bind(this)}))})}),"digits","renderLabel"))}},u.setDefaultProps(r.LibraryComponents.MenuItems.MenuSliderItem,{minValue:0,maxValue:100,digits:0}),r.LibraryComponents.ModalComponents.ModalContent=A&&class extends n.React.Component{render(){return this.props.scroller?d.ReactUtils.createElement(r.LibraryComponents.Scrollers.Thin,{className:d.DOMUtils.formatClassName(d.disCN.modalcontent,this.props.className),ref:this.props.scrollerRef,children:this.props.children}):d.ReactUtils.createElement(r.LibraryComponents.Flex,{className:d.DOMUtils.formatClassName(this.props.content&&d.disCN.modalcontent,d.disCN.modalnoscroller,this.props.className),direction:this.props.direction||r.LibraryComponents.Flex.Direction.VERTICAL,align:r.LibraryComponents.Flex.Align.STRETCH,children:this.props.children})}},u.setDefaultProps(r.LibraryComponents.ModalComponents.ModalContent,{scroller:!0,content:!0}),r.LibraryComponents.ModalComponents.ModalTabContent=A&&class extends n.React.Component{render(){return d.ReactUtils.forceStyle(d.ReactUtils.createElement(this.props.scroller?r.LibraryComponents.Scrollers.Thin:"div",Object.assign(d.ObjectUtils.exclude(this.props,"scroller","open","render"),{className:d.DOMUtils.formatClassName(d.disCN.modaltabcontent,this.props.open&&d.disCN.modaltabcontentopen,this.props.className),style:Object.assign({},this.props.style,{display:this.props.open?null:"none"}),children:this.props.open||this.props.render?this.props.children:null})),["display"])}},u.setDefaultProps(r.LibraryComponents.ModalComponents.ModalTabContent,{tab:"unnamed",render:!0}),r.LibraryComponents.ModalComponents.ModalFooter=A&&class extends n.React.Component{render(){return d.ReactUtils.createElement(r.LibraryComponents.Flex,{className:d.DOMUtils.formatClassName(d.disCN.modalfooter,this.props.className),direction:this.props.direction||r.LibraryComponents.Flex.Direction.HORIZONTAL_REVERSE,align:r.LibraryComponents.Flex.Align.STRETCH,grow:0,shrink:0,children:this.props.children})}},r.LibraryComponents.MultiInput=A&&class extends n.React.Component{constructor(e){super(e),this.state={focused:!1}}render(){return this.props.children&&this.props.children.props&&(this.props.children.props.className=d.DOMUtils.formatClassName(this.props.children.props.className,d.disCN.inputmultifield)),d.ReactUtils.createElement("div",{className:d.DOMUtils.formatClassName(this.props.className,d.disCN.inputwrapper,d.disCN.inputmultiwrapper),children:d.ReactUtils.createElement("div",{className:d.DOMUtils.formatClassName(d.disCN.input,d.disCN.inputmulti,this.state.focused&&d.disCN.inputfocused),children:[d.ReactUtils.createElement("div",{className:d.DOMUtils.formatClassName(this.props.innerClassName,d.disCN.inputwrapper,d.disCN.inputmultifirst),children:this.props.children}),d.ReactUtils.createElement(r.LibraryComponents.TextInput,d.ObjectUtils.exclude(Object.assign({},this.props,{className:d.disCN.inputmultilast,inputClassName:d.disCN.inputmultifield,onFocus:e=>{this.setState({focused:!0})},onBlur:e=>{this.setState({focused:!1})}}),"children","innerClassName"))]})})}},r.LibraryComponents.ListInput=A&&class extends n.React.Component{handleChange(){this.props.onChange,this.props.onChange(this.props.items,this)}render(){return d.ArrayUtils.is(this.props.items)||(this.props.items=[]),d.ReactUtils.createElement(r.LibraryComponents.MultiInput,d.ObjectUtils.exclude(Object.assign({},this.props,{className:d.disCN.inputlist,innerClassName:d.disCN.inputlistitems,onKeyDown:e=>{if(13==e.which&&e.target.value&&e.target.value.trim()){let t=e.target.value.trim();this.props.value="",this.props.items.includes(t)||(this.props.items.push(t),d.ReactUtils.forceUpdate(this),this.handleChange.apply(this,[]))}},children:this.props.items.map(e=>d.ReactUtils.createElement(r.LibraryComponents.Badges.TextBadge,{className:d.disCN.inputlistitem,color:"var(--bdfdb-blurple)",style:{borderRadius:"3px"},text:[e,d.ReactUtils.createElement(r.LibraryComponents.SvgIcon,{className:d.disCN.inputlistdelete,name:r.LibraryComponents.SvgIcon.Names.CLOSE,onClick:t=>{d.ArrayUtils.remove(this.props.items,e),d.ReactUtils.forceUpdate(this),this.handleChange.apply(this,[])}})]}))}),"items"))}},r.LibraryComponents.PaginatedList=A&&class extends n.React.Component{constructor(e){super(e),this.state={offset:e.offset}}jump(e){e>-1&&e<Math.ceil(this.props.items.length/this.props.amount)&&this.state.offset!=e&&(this.state.offset=e,"function"==typeof this.props.onJump&&this.props.onJump(e,this),d.ReactUtils.forceUpdate(this))}renderPagination(){let e=Math.ceil(this.props.items.length/this.props.amount)-1;return this.props.items.length>this.props.amount&&d.ReactUtils.createElement("nav",{className:d.disCN.paginationlistpagination,children:[this.props.first&&d.ReactUtils.createElement(r.LibraryComponents.TooltipContainer,{text:d.LanguageUtils.LibraryStrings.first,"aria-label":d.LanguageUtils.LibraryStrings.first,tooltipConfig:{zIndex:3001},onClick:e=>{this.state.offset>0&&this.jump(0)},children:d.ReactUtils.createElement(r.LibraryComponents.Clickable,{className:d.DOMUtils.formatClassName(d.disCN.searchresultspaginationbutton,this.state.offset<=0&&d.disCN.searchresultspaginationdisabled),children:d.ReactUtils.createElement(r.LibraryComponents.SvgIcon,{className:d.disCN.searchresultspaginationicon,name:r.LibraryComponents.SvgIcon.Names.LEFT_DOUBLE_CARET})})}),d.ReactUtils.createElement(r.LibraryComponents.TooltipContainer,{text:d.LanguageUtils.LanguageStrings.PAGINATION_PREVIOUS,"aria-label":d.LanguageUtils.LanguageStrings.PAGINATION_PREVIOUS,tooltipConfig:{zIndex:3001},onClick:e=>{this.state.offset>0&&this.jump(this.state.offset-1)},children:d.ReactUtils.createElement(r.LibraryComponents.Clickable,{className:d.DOMUtils.formatClassName(d.disCN.searchresultspaginationbutton,this.state.offset<=0&&d.disCN.searchresultspaginationdisabled),children:d.ReactUtils.createElement(r.LibraryComponents.SvgIcon,{className:d.disCN.searchresultspaginationicon,name:r.LibraryComponents.SvgIcon.Names.LEFT_CARET})})}),d.LanguageUtils.LanguageStringsFormat("PAGINATION_PAGE_OF",this.state.offset+1,e+1),d.ReactUtils.createElement(r.LibraryComponents.TooltipContainer,{text:d.LanguageUtils.LanguageStrings.PAGINATION_NEXT,"aria-label":d.LanguageUtils.LanguageStrings.PAGINATION_NEXT,tooltipConfig:{zIndex:3001},onClick:t=>{this.state.offset<e&&this.jump(this.state.offset+1)},children:d.ReactUtils.createElement(r.LibraryComponents.Clickable,{className:d.DOMUtils.formatClassName(d.disCN.searchresultspaginationbutton,this.state.offset>=e&&d.disCN.searchresultspaginationdisabled),children:d.ReactUtils.createElement(r.LibraryComponents.SvgIcon,{className:d.disCN.searchresultspaginationicon,name:r.LibraryComponents.SvgIcon.Names.RIGHT_CARET})})}),this.props.last&&d.ReactUtils.createElement(r.LibraryComponents.TooltipContainer,{text:d.LanguageUtils.LibraryStrings.last,"aria-label":d.LanguageUtils.LibraryStrings.last,tooltipConfig:{zIndex:3001},onClick:t=>{this.state.offset<e&&this.jump(e)},children:d.ReactUtils.createElement(r.LibraryComponents.Clickable,{className:d.DOMUtils.formatClassName(d.disCN.searchresultspaginationbutton,this.state.offset>=e&&d.disCN.searchresultspaginationdisabled),children:d.ReactUtils.createElement(r.LibraryComponents.SvgIcon,{className:d.disCN.searchresultspaginationicon,name:r.LibraryComponents.SvgIcon.Names.RIGHT_DOUBLE_CARET})})}),this.props.jump&&d.ReactUtils.createElement(r.LibraryComponents.TextInput,{key:"pagination-list-jumpinput",type:"number",size:r.LibraryComponents.TextInput.Sizes.MINI,value:this.state.offset+1,min:1,max:e+1,onKeyDown:(e,t)=>{13==e.which&&this.jump(isNaN(parseInt(t.props.value))?-1:t.props.value-1)}}),this.props.jump&&d.ReactUtils.createElement(r.LibraryComponents.TooltipContainer,{text:d.LanguageUtils.LanguageStrings.JUMP,"aria-label":d.LanguageUtils.LanguageStrings.JUMP,tooltipConfig:{zIndex:3001},onClick:(e,t)=>{let s=d.ReactUtils.findOwner(d.ObjectUtils.get(t,`${d.ReactUtils.instanceKey}.return`),{key:"pagination-list-jumpinput"});s&&this.jump(isNaN(parseInt(s.props.value))?-1:s.props.value-1)},children:d.ReactUtils.createElement(r.LibraryComponents.Clickable,{className:d.disCN.searchresultspaginationbutton,children:d.ReactUtils.createElement(r.LibraryComponents.SvgIcon,{className:d.disCN.searchresultspaginationicon,style:{transform:"rotate(90deg"},name:r.LibraryComponents.SvgIcon.Names.RIGHT_CARET})})})].filter(e=>e)})}render(){let e=[],t={};if(d.ArrayUtils.is(this.props.items)&&this.props.items.length)if(this.props.alphabetKey){let s=[].concat(this.props.items);for(let e of["0-9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]){let i="0-9"==e,o=[];for(let t of s)t&&t[this.props.alphabetKey]&&(i&&!isNaN(parseInt(t[this.props.alphabetKey][0]))||0==t[this.props.alphabetKey].toUpperCase().indexOf(e))&&o.push(t);for(let e of o)d.ArrayUtils.remove(s,e);t[e]={items:d.ArrayUtils.keySort(o,this.props.alphabetKey),disabled:!o.length}}t["?!"]={items:d.ArrayUtils.keySort(s,this.props.alphabetKey),disabled:!s.length};for(let s in t)e.push(t[s].items);e=e.flat(10)}else e=this.props.items;return"function"==typeof this.props.renderItem&&e.length?d.ReactUtils.createElement(r.LibraryComponents.Scrollers.Thin,{className:d.DOMUtils.formatClassName(this.props.className,d.disCN.paginationlist,this.props.mini,d.disCN.paginationlistmini),fade:this.props.fade,children:[this.renderPagination(),e.length>this.props.amount&&this.props.alphabetKey&&d.ReactUtils.createElement("nav",{className:d.disCN.paginationlistalphabet,children:Object.keys(t).map(s=>d.ReactUtils.createElement(r.LibraryComponents.Clickable,{className:d.DOMUtils.formatClassName(d.disCN.paginationlistalphabetchar,t[s].disabled&&d.disCN.paginationlistalphabetchardisabled),onClick:i=>{t[s].disabled||this.jump(Math.floor(e.indexOf(t[s].items[0])/this.props.amount))},children:s}))}),this.props.header,d.ReactUtils.createElement("div",{className:d.disCN.paginationlistcontent,children:e.slice(this.state.offset*this.props.amount,(this.state.offset+1)*this.props.amount).map((e,t)=>this.props.renderItem(e,t)).flat(10).filter(e=>e)}),this.props.copyToBottom&&this.renderPagination()].flat(10).filter(e=>e)}):null}},u.setDefaultProps(r.LibraryComponents.PaginatedList,{amount:50,offset:0,jump:!0,first:!0,last:!0,copyToBottom:!1,fade:!0}),r.LibraryComponents.Popout=A&&class extends n.React.Component{componentWillUnmount(){delete this.props.containerInstance.popout,"function"==typeof this.props.onClose&&this.props.onClose(this.props.containerInstance,this)}render(){let e="string"==typeof this.props.position?this.props.position.toLowerCase():null,t=e&&B["popout"+e]?d.disCN["popout"+e]:d.disCN.popouttop,s=this.props.arrow?e&&e.indexOf("top")>-1&&"top"!=e?d.disCN.popoutarrowalignmenttop:d.disCN.popoutarrowalignmentmiddle:d.disCN.popoutnoarrow;return d.ReactUtils.createElement(r.LibraryComponents.PopoutFocusLock,{className:d.DOMUtils.formatClassName(d.disCN.popoutwrapper,d.disCN.popout,t,this.props.invert&&e&&"bottom"!=e&&d.disCN.popoutinvert,s,!this.props.shadow&&d.disCN.popoutnoshadow),id:this.props.id,onClick:e=>{e.stopPropagation()},style:Object.assign({},this.props.style,{position:this.props.isChild?"relative":"absolute"}),children:d.ReactUtils.createElement("div",{className:d.DOMUtils.formatClassName(this.props.className,this.props.themed&&d.disCN.popoutthemedpopout),style:d.ObjectUtils.extract(this.props,"padding","height","maxHeight","minHeight","width","maxWidth","minWidth"),children:this.props.children})})}},u.setDefaultProps(r.LibraryComponents.Popout,{themed:!0}),r.LibraryComponents.PopoutContainer=A&&class extends n.React.Component{handleRender(e){let t="function"==typeof this.props.renderPopout?this.props.renderPopout(this):null;return this.context.popout=t?this.props.wrap?d.ReactUtils.createElement(r.LibraryComponents.Popout,d.ObjectUtils.exclude(Object.assign({},this.props,{className:this.props.popoutClassName,containerInstance:this,isChild:!0,position:e.position,style:this.props.popoutStyle,onClose:"function"==typeof this.props.onClose?this.props.onClose.bind(this):e=>{},children:t}),"popoutStyle","popoutClassName")):t:null}componentDidMount(){let e=d.ReactUtils.findOwner(this,{name:"BasePopout"});e&&e.handleClick&&(e.isBDFDBpopout=!0,this.handleClick=(t=>e.handleClick(d.ObjectUtils.is(t)?t:new MouseEvent({}))),this.close=e.close,this.domElementRef=e.domElementRef)}render(){let e=(d.ArrayUtils.is(this.props.children)?this.props.children[0]:this.props.children)||d.ReactUtils.createElement("div",{style:{height:"100%",width:"100%"}});e.props.className=d.DOMUtils.formatClassName(e.props.className,this.props.className);let t=e.props.onClick,s=e.props.onContextMenu;return e.props.onClick=((e,s)=>{!this.domElementRef.current||this.domElementRef.current.contains(e.target)?(!this.props.openOnClick&&void 0!==this.props.openOnClick||"function"!=typeof this.handleClick||this.handleClick(e),"function"==typeof this.props.onClick&&this.props.onClick(e,this),"function"==typeof t&&t(e,s)):e.stopPropagation()}),e.props.onContextMenu=((e,t)=>{!this.domElementRef.current||this.domElementRef.current.contains(e.target)?(this.props.openOnContextMenu&&"function"==typeof this.handleClick&&this.handleClick(e),"function"==typeof this.props.onContextMenu&&this.props.onContextMenu(e,this),"function"==typeof s&&s(e,t)):e.stopPropagation()}),d.ReactUtils.createElement(n.React.Fragment,{children:d.ReactUtils.createElement(r.NativeSubComponents.PopoutContainer,Object.assign({},this.props,{children:t=>e,renderPopout:this.handleRender.bind(this)}))})}},u.setDefaultProps(r.LibraryComponents.PopoutContainer,{wrap:!0}),r.LibraryComponents.QuickSelect=A&&class extends n.React.Component{handleChange(e){this.props.value=e,"function"==typeof this.props.onChange&&this.props.onChange(e.value||e.key,this),d.ReactUtils.forceUpdate(this)}render(){let e=(d.ArrayUtils.is(this.props.options)?this.props.options:[{}]).filter(e=>e),t=d.ObjectUtils.is(this.props.value)?this.props.value:e[0]||{};return d.ReactUtils.createElement("div",{className:d.DOMUtils.formatClassName(this.props.className,d.disCN.quickselectwrapper),children:d.ReactUtils.createElement(r.LibraryComponents.Flex,{className:d.disCN.quickselect,align:r.LibraryComponents.Flex.Align.CENTER,children:[d.ReactUtils.createElement("div",{className:d.disCN.quickselectlabel,children:this.props.label}),d.ReactUtils.createElement(r.LibraryComponents.Flex,{align:r.LibraryComponents.Flex.Align.CENTER,className:d.disCN.quickselectclick,onClick:s=>{n.ContextMenuUtils.openContextMenu(s,s=>d.ReactUtils.createElement(r.LibraryComponents.Menu,{navId:"bdfdb-quickselect",onClose:d.LibraryModules.ContextMenuUtils.closeContextMenu,className:this.props.popoutClassName,children:d.ContextMenuUtils.createItem(r.LibraryComponents.MenuItems.MenuGroup,{children:e.map((e,s)=>{let i=e.value&&e.value===t.value||e.key&&e.key===t.key;return d.ContextMenuUtils.createItem(r.LibraryComponents.MenuItems.MenuItem,{label:e.label,id:d.ContextMenuUtils.createItemId("option",e.key||e.value||s),action:i?null:t=>{this.handleChange.bind(this)(e)}})})})}))},children:[d.ReactUtils.createElement("div",{className:d.disCN.quickselectvalue,children:"function"==typeof this.props.renderValue?this.props.renderValue(this.props.value):this.props.value.label}),d.ReactUtils.createElement("div",{className:d.disCN.quickselectarrow})]})]})})}},r.LibraryComponents.RadioGroup=A&&class extends n.React.Component{handleChange(e){this.props.value=e.value,"function"==typeof this.props.onChange&&this.props.onChange(e,this),d.ReactUtils.forceUpdate(this)}render(){return d.ReactUtils.createElement(r.NativeSubComponents.RadioGroup,Object.assign({},this.props,{onChange:this.handleChange.bind(this)}))}},r.LibraryComponents.SearchBar=A&&class extends n.React.Component{handleChange(e){this.props.query=e,"function"==typeof this.props.onChange&&this.props.onChange(e,this),d.ReactUtils.forceUpdate(this)}handleClear(){this.props.query="",this.props.changeOnClear&&"function"==typeof this.props.onChange&&this.props.onChange("",this),"function"==typeof this.props.onClear&&this.props.onClear(this),d.ReactUtils.forceUpdate(this)}render(){let e=Object.assign({},this.props,{onChange:this.handleChange.bind(this),onClear:this.handleClear.bind(this)});return"string"!=typeof e.query&&(e.query=""),d.ReactUtils.createElement(r.NativeSubComponents.SearchBar,e)}};let I=(d.ModuleUtils.find(e=>e==r.NativeSubComponents.Select,!1)||{exports:{}}).exports;r.LibraryComponents.Select=A&&class extends n.React.Component{handleChange(e){this.props.value=e.value||e,"function"==typeof this.props.onChange&&this.props.onChange(e,this),d.ReactUtils.forceUpdate(this)}render(){let e=d.DiscordUtils.getTheme()==d.disCN.themelight;return d.ReactUtils.createElement(r.LibraryComponents.Flex,{className:d.disCN.selectwrapper,direction:r.LibraryComponents.Flex.Direction.HORIZONTAL,align:r.LibraryComponents.Flex.Align.CENTER,children:d.ReactUtils.createElement(r.NativeSubComponents.Select,Object.assign({},this.props,{lightThemeColorOverrides:I[e?"LIGHT_THEME_COLORS":"DARK_THEME_COLORS"],darkThemeColorOverrides:I[e?"LIGHT_THEME_COLORS":"DARK_THEME_COLORS"],onChange:this.handleChange.bind(this)}))})}},r.LibraryComponents.SettingsGuildList=A&&class extends n.React.Component{render(){return this.props.disabled=d.ArrayUtils.is(this.props.disabled)?this.props.disabled:[],d.ReactUtils.createElement(r.LibraryComponents.Flex,{className:this.props.className,wrap:r.LibraryComponents.Flex.Wrap.WRAP,children:[this.props.includeDMs&&{name:d.LanguageUtils.LanguageStrings.DIRECT_MESSAGES,acronym:"DMs",id:d.DiscordConstants.ME,getIconURL:e=>{}}].concat(d.LibraryModules.FolderStore.getFlattenedGuilds()).filter(e=>e).map(e=>d.ReactUtils.createElement(r.LibraryComponents.TooltipContainer,{text:e.name,children:d.ReactUtils.createElement("div",{className:d.DOMUtils.formatClassName(this.props.guildClassName,d.disCN.settingsguild,this.props.disabled.includes(e.id)&&d.disCN.settingsguilddisabled),children:d.ReactUtils.createElement(r.LibraryComponents.GuildComponents.Icon,{guild:e,size:this.props.size||r.LibraryComponents.GuildComponents.Icon.Sizes.MEDIUM}),onClick:t=>{this.props.disabled.includes(e.id)?d.ArrayUtils.remove(this.props.disabled,e.id,!0):this.props.disabled.push(e.id),"function"==typeof this.props.onClick&&this.props.onClick(this.props.disabled,this),d.ReactUtils.forceUpdate(this)}})}))})}},r.LibraryComponents.SettingsPanel=A&&class extends n.React.Component{componentDidMount(){this.props._instance=this;let e=d.ReactUtils.findDOMNode(this);e&&(this.props._node=e)}componentWillUnmount(){d.ObjectUtils.is(this.props.addon)&&"function"==typeof this.props.addon.onSettingsClosed&&this.props.addon.onSettingsClosed()}render(){let e=["function"==typeof this.props.children?(e=>this.props.children(this.props.collapseStates))():this.props.children].flat(10).filter(e=>e);return d.ReactUtils.createElement("div",{key:this.props.addon&&this.props.addon.name&&`${this.props.addon.name}-settingsPanel`,id:this.props.addon&&this.props.addon.name&&`${this.props.addon.name}-settings`,className:d.disCN.settingspanel,children:e})}},r.LibraryComponents.SettingsPanelList=r.LibraryComponents.SettingsPanelInner=A&&class extends n.React.Component{render(){return this.props.children?d.ReactUtils.createElement("div",{className:d.DOMUtils.formatClassName(this.props.className,d.disCN.settingspanellistwrapper,this.props.mini&&d.disCN.settingspanellistwrappermini),children:[this.props.dividerTop?d.ReactUtils.createElement(r.LibraryComponents.FormComponents.FormDivider,{className:this.props.mini?d.disCN.marginbottom4:d.disCN.marginbottom8}):null,"string"==typeof this.props.title?d.ReactUtils.createElement(r.LibraryComponents.FormComponents.FormTitle,{className:d.disCN.marginbottom4,tag:r.LibraryComponents.FormComponents.FormTitle.Tags.H3,children:this.props.title}):null,d.ReactUtils.createElement("div",{className:d.disCN.settingspanellist,children:this.props.children}),this.props.dividerBottom?d.ReactUtils.createElement(r.LibraryComponents.FormComponents.FormDivider,{className:this.props.mini?d.disCN.margintop4:d.disCN.margintop8}):null]}):null}},r.LibraryComponents.SettingsItem=A&&class extends n.React.Component{handleChange(e){"function"==typeof this.props.onChange&&this.props.onChange(e,this)}render(){if("string"!=typeof this.props.type||!["BUTTON","SELECT","SLIDER","SWITCH","TEXTINPUT"].includes(this.props.type.toUpperCase()))return null;let e=r.LibraryComponents[this.props.type];if(!e)return null;this.props.mini&&e.Sizes&&(this.props.size=e.Sizes.MINI||e.Sizes.MIN);let t=this.props.label?this.props.tag?d.ReactUtils.createElement(r.LibraryComponents.FormComponents.FormTitle,{className:d.DOMUtils.formatClassName(this.props.labelClassName,d.disCN.marginreset),tag:this.props.tag,children:this.props.label}):d.ReactUtils.createElement(r.LibraryComponents.SettingsLabel,{className:d.DOMUtils.formatClassName(this.props.labelClassName),mini:this.props.mini,label:this.props.label}):null,s=null!=this.props.margin?this.props.margin:this.props.mini?0:8;return d.ReactUtils.createElement("div",{className:d.DOMUtils.formatClassName(this.props.className,d.disCN.settingsrow,d.disCN.settingsrowcontainer,this.props.disabled&&d.disCN.settingsrowdisabled,null!=s&&(d.DiscordClasses[`marginbottom${s}`]&&d.disCN[`marginbottom${s}`]||0==s&&d.disCN.marginreset)),id:this.props.id,children:[this.props.dividerTop?d.ReactUtils.createElement(r.LibraryComponents.FormComponents.FormDivider,{className:this.props.mini?d.disCN.marginbottom4:d.disCN.marginbottom8}):null,d.ReactUtils.createElement("div",{className:d.disCN.settingsrowlabel,children:[t&&!this.props.basis?d.ReactUtils.createElement(r.LibraryComponents.Flex.Child,{grow:1,shrink:1,wrap:!0,children:t}):t,this.props.labelchildren,d.ReactUtils.createElement(r.LibraryComponents.Flex.Child,{className:d.disCNS.settingsrowcontrol+d.disCN.flexchild,grow:0,shrink:this.props.basis?0:1,basis:this.props.basis,wrap:!0,children:d.ReactUtils.createElement(e,d.ObjectUtils.exclude(Object.assign(d.ObjectUtils.exclude(this.props,"className","id","type"),this.props.childProps,{onChange:this.handleChange.bind(this),onValueChange:this.handleChange.bind(this)}),"basis","margin","dividerBottom","dividerTop","label","labelClassName","labelchildren","tag","mini","note","childProps"))})].flat(10).filter(e=>e)}),"string"==typeof this.props.note?d.ReactUtils.createElement(r.LibraryComponents.Flex.Child,{className:d.disCN.settingsrownote,children:d.ReactUtils.createElement(r.LibraryComponents.FormComponents.FormText,{disabled:this.props.disabled,type:r.LibraryComponents.FormComponents.FormText.Types.DESCRIPTION,children:d.ReactUtils.createElement(r.LibraryComponents.TextScroller,{speed:2,children:this.props.note})})}):null,this.props.dividerBottom?d.ReactUtils.createElement(r.LibraryComponents.FormComponents.FormDivider,{className:this.props.mini?d.disCN.margintop4:d.disCN.margintop8}):null]})}},r.LibraryComponents.SettingsLabel=A&&class extends n.React.Component{render(){return d.ReactUtils.createElement(r.LibraryComponents.TextScroller,{className:d.DOMUtils.formatClassName(this.props.className,d.disCN.settingsrowtitle,this.props.mini?d.disCN.settingsrowtitlemini:d.disCN.settingsrowtitledefault,d.disCN.cursordefault),speed:2,children:this.props.label})}},r.LibraryComponents.SettingsList=A&&class extends n.React.Component{componentDidMount(){this.checkList()}componentDidUpdate(){this.checkList()}checkList(){let e=d.ReactUtils.findDOMNode(this);if(e&&!this.props.configWidth){let t=Array.from(e.querySelectorAll(d.dotCN.settingstableheader));t.shift(),0==d.DOMUtils.getRects(t[0]).width?d.TimeUtils.timeout(e=>{this.resizeList(t)}):this.resizeList(t)}}resizeList(e){let t=0,s=0;if(!t){for(let s of e){s.style="";let e=d.DOMUtils.getRects(s).width;t=e>t?e:t}s=t+=4}e.length*t>300?(this.props.vertical=!0,t=parseInt(290/e.length)):t<36&&(s=t=36),this.props.configWidth=t,this.props.biggestWidth=s,d.ReactUtils.forceUpdate(this)}renderHeaderOption(e){return d.ReactUtils.createElement("div",{className:d.DOMUtils.formatClassName(e.className,d.disCN.colorbase,d.disCN.size10,e.clickable&&d.disCN.cursorpointer),onClick:t=>{"function"==typeof this.props.onHeaderClick&&this.props.onHeaderClick(e.label,this)},onContextMenu:t=>{"function"==typeof this.props.onHeaderContextMenu&&this.props.onHeaderContextMenu(e.label,this)},children:d.ReactUtils.createElement("span",{children:e.label})})}renderItem(e){return d.ReactUtils.createElement(r.LibraryComponents.Card,d.ObjectUtils.exclude(Object.assign({},this.props,{className:d.DOMUtils.formatClassName(-1==[this.props.cardClassName,e.className].filter(e=>e).join(" ").indexOf(d.disCN.card)&&d.disCN.cardprimaryoutline,d.disCN.settingstablecard,this.props.cardClassName,e.className),cardId:e.key,backdrop:!1,horizontal:!0,style:Object.assign({},this.props.cardStyle,e.style),children:[d.ReactUtils.createElement("div",{className:d.disCN.settingstablecardlabel,children:this.props.renderLabel(e)}),d.ReactUtils.createElement("div",{className:d.disCN.settingstablecardconfigs,style:{width:e.wrapperWidth||null,minWidth:e.wrapperWidth||null,maxWidth:e.wrapperWidth||null},children:this.props.settings.map(t=>d.ReactUtils.createElement("div",{className:d.disCN.checkboxcontainer,children:d.ReactUtils.createElement(r.LibraryComponents.Checkbox,{disabled:e.disabled,cardId:e.key,settingId:t,shape:r.LibraryComponents.Checkbox.Shapes.ROUND,type:r.LibraryComponents.Checkbox.Types.INVERTED,color:this.props.checkboxColor,value:e[t],onChange:this.props.onCheckboxChange})})).flat(10).filter(e=>e)})]}),"title","data","settings","renderLabel","cardClassName","cardStyle","checkboxColor","onCheckboxChange","maxWidth","fullWidth","biggestWidth","pagination"))}render(){this.props.settings=d.ArrayUtils.is(this.props.settings)?this.props.settings:[],this.props.renderLabel="function"==typeof this.props.renderLabel?this.props.renderLabel:e=>e.label,this.props.data=(d.ArrayUtils.is(this.props.data)?this.props.data:[{}]).filter(e=>e);let e=this.props.configWidth&&this.props.configWidth*this.props.settings.length,t="function"==typeof this.props.onHeaderClick||"function"==typeof this.props.onHeaderContextMenu,s=d.ObjectUtils.is(this.props.pagination),i=d.ReactUtils.createElement("div",{className:d.disCN.settingstableheaders,style:this.props.vertical&&this.props.biggestWidth?{marginTop:this.props.biggestWidth-15||0}:{},children:[this.renderHeaderOption({className:d.disCN.settingstableheadername,clickable:this.props.title&&t,label:this.props.title||""}),d.ReactUtils.createElement("div",{className:d.disCN.settingstableheaderoptions,style:{width:e||null,minWidth:e||null,maxWidth:e||null},children:this.props.settings.map(e=>this.renderHeaderOption({className:d.DOMUtils.formatClassName(d.disCN.settingstableheaderoption,this.props.vertical&&d.disCN.settingstableheadervertical),clickable:t,label:e}))})]});return this.props.data.length?d.ReactUtils.createElement("div",{className:d.DOMUtils.formatClassName(d.disCN.settingstablelist,this.props.className),children:[!s&&i,s?d.ReactUtils.createElement(r.LibraryComponents.PaginatedList,Object.assign({},this.props.pagination,{header:i,items:this.props.data,renderItem:t=>this.renderItem(Object.assign({},t,{wrapperWidth:e})),onJump:(e,t)=>{this.props.pagination.offset=e,"function"==typeof this.props.pagination.onJump&&this.props.pagination.onJump(e,this,t)}})):this.props.data.map(t=>this.renderItem(Object.assign({},t,{wrapperWidth:e})))].filter(e=>e)}):null}},r.LibraryComponents.SettingsSaveItem=A&&class extends n.React.Component{saveSettings(e){if(!d.ArrayUtils.is(this.props.keys)||!d.ObjectUtils.is(this.props.plugin))return;let t=this.props.keys.filter(e=>e),s=t.shift();if(d.ObjectUtils.is(this.props.plugin)&&s){let i=d.DataUtils.load(this.props.plugin,s),o="";for(let e of t)o+=`{"${e}":`;let n="string"==typeof(e=null!=e&&null!=e.value?e.value:e),r=n?'"':"";o+=r+(n?e.replace(/\\/g,"\\\\"):e)+r+"}".repeat(t.length),o=JSON.parse(o),d.DataUtils.save(d.ObjectUtils.is(o)?d.ObjectUtils.deepAssign({},i,o):o,this.props.plugin,s),this.props.plugin.SettingsUpdated=!0}"function"==typeof this.props.onChange&&this.props.onChange(e,this)}render(){return"string"==typeof this.props.type&&["SELECT","SLIDER","SWITCH","TEXTINPUT"].includes(this.props.type.toUpperCase())?d.ReactUtils.createElement(r.LibraryComponents.SettingsItem,d.ObjectUtils.exclude(Object.assign({},this.props,{onChange:this.saveSettings.bind(this)}),"keys","key","plugin")):null}},r.LibraryComponents.SidebarList=A&&class extends n.React.Component{handleItemSelect(e){this.props.selectedItem=e,"function"==typeof this.props.onItemSelect&&this.props.onItemSelect(e,this),d.ReactUtils.forceUpdate(this)}render(){let e=(d.ArrayUtils.is(this.props.items)?this.props.items:[{}]).filter(e=>e),t=this.props.selectedItem||(e[0]||{}).value,s=(e.find(e=>e.value==t)||{}).elements,i="function"==typeof this.props.renderElement?this.props.renderElement:e=>{};return d.ReactUtils.createElement("div",{className:d.DOMUtils.formatClassName(this.props.className,d.disCN.sidebarlist),children:[d.ReactUtils.createElement(r.LibraryComponents.Scrollers.Thin,{className:d.DOMUtils.formatClassName(this.props.sidebarClassName,d.disCN.sidebar),fade:!0,children:d.ReactUtils.createElement(r.LibraryComponents.TabBar,{itemClassName:this.props.itemClassName,type:r.LibraryComponents.TabBar.Types.SIDE,items:e,selectedItem:t,renderItem:this.props.renderItem,onItemSelect:this.handleItemSelect.bind(this)})}),d.ReactUtils.createElement(r.LibraryComponents.Scrollers.Thin,{className:d.DOMUtils.formatClassName(this.props.contentClassName,d.disCN.sidebarcontent),fade:!0,children:[s].flat(10).filter(e=>e).map(e=>i(e))})]})}},r.LibraryComponents.Slider=A&&class extends n.React.Component{handleMarkerRender(e){let t=d.NumberUtils.mapRange([0,100],this.props.edges,e);return"number"==typeof this.props.digits&&(t=Math.round(t*Math.pow(10,this.props.digits))/Math.pow(10,this.props.digits)),t}handleValueChange(e){let t=d.NumberUtils.mapRange([0,100],this.props.edges,e);"number"==typeof this.props.digits&&(t=Math.round(t*Math.pow(10,this.props.digits))/Math.pow(10,this.props.digits)),this.props.defaultValue=this.props.value=t,"function"==typeof this.props.onValueChange&&this.props.onValueChange(t,this),d.ReactUtils.forceUpdate(this)}handleValueRender(e){let t=d.NumberUtils.mapRange([0,100],this.props.edges,e);if("number"==typeof this.props.digits&&(t=Math.round(t*Math.pow(10,this.props.digits))/Math.pow(10,this.props.digits)),"function"==typeof this.props.onValueRender){let e=this.props.onValueRender(t,this);null!=e&&(t=e)}return t}render(){let e=this.props.value||this.props.defaultValue||0;d.ArrayUtils.is(this.props.edges)&&2==this.props.edges.length||(this.props.edges=[this.props.min||this.props.minValue||0,this.props.max||this.props.maxValue||100]),this.props.minValue=0,this.props.maxValue=100;let t=d.NumberUtils.mapRange(this.props.edges,[0,100],e);return"number"==typeof this.props.digits&&(t=Math.round(t*Math.pow(10,this.props.digits))/Math.pow(10,this.props.digits)),d.ReactUtils.createElement(r.NativeSubComponents.Slider,d.ObjectUtils.exclude(Object.assign({},this.props,{initialValue:t,markers:"number"==typeof this.props.markerAmount?Array.from(Array(this.props.markerAmount).keys()).map((e,t)=>t*(this.props.maxValue-this.props.minValue)/10):void 0,onMarkerRender:this.handleMarkerRender.bind(this),onValueChange:this.handleValueChange.bind(this),onValueRender:this.handleValueRender.bind(this)}),"digits","edges","max","min","markerAmount"))}},u.setDefaultProps(r.LibraryComponents.Slider,{hideBubble:!1}),r.LibraryComponents.SvgIcon=A&&class extends n.React.Component{render(){if(d.ObjectUtils.is(this.props.name)){let e=[];if(d.ObjectUtils.is(this.props.name.getClassName))for(let t in this.props.name.getClassName)t&&!d.ObjectUtils.get(this,t)||e.push(d.disCN[this.props.name.getClassName[t]]);(e.length||this.props.className)&&(this.props.nativeClass=!0),this.props.iconSVG=this.props.name.icon;let t=Object.assign({width:24,height:24,color:"currentColor"},this.props.name.defaultProps,this.props,{className:d.DOMUtils.formatClassName(e,this.props.className)});for(let e in t)this.props.iconSVG=this.props.iconSVG.replace(new RegExp(`%%${e}`,"g"),t[e])}if(this.props.iconSVG){let e=d.ReactUtils.elementToReact(d.DOMUtils.create(this.props.iconSVG));if(d.ReactUtils.isValidElement(e))return e.props.className=d.DOMUtils.formatClassName(!this.props.nativeClass&&d.disCN.svgicon,e.props.className,this.props.className),e.props.style=Object.assign({},e.props.style,this.props.style),e.props=Object.assign({},d.ObjectUtils.extract(this.props,"onClick","onContextMenu","onMouseDown","onMouseUp","onMouseEnter","onMouseLeave"),e.props),e}return null}},r.LibraryComponents.SvgIcon.Names=U.SvgIcons||{};const F={TOP:"M5.13231 6.72963L6.7233 5.13864L14.855 13.2704L13.264 14.8614L5.13231 6.72963Z",BOTTOM:"M13.2704 5.13864L14.8614 6.72963L6.72963 14.8614L5.13864 13.2704L13.2704 5.13864Z"},_={TOP:"M6.56666 11.0013L6.56666 8.96683L13.5667 8.96683L13.5667 11.0013L6.56666 11.0013Z",BOTTOM:"M13.5582 8.96683L13.5582 11.0013L6.56192 11.0013L6.56192 8.96683L13.5582 8.96683Z"},G={TOP:"M7.89561 14.8538L6.30462 13.2629L14.3099 5.25755L15.9009 6.84854L7.89561 14.8538Z",BOTTOM:"M4.08643 11.0903L5.67742 9.49929L9.4485 13.2704L7.85751 14.8614L4.08643 11.0903Z"},$=function(e){let t=d.ReactUtils.useContext(n.PreferencesContext.AccessibilityPreferencesContext).reducedMotion,s=d.ReactUtils.useRef(null),i=d.ReactUtils.useState(!1),o=r.LibraryComponents.Animations.useSpring({config:{mass:1,tension:250},opacity:e.disabled?.3:1,state:i[0]?e.value?.7:.3:e.value?1:0}),l=o.state.to({output:[e.uncheckedColor,e.checkedColor]}),a=e.size==r.LibraryComponents.Switch.Sizes.MINI;return d.ReactUtils.createElement(r.LibraryComponents.Animations.animated.div,{className:d.DOMUtils.formatClassName(e.className,d.disCN.switch,a&&d.disCN.switchmini),onMouseDown:t=>!e.disabled&&i[1](!0),onMouseUp:e=>i[1](!1),onMouseLeave:e=>i[1](!1),style:{opacity:o.opacity,backgroundColor:o.state.to({output:[e.uncheckedColor,e.checkedColor]})},tabIndex:-1,children:[d.ReactUtils.createElement(r.LibraryComponents.Animations.animated.svg,{className:d.disCN.switchslider,viewBox:"0 0 28 20",preserveAspectRatio:"xMinYMid meet",style:{left:o.state.to({range:[0,.3,.7,1],output:a?[-1,2,6,9]:[-3,1,8,12]})},children:[d.ReactUtils.createElement(r.LibraryComponents.Animations.animated.rect,{fill:"white",x:o.state.to({range:[0,.3,.7,1],output:[4,0,0,4]}),y:o.state.to({range:[0,.3,.7,1],output:[0,1,1,0]}),height:o.state.to({range:[0,.3,.7,1],output:[20,18,18,20]}),width:o.state.to({range:[0,.3,.7,1],output:[20,28,28,20]}),rx:"10"}),d.ReactUtils.createElement("svg",{viewBox:"0 0 20 20",fill:"none",children:[d.ReactUtils.createElement(r.LibraryComponents.Animations.animated.path,{fill:l,d:o.state.to({range:[0,.3,.7,1],output:t.enabled?[F.TOP,F.TOP,G.TOP,G.TOP]:[F.TOP,_.TOP,_.TOP,G.TOP]})}),d.ReactUtils.createElement(r.LibraryComponents.Animations.animated.path,{fill:l,d:o.state.to({range:[0,.3,.7,1],output:t.enabled?[F.BOTTOM,F.BOTTOM,G.BOTTOM,G.BOTTOM]:[F.BOTTOM,_.BOTTOM,_.BOTTOM,G.BOTTOM]})})]})]}),d.ReactUtils.createElement("input",d.ObjectUtils.exclude(Object.assign({},e,{id:e.id,type:"checkbox",ref:s,className:d.DOMUtils.formatClassName(e.inputClassName,d.disCN.switchinner),tabIndex:e.disabled?-1:0,onKeyDown:t=>{e.disabled||t.repeat||" "!=t.key&&"Enter"!=t.key||i[1](!0)},onKeyUp:t=>{e.disabled||t.repeat||(i[1](!1),"Enter"==t.key&&s.current&&s.current.click())},onChange:t=>{i[1](!1),"function"==typeof e.onChange&&e.onChange(t.currentTarget.checked,t)},checked:e.value,disabled:e.disabled}),"uncheckedColor","checkedColor","size","value"))]})};r.LibraryComponents.Switch=A&&class extends n.React.Component{handleChange(){this.props.value=!this.props.value,"function"==typeof this.props.onChange&&this.props.onChange(this.props.value,this),d.ReactUtils.forceUpdate(this)}render(){return d.ReactUtils.createElement($,Object.assign({},this.props,{onChange:this.handleChange.bind(this)}))}},r.LibraryComponents.Switch.Sizes={DEFAULT:"default",MINI:"mini"},u.setDefaultProps(r.LibraryComponents.Switch,{size:r.LibraryComponents.Switch.Sizes.DEFAULT,uncheckedColor:d.DiscordConstants.Colors.PRIMARY_DARK_400,checkedColor:d.DiscordConstants.Colors.BRAND}),r.LibraryComponents.TabBar=A&&class extends n.React.Component{handleItemSelect(e){this.props.selectedItem=e,"function"==typeof this.props.onItemSelect&&this.props.onItemSelect(e,this),d.ReactUtils.forceUpdate(this)}render(){let e=(d.ArrayUtils.is(this.props.items)?this.props.items:[{}]).filter(e=>e),t=this.props.selectedItem||(e[0]||{}).value,s="function"==typeof this.props.renderItem?this.props.renderItem:e=>e.label||e.value;return d.ReactUtils.createElement(r.NativeSubComponents.TabBar,d.ObjectUtils.exclude(Object.assign({},this.props,{selectedItem:t,onItemSelect:this.handleItemSelect.bind(this),children:e.map(e=>d.ReactUtils.createElement(r.LibraryComponents.TabBar.Item,{className:d.DOMUtils.formatClassName(this.props.itemClassName,t==e.value&&this.props.itemSelectedClassName),itemType:this.props.type,id:e.value,children:s(e),"aria-label":e.label||e.value}))}),"itemClassName","items","renderItem"))}},r.LibraryComponents.Table=A&&class extends n.React.Component{render(){return d.ReactUtils.createElement(r.NativeSubComponents.Table,Object.assign({},this.props,{className:d.DOMUtils.formatClassName(d.disCN.table,this.props.className),headerCellClassName:d.DOMUtils.formatClassName(d.disCN.tableheadercell,this.props.headerCellClassName),sortedHeaderCellClassName:d.DOMUtils.formatClassName(d.disCN.tableheadercellsorted,this.props.sortedHeaderCellClassName),bodyCellClassName:d.DOMUtils.formatClassName(d.disCN.tablebodycell,this.props.bodyCellClassName),onSort:(e,t)=>{this.props.sortDirection=this.props.sortKey!=e&&t==r.LibraryComponents.Table.SortDirection.ASCENDING&&this.props.columns.filter(t=>t.key==e)[0].reverse?r.LibraryComponents.Table.SortDirection.DESCENDING:t,this.props.sortKey=e,this.props.data=d.ArrayUtils.keySort(this.props.data,this.props.sortKey),this.props.sortDirection==r.LibraryComponents.Table.SortDirection.DESCENDING&&this.props.data.reverse(),"function"==typeof this.props.onSort&&this.props.onSort(this.props.sortKey,this.props.sortDirection),d.ReactUtils.forceUpdate(this)}}))}},r.LibraryComponents.TextArea=A&&class extends n.React.Component{handleChange(e){this.props.value=e,"function"==typeof this.props.onChange&&this.props.onChange(e,this),d.ReactUtils.forceUpdate(this)}handleBlur(e){"function"==typeof this.props.onBlur&&this.props.onBlur(e,this)}handleFocus(e){"function"==typeof this.props.onFocus&&this.props.onFocus(e,this)}render(){return d.ReactUtils.createElement(r.NativeSubComponents.TextArea,Object.assign({},this.props,{onChange:this.handleChange.bind(this),onBlur:this.handleBlur.bind(this),onFocus:this.handleFocus.bind(this)}))}},r.LibraryComponents.TextGradientElement=A&&class extends n.React.Component{render(){return this.props.gradient&&this.props.children?d.ReactUtils.createElement("span",{children:this.props.children,ref:e=>{let t=d.ReactUtils.findDOMNode(e);t&&(t.style.setProperty("background-image",this.props.gradient,"important"),t.style.setProperty("color","transparent","important"),t.style.setProperty("-webkit-background-clip","text","important"))}}):this.props.children||null}},r.LibraryComponents.TextInput=A&&class extends n.React.Component{handleChange(e){let t=e=d.ObjectUtils.is(e)?e.currentTarget.value:e;this.props.value=this.props.valuePrefix&&!t.startsWith(this.props.valuePrefix)?this.props.valuePrefix+t:t,"function"==typeof this.props.onChange&&this.props.onChange(this.props.value,this),d.ReactUtils.forceUpdate(this)}handleInput(e){"function"==typeof this.props.onInput&&this.props.onInput(d.ObjectUtils.is(e)?e.currentTarget.value:e,this)}handleKeyDown(e){"function"==typeof this.props.onKeyDown&&this.props.onKeyDown(e,this)}handleBlur(e){"function"==typeof this.props.onBlur&&this.props.onBlur(e,this)}handleFocus(e){"function"==typeof this.props.onFocus&&this.props.onFocus(e,this)}handleMouseEnter(e){"function"==typeof this.props.onMouseEnter&&this.props.onMouseEnter(e,this)}handleMouseLeave(e){"function"==typeof this.props.onMouseLeave&&this.props.onMouseLeave(e,this)}handleNumberButton(e,t){d.TimeUtils.clear(e.pressedTimeout),e.pressedTimeout=d.TimeUtils.timeout(e=>{delete this.props.focused,d.ReactUtils.forceUpdate(this)},1e3),this.props.focused=!0,this.handleChange.bind(this)(t),this.handleInput.bind(this)(t)}componentDidMount(){if("file"==this.props.type){let e=d.ReactUtils.findOwner(this,{name:"BDFDB_FileButton"});e&&(e.refInput=this)}let e=d.ReactUtils.findDOMNode(this);e&&(e=e.querySelector("input")||e)&&!e.patched&&(e.addEventListener("keydown",e=>{this.handleKeyDown.bind(this)(e),e.stopImmediatePropagation()}),e.patched=!0)}render(){let e=[d.ReactUtils.createElement("input",d.ObjectUtils.exclude(Object.assign({},this.props,{className:d.DOMUtils.formatClassName(this.props.size&&r.LibraryComponents.TextInput.Sizes[this.props.size.toUpperCase()]&&d.disCN["input"+this.props.size.toLowerCase()]||d.disCN.inputdefault,this.props.inputClassName,this.props.focused&&d.disCN.inputfocused,this.props.error||this.props.errorMessage?d.disCN.inputerror:this.props.success&&d.disCN.inputsuccess,this.props.disabled&&d.disCN.inputdisabled,this.props.editable&&d.disCN.inputeditable),type:"color"==this.props.type||"file"==this.props.type?"text":this.props.type,onChange:this.handleChange.bind(this),onInput:this.handleInput.bind(this),onKeyDown:this.handleKeyDown.bind(this),onBlur:this.handleBlur.bind(this),onFocus:this.handleFocus.bind(this),onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this),maxLength:"file"!=this.props.type&&this.props.maxLength,style:this.props.width?{width:`${this.props.width}px`}:{},ref:this.props.inputRef}),"errorMessage","focused","error","success","inputClassName","inputChildren","valuePrefix","inputPrefix","size","editable","inputRef","style","mode","noAlpha","filter","useFilePath","searchFolders")),this.props.inputChildren,"color"==this.props.type?d.ReactUtils.createElement(r.LibraryComponents.Flex.Child,{wrap:!0,children:d.ReactUtils.createElement(r.LibraryComponents.ColorSwatches,{colors:[],color:this.props.value&&"comp"==this.props.mode?d.ColorUtils.convert(this.props.value.split(","),"RGB"):this.props.value,onColorChange:e=>{this.handleChange(e?"comp"==this.props.mode?d.ColorUtils.convert(e,"RGBCOMP").slice(0,3).join(","):this.props.noAlpha?d.ColorUtils.convert(e,"RGB"):e:"")},pickerConfig:{gradient:!1,alpha:"comp"!=this.props.mode&&!this.props.noAlpha}})}):null,"file"==this.props.type?d.ReactUtils.createElement(r.LibraryComponents.FileButton,{filter:this.props.filter,mode:this.props.mode,useFilePath:this.props.useFilePath,searchFolders:this.props.searchFolders}):null].flat(10).filter(e=>e);return d.ReactUtils.createElement("div",{className:d.DOMUtils.formatClassName(d.disCN.inputwrapper,"number"==this.props.type&&(this.props.size&&r.LibraryComponents.TextInput.Sizes[this.props.size.toUpperCase()]&&d.disCN["inputnumberwrapper"+this.props.size.toLowerCase()]||d.disCN.inputnumberwrapperdefault),this.props.className),style:this.props.style,children:[this.props.inputPrefix?d.ReactUtils.createElement("span",{className:d.disCN.inputprefix}):null,"number"==this.props.type?d.ReactUtils.createElement("div",{className:d.disCN.inputnumberbuttons,children:[d.ReactUtils.createElement("div",{className:d.disCN.inputnumberbuttonup,onClick:e=>{let t=parseInt(this.props.min),s=parseInt(this.props.max),i=parseInt(this.props.value)+1||t||0;(isNaN(s)||!isNaN(s)&&i<=s)&&this.handleNumberButton.bind(this)(e._targetInst,isNaN(t)||!isNaN(t)&&i>=t?i:t)}}),d.ReactUtils.createElement("div",{className:d.disCN.inputnumberbuttondown,onClick:e=>{let t=parseInt(this.props.min),s=parseInt(this.props.max),i=parseInt(this.props.value)-1||t||0;(isNaN(t)||!isNaN(t)&&i>=t)&&this.handleNumberButton.bind(this)(e._targetInst,isNaN(s)||!isNaN(s)&&i<=s?i:s)}})]}):null,1==e.length?e[0]:d.ReactUtils.createElement(r.LibraryComponents.Flex,{align:r.LibraryComponents.Flex.Align.CENTER,children:e.map((e,t)=>0!=t?d.ReactUtils.createElement(r.LibraryComponents.Flex.Child,{shrink:0,children:e}):e)}),this.props.errorMessage?d.ReactUtils.createElement(r.LibraryComponents.TextElement,{className:d.disCN.carderror,size:r.LibraryComponents.TextElement.Sizes.SIZE_12,color:r.LibraryComponents.TextElement.Colors.STATUS_RED,children:this.props.errorMessage}):null].filter(e=>e)})}},r.LibraryComponents.TextScroller=A&&class extends n.React.Component{render(){return d.ReactUtils.createElement("div",{className:d.DOMUtils.formatClassName(d.disCN.textscroller,this.props.className),style:Object.assign({},this.props.style,{position:"relative",display:"block",overflow:"hidden"}),ref:e=>{let t=d.ReactUtils.findDOMNode(e);if(t&&t.parentElement){let e=d.DOMUtils.getInnerWidth(t.parentElement);e>50&&t.style.setProperty("max-width",`${e}px`),d.TimeUtils.timeout(e=>{document.contains(t.parentElement)&&d.ReactUtils.forceUpdate(this)},3e3);let s=new n.AnimationUtils.Value(0);s.interpolate({inputRange:[0,1],outputRange:[0,-1*(d.DOMUtils.getRects(t.firstElementChild).width-d.DOMUtils.getRects(t).width)]}).addListener(e=>{t.firstElementChild.style.setProperty("left",`${e.value}px`,"important")}),this.scroll=(e=>{let i=e+parseFloat(t.firstElementChild.style.getPropertyValue("left"))/(d.DOMUtils.getRects(t.firstElementChild).width-d.DOMUtils.getRects(t).width);i=isNaN(i)||!isFinite(i)?e:i,i*=d.DOMUtils.getRects(t.firstElementChild).width/(2*d.DOMUtils.getRects(t).width),n.AnimationUtils.parallel([n.AnimationUtils.timing(s,{toValue:e,duration:4e3*Math.sqrt(i**2)/(parseInt(this.props.speed)||1)})]).start()})}},onClick:e=>{"function"==typeof this.props.onClick&&this.props.onClick(e,this)},onMouseEnter:e=>{d.DOMUtils.getRects(e.currentTarget).width<d.DOMUtils.getRects(e.currentTarget.firstElementChild).width&&(this.scrolling=!0,e.currentTarget.firstElementChild.style.setProperty("display","block","important"),this.scroll(1))},onMouseLeave:e=>{this.scrolling&&(delete this.scrolling,e.currentTarget.firstElementChild.style.setProperty("display","inline","important"),this.scroll(0))},children:d.ReactUtils.createElement("div",{style:{left:"0",position:"relative",display:"inline",whiteSpace:"nowrap"},children:this.props.children})})}},r.LibraryComponents.TooltipContainer=A&&class extends n.React.Component{updateTooltip(e){this.tooltip&&this.tooltip.update(e)}render(){let e=(d.ArrayUtils.is(this.props.children)?this.props.children[0]:this.props.children)||d.ReactUtils.createElement("div",{});e.props.className=d.DOMUtils.formatClassName(e.props.className,this.props.className);let t=Object.assign({},e.props),s=!1;return e.props.onMouseEnter=((e,i)=>{s||e.currentTarget.BDFDBtooltipShown||(e.currentTarget.BDFDBtooltipShown=s=!0,this.tooltip=d.TooltipUtils.create(e.currentTarget,"function"==typeof this.props.text?this.props.text(this):this.props.text,Object.assign({delay:this.props.delay},this.props.tooltipConfig,{onHide:(e,t)=>{delete t.BDFDBtooltipShown,s=!1,this.props.tooltipConfig&&"function"==typeof this.props.tooltipConfig.onHide&&this.props.onHide(e,t)}})),"function"==typeof this.props.onMouseEnter&&this.props.onMouseEnter(e,this),"function"==typeof t.onMouseEnter&&t.onMouseEnter(e,i))}),e.props.onMouseLeave=((e,s)=>{"function"==typeof this.props.onMouseLeave&&this.props.onMouseLeave(e,this),"function"==typeof t.onMouseLeave&&t.onMouseLeave(e,s)}),e.props.onClick=((e,s)=>{"function"==typeof this.props.onClick&&this.props.onClick(e,this),"function"==typeof t.onClick&&t.onClick(e,s)}),e.props.onContextMenu=((e,s)=>{"function"==typeof this.props.onContextMenu&&this.props.onContextMenu(e,this),"function"==typeof t.onContextMenu&&t.onContextMenu(e,s)}),d.ReactUtils.createElement(n.React.Fragment,{children:e})}},r.LibraryComponents.UserPopoutContainer=A&&class extends n.React.Component{render(){return d.ReactUtils.createElement(r.LibraryComponents.PopoutContainer,d.ObjectUtils.exclude(Object.assign({},this.props,{wrap:!1,renderPopout:e=>d.ReactUtils.createElement(r.LibraryComponents.UserPopout,{userId:this.props.userId,guildId:this.props.guildId,channelId:this.props.channelId})}),"userId","guildId","channelId"))}};for(let e in r.NativeSubComponents)if(r.LibraryComponents[e])for(let t in r.NativeSubComponents[e])"displayName"==t||"name"==t||"function"==typeof r.NativeSubComponents[e][t]&&t.charAt(0)!=t.charAt(0).toUpperCase()||(r.LibraryComponents[e][t]="defaultProps"==t?Object.assign({},r.LibraryComponents[e][t],r.NativeSubComponents[e][t]):r.NativeSubComponents[e][t]);d.LibraryComponents=Object.assign({},r.LibraryComponents),u.createCustomControl=function(e){let s=d.DOMUtils.create(`<${t?"button":"div"} class="${d.DOMUtils.formatClassName(t&&d.disCN._repobutton,d.disCN._repocontrolsbutton)}"></${t?"button":"div"}>`);return d.ReactUtils.render(d.ReactUtils.createElement(r.LibraryComponents.SvgIcon,{className:!t&&d.disCN._repoicon,nativeClass:!0,name:e.svgName,width:e.size,height:e.size}),s),s.addEventListener("click",t=>{"function"==typeof e.onClick&&e.onClick()}),e.tooltipText&&s.addEventListener("mouseenter",t=>{d.TooltipUtils.create(s,e.tooltipText)}),s},u.appendCustomControls=function(e){let s=e.querySelector(d.dotCN._reposwitch);if(!s)return;let i=d.ObjectUtils.get(d.ReactUtils.getInstance(e),"return.stateNode.props"),o=i&&i.addon&&(i.addon.plugin||i.addon.instance);if(o&&!i.hasCustomControls&&(o==a||o.name&&o.name&&h.loaded[o.name]&&h.loaded[o.name]==o)){i.hasCustomControls=!0;let n=o.rawUrl||`https://mwittrien.github.io/BetterDiscordAddons/Plugins/${o.name}/${o.name}.plugin.js`,l=[],a=e.querySelector("."+d.disCN._repofooter.split(" ")[0]+" "+d.dotCN._repocontrols);if(o.changeLog&&l.push(u.createCustomControl({tooltipText:d.LanguageUtils.LanguageStrings.CHANGE_LOG,svgName:r.LibraryComponents.SvgIcon.Names.CHANGELOG,size:t?"19":"24",onClick:e=>{d.PluginUtils.openChangeLog(o)}})),window.PluginUpdates&&window.PluginUpdates.plugins&&window.PluginUpdates.plugins[n]&&window.PluginUpdates.plugins[n].outdated&&l.push(u.createCustomControl({tooltipText:d.LanguageUtils.LanguageStrings.UPDATE_MANUALLY,svgName:r.LibraryComponents.SvgIcon.Names.DOWNLOAD,size:t?"20":"24",onClick:e=>{d.PluginUtils.downloadUpdate(o.name,n)}})),a)for(let e of l)a.insertBefore(e,a.firstElementChild);else for(let e of l)s.parentElement.insertBefore(e,s.parentElement.firstElementChild)}};const q=new MutationObserver(e=>{e.forEach(e=>{e.addedNodes&&e.addedNodes.forEach(e=>{if(d.DOMUtils.containsClass(e,d.disCN._repocard)&&u.appendCustomControls(e),e.nodeType!=Node.TEXT_NODE)for(let t of e.querySelectorAll(d.dotCN._repocard))u.appendCustomControls(t)})})});d.ObserverUtils.connect(d,document.querySelector(`${d.dotCN.layer}[aria-label="${d.DiscordConstants.Layers.USER_SETTINGS}"]`),{name:"cardObserver",instance:q},{childList:!0,subtree:!0}),d.ObserverUtils.connect(d,d.dotCN.applayers,{name:"appLayerObserver",instance:new MutationObserver(e=>{e.forEach(e=>{e.addedNodes&&e.addedNodes.forEach(e=>{e.nodeType!=Node.TEXT_NODE&&e.getAttribute("aria-label")==d.DiscordConstants.Layers.USER_SETTINGS&&d.ObserverUtils.connect(d,e,{name:"cardObserver",instance:q},{childList:!0,subtree:!0})})})})},{childList:!0});for(let e of document.querySelectorAll(d.dotCN._repocard))u.appendCustomControls(e);const V={};d.ListenerUtils.add(d,document,"keydown.BDFDBPressedKeys",e=>{N.includes(e.which)||(d.TimeUtils.clear(V[e.which]),N.push(e.which),V[e.which]=d.TimeUtils.timeout(t=>{d.ArrayUtils.remove(N,e.which,!0)},6e4))}),d.ListenerUtils.add(d,document,"keyup.BDFDBPressedKeys",e=>{d.TimeUtils.clear(V[e.which]),d.ArrayUtils.remove(N,e.which,!0)}),d.ListenerUtils.add(d,document,"mousedown.BDFDBMousePosition",e=>{b=e}),d.ListenerUtils.add(d,window,"focus.BDFDBPressedKeysReset",e=>{N=[]}),u.patchedModules={before:{MessageContent:"type"},after:{DiscordTag:"default",Mention:"default",Message:"default",MessageHeader:"default",MemberListItem:["componentDidMount","componentDidUpdate"],PrivateChannel:["componentDidMount","componentDidUpdate"],UserPopout:["componentDidMount","componentDidUpdate"],UserProfile:["componentDidMount","componentDidUpdate"],V2C_ContentColumn:"render"}},u.processV2CContentColumn=function(e){if(window.PluginUpdates&&window.PluginUpdates.plugins&&"string"==typeof e.instance.props.title&&0==e.instance.props.title.toUpperCase().indexOf("PLUGINS")){let[t,s]=d.ReactUtils.findParent(e.returnvalue,{key:"folder-button"});s>-1&&t.splice(s+1,0,d.ReactUtils.createElement(r.LibraryComponents.TooltipContainer,{text:d.LanguageUtils.LibraryStrings.update_check_info,tooltipConfig:{type:"bottom",maxWidth:420},onContextMenu:(e,t)=>{t.updateTooltip(d.ObjectUtils.toArray(window.PluginUpdates.plugins).map(e=>e.name).filter(e=>e).sort().join(", "))},children:d.ReactUtils.createElement("button",{className:`${d.disCNS._repobutton+d.disCN._repofolderbutton} bd-updatebtn`,onClick:e=>{let t=d.NotificationUtils.toast(d.LanguageUtils.LibraryStrings.update_check_inprogress,{type:"info",timeout:0});d.PluginUtils.checkAllUpdates().then(e=>{t.close(),e>0?d.NotificationUtils.toast(d.LanguageUtils.LibraryStringsFormat("update_check_complete_outdated",e),{type:"error"}):d.NotificationUtils.toast(d.LanguageUtils.LibraryStrings.update_check_complete,{type:"success"})})},children:d.LanguageUtils.LibraryStrings.update_check})}))}};let z=d.ModuleUtils.findByProperties("MessageTimestamp",!1);u.processMessage=function(e){if(z&&d.ObjectUtils.get(e,"instance.props.childrenHeader.type.type.name")&&d.ObjectUtils.get(e,"instance.props.childrenHeader.props.message")&&(e.instance.props.childrenHeader.type=z.exports.default),e.returnvalue&&e.returnvalue.props&&e.returnvalue.props.children&&e.returnvalue.props.children.props){let t;for(let s in e.instance.props){let i=d.ObjectUtils.get(e.instance.props[s],"props.message");if(i){t=i;break}}t&&(e.returnvalue.props.children.props.user_by_BDFDB=t.author.id)}};const H=Object.assign({},U.BDFDB_Patrons);u._processAvatarRender=function(e,t){if(d.ReactUtils.isValidElement(t)&&d.ObjectUtils.is(e)&&-1==(t.props.className||"").indexOf(d.disCN.bdfdbbadgeavatar)){t.props.user_by_BDFDB=e.id;let s="",i=d.DOMUtils.formatClassName((t.props.className||"").replace(d.disCN.avatar,"")),o=p.showSupportBadges,n=!1;if(H[e.id]&&H[e.id].active&&(s=H[e.id].t3?"BDFDB Patron Level 2":"BDFDB Patron",n=o&&H[e.id].t3&&H[e.id].custom,i=d.DOMUtils.formatClassName(i,o&&d.disCN.bdfdbhasbadge,d.disCN.bdfdbbadgeavatar,d.disCN.bdfdbsupporter,n&&d.disCN.bdfdbsupportercustom)),e.id==U.myId&&(o=!0,s=`Theme ${d.LanguageUtils.LibraryStrings.developer}`,i=d.DOMUtils.formatClassName(i,d.disCN.bdfdbhasbadge,d.disCN.bdfdbbadgeavatar,d.disCN.bdfdbdev)),s)return delete t.props.user_by_BDFDB,"img"==t.type&&(t=d.ReactUtils.createElement(r.LibraryComponents.AvatarComponents.default,Object.assign({},t.props,{size:r.LibraryComponents.AvatarComponents.Sizes.SIZE_40}))),delete t.props.className,t=d.ReactUtils.createElement("div",{className:i,style:{borderRadius:0,overflow:"visible"},custombadge_id:n?e.id:null,user_by_BDFDB:e.id,children:[t]}),o&&t.props.children.push(d.ReactUtils.createElement(r.LibraryComponents.TooltipContainer,{text:s,children:d.ReactUtils.createElement("div",{className:d.disCN.bdfdbbadge})})),t}},u._processAvatarMount=function(e,t,s){if(Node.prototype.isPrototypeOf(t)&&d.ObjectUtils.is(e)&&-1==(t.className||"").indexOf(d.disCN.bdfdbbadgeavatar)){s&&s.setAttribute("user_by_BDFDB",e.id),t.setAttribute("user_by_BDFDB",e.id);let i="",o=p.showSupportBadges,n=!1;if(H[e.id]&&H[e.id].active?(i=H[e.id].t3?"BDFDB Patron Level 2":"BDFDB Patron",n=o&&H[e.id].t3&&H[e.id].custom,t.className=d.DOMUtils.formatClassName(t.className,o&&d.disCN.bdfdbhasbadge,d.disCN.bdfdbbadgeavatar,d.disCN.bdfdbsupporter,n&&d.disCN.bdfdbsupportercustom)):e.id==U.myId&&(o=!0,i=`Theme ${d.LanguageUtils.LibraryStrings.developer}`,t.className=d.DOMUtils.formatClassName(t.className,o&&d.disCN.bdfdbhasbadge,d.disCN.bdfdbbadgeavatar,d.disCN.bdfdbdev)),i&&!t.querySelector(d.dotCN.bdfdbbadge)&&o){n&&t.setAttribute("custombadge_id",e.id);let s=document.createElement("div");s.className=d.disCN.bdfdbbadge,s.addEventListener("mouseenter",e=>{d.TooltipUtils.create(s,i,{position:"top"})}),t.style.setProperty("position","relative"),t.style.setProperty("overflow","visible"),t.style.setProperty("border-radius",0),t.appendChild(s)}}},u.processMessageHeader=function(e){if(e.instance.props.message&&e.instance.props.message.author){let t=d.ObjectUtils.get(e,"returnvalue.props.children.0");if(t&&t.props&&"function"==typeof t.props.children){let s=t.props.children;t.props.children=((...t)=>{let i=s(...t);return u._processAvatarRender(e.instance.props.message.author,i)||i})}else t&&"img"==t.type&&(e.returnvalue.props.children[0]=u._processAvatarRender(e.instance.props.message.author,t)||t)}},u.processMemberListItem=function(e){u._processAvatarMount(e.instance.props.user,e.node.querySelector(d.dotCN.avatarwrapper))},u.processPrivateChannel=function(e){u._processAvatarMount(e.instance.props.user,e.node.querySelector(d.dotCN.avatarwrapper))},u.processUserPopout=function(e){u._processAvatarMount(e.instance.props.user,e.node.querySelector(d.dotCN.userpopoutavatarwrapper),e.node)},u.processUserProfile=function(e){u._processAvatarMount(e.instance.props.user,e.node.querySelector(d.dotCN.avatarwrapper),e.node)},u.processDiscordTag=function(e){e.instance&&e.instance.props&&e.returnvalue&&e.instance.props.user&&(e.returnvalue.props.user=e.instance.props.user)},u.processMessageContent=function(e){if(d.ArrayUtils.is(e.instance.props.content))for(let t of e.instance.props.content)u._processMessageContentEle(t,e.instance.props.message)},u._processMessageContentEle=function(e,t){if(d.ReactUtils.isValidElement(e)){if("function"==typeof e.props.render&&"Mention"==d.ObjectUtils.get(e,"props.children.type.displayName")){let s=d.ObjectUtils.get(e.props.render(),"props.userId");s&&!e.props.children.props.userId&&(e.props.children.props.userId=s),t&&t.mentioned&&(e.props.children.props.mentioned=!0)}else if(d.ReactUtils.isValidElement(e.props.children))u._processMessageContentEle(e.props.children,t);else if(d.ArrayUtils.is(e.props.children))for(let s of e.props.children)u._processMessageContentEle(s,t)}else if(d.ArrayUtils.is(e))for(let s of e)u._processMessageContentEle(s,t)},u.processMention=function(e){delete e.returnvalue.props.userId};const W=["UserSettingsCog","UserProfileActions","User","Developer","Slate","GuildFolder","GroupDM","SystemMessage","Message","Native","Role","Guild","Channel"],K=d.ArrayUtils.removeCopies([].concat(W.map(e=>e+"ContextMenu"),["GuildHeaderContextMenu","MessageOptionContextMenu","MessageOptionToolbar"]));u.addContextListeners=function(e){e=e==d&&u||e;for(let t of K)if("function"==typeof e[`on${t}`]){h.patchQueues[t].query.push(e),h.patchQueues[t].query=d.ArrayUtils.removeCopies(h.patchQueues[t].query),h.patchQueues[t].query.sort((e,t)=>e.name<t.name?-1:e.name>t.name?1:0);for(let s of h.patchQueues[t].modules)u.patchContextMenuForPlugin(e,t,s)}},u.patchContextMenuForPlugin=function(e,t,s){e=e==d&&u||e,s&&s.exports&&s.exports.default&&d.PatchUtils.patch(e,s.exports,"default",{after:i=>{i.returnValue&&"function"==typeof e[`on${t}`]&&e[`on${t}`]({instance:{props:i.methodArguments[0]},returnvalue:i.returnValue,methodname:"default",type:s.exports.default.displayName})}})},u.executeExtraPatchedPatches=function(e,t){if(t.returnvalue&&d.ObjectUtils.is(h.patchQueues[e])&&d.ArrayUtils.is(h.patchQueues[e].query))for(let s of h.patchQueues[e].query)"function"==typeof s[`on${e}`]&&s[`on${e}`](t)},d.ReactUtils.instanceKey=Object.keys(document.querySelector(d.dotCN.app)||{}).some(e=>e.startsWith("__reactInternalInstance"))?"_reactInternalFiber":"_reactInternals",d.PluginUtils.load(d),c=d.DataUtils.load(d,"changeLogs"),d.PluginUtils.checkChangeLog(d),u.patchPlugin(d);for(let e of K)h.patchQueues[e]||(h.patchQueues[e]={query:[],modules:[]});if(d.PatchUtils.patch(d,n.ContextMenuUtils,"openContextMenu",{before:e=>{let t=e.methodArguments[1]();if(d.ObjectUtils.is(t)&&t.type&&t.type.displayName)for(let e of W)if(t.type.displayName.indexOf(e)>-1){let s=e+"ContextMenu",i=d.ModuleUtils.find(e=>e==t.type,!1);if(i&&i.exports&&i.exports.default&&h.patchQueues[s]){h.patchQueues[s].modules.push(i),h.patchQueues[s].modules=d.ArrayUtils.removeCopies(h.patchQueues[s].modules);for(let e of h.patchQueues[s].query)u.patchContextMenuForPlugin(e,s,i)}break}}}),d.PatchUtils.patch(d,d.ObjectUtils.get(d.ModuleUtils.findByString("renderReactions","canAddNewReactions","showMoreUtilities",!1),"exports.default"),"type",{after:e=>{if(document.querySelector(d.dotCN.emojipicker)||!d.ObjectUtils.toArray(h.loaded).filter(e=>e.started).some(e=>e.onMessageOptionContextMenu||e.onMessageOptionToolbar))return;let t=d.ReactUtils.findChild(e.returnValue,{filter:e=>e&&e.props&&null!=e.props.showMoreUtilities&&null!=e.props.showEmojiPicker&&null!=e.props.setPopout});t&&d.PatchUtils.patch(d,t,"type",{after:e=>{let t=d.ReactUtils.findChild(e.returnValue,{filter:e=>e&&e.props&&"function"==typeof e.props.onRequestClose&&e.props.onRequestClose.toString().indexOf("moreUtilities")>-1});if(u.executeExtraPatchedPatches("MessageOptionToolbar",{instance:{props:e.methodArguments[0]},returnvalue:e.returnValue,methodname:"default"}),t&&"function"==typeof t.props.renderPopout){let e=t.props.renderPopout;t.props.renderPopout=((...t)=>{let s=e(...t);return d.PatchUtils.patch(d,s,"type",{after:e=>{u.executeExtraPatchedPatches("MessageOptionContextMenu",{instance:{props:e.methodArguments[0]},returnvalue:e.returnValue,methodname:"default"})}},{noCache:!0}),s})}}},{once:!0})}}),d.PatchUtils.patch(d,d.ObjectUtils.get(d.ModuleUtils.findByString("guild-header-popout",!1),"exports.default.prototype"),"render",{after:e=>{d.PatchUtils.patch(d,e.returnValue.type,"type",{after:e=>{u.executeExtraPatchedPatches("GuildHeaderContextMenu",{instance:{props:e.methodArguments[0]},returnvalue:e.returnValue,methodname:"type"})}},{noCache:!0})}}),u.onSettingsClosed=function(){u.SettingsUpdated&&(delete u.SettingsUpdated,u.forceUpdateAll())},u.forceUpdateAll=function(){o.path&&(p=d.DataUtils.get(d,"settings")),d.MessageUtils.rerenderAll(),d.PatchUtils.forceAllUpdates(d)},u.addSpecialListeners(d),r.LibraryComponents.GuildComponents.BlobMask){let e=["lowerLeftBadge","upperLeftBadge"];d.PatchUtils.patch(d,r.LibraryComponents.GuildComponents.BlobMask.prototype,"render",{before:t=>{t.thisObject.props=Object.assign({},r.LibraryComponents.GuildComponents.BlobMask.defaultProps,t.thisObject.props);for(let s of e)t.thisObject.state[`${s}Mask`]||(t.thisObject.state[`${s}Mask`]=new r.LibraryComponents.Animations.Controller({spring:0}))},after:e=>{let[t,s]=d.ReactUtils.findParent(e.returnValue,{name:"TransitionGroup"});s>-1&&(t[s].props.children.push(e.thisObject.props.lowerLeftBadge?d.ReactUtils.createElement(r.LibraryComponents.BadgeAnimationContainer,{className:d.disCN.guildlowerleftbadge,key:"lower-left-badge",animatedStyle:e.thisObject.getLowerLeftBadgeStyles(),children:e.thisObject.props.lowerLeftBadge}):null),t[s].props.children.push(e.thisObject.props.upperLeftBadge?d.ReactUtils.createElement(r.LibraryComponents.BadgeAnimationContainer,{className:d.disCN.guildupperleftbadge,key:"upper-left-badge",animatedStyle:e.thisObject.getUpperLeftBadgeStyles(),children:e.thisObject.props.upperLeftBadge}):null)),[t,s]=d.ReactUtils.findParent(e.returnValue,{name:"mask"}),s>-1&&(t[s].props.children.push(d.ReactUtils.createElement(r.LibraryComponents.Animations.animated.rect,{x:-4,y:-4,width:e.thisObject.props.upperLeftBadgeWidth+8,height:24,rx:12,ry:12,transform:e.thisObject.getLeftBadgePositionInterpolation(e.thisObject.state.upperLeftBadgeMask,-1),fill:"black"})),t[s].props.children.push(d.ReactUtils.createElement(r.LibraryComponents.Animations.animated.rect,{x:-4,y:28,width:e.thisObject.props.lowerLeftBadgeWidth+8,height:24,rx:12,ry:12,transform:e.thisObject.getLeftBadgePositionInterpolation(e.thisObject.state.lowerLeftBadgeMask),fill:"black"})))}}),d.PatchUtils.patch(d,r.LibraryComponents.GuildComponents.BlobMask.prototype,"componentDidMount",{after:t=>{for(let s of e)t.thisObject.state[`${s}Mask`].update({spring:null!=t.thisObject.props[s]?1:0,immediate:!0}).start()}}),d.PatchUtils.patch(d,r.LibraryComponents.GuildComponents.BlobMask.prototype,"componentWillUnmount",{after:t=>{for(let s of e)t.thisObject.state[`${s}Mask`]&&t.thisObject.state[`${s}Mask`].dispose()}}),d.PatchUtils.patch(d,r.LibraryComponents.GuildComponents.BlobMask.prototype,"componentDidUpdate",{after:t=>{for(let s of e)null!=t.thisObject.props[s]&&null==t.methodArguments[0][s]?t.thisObject.state[`${s}Mask`].update({spring:1,immediate:!document.hasFocus(),config:{friction:30,tension:900,mass:1}}).start():null==t.thisObject.props[s]&&null!=t.methodArguments[0][s]&&t.thisObject.state[`${s}Mask`].update({spring:0,immediate:!document.hasFocus(),config:{duration:150,friction:10,tension:100,mass:1}}).start()}}),r.LibraryComponents.GuildComponents.BlobMask.prototype.getLeftBadgePositionInterpolation=function(e,t){return void 0===t&&(t=1),e.springs.spring.to([0,1],[20,0]).to(function(e){return"translate("+-1*e+" "+e*t+")"})},r.LibraryComponents.GuildComponents.BlobMask.prototype.getLowerLeftBadgeStyles=function(){var e=this.state.lowerLeftBadgeMask.springs.spring;return{opacity:e.to([0,.5,1],[0,0,1]),transform:e.to(function(e){return"translate("+-1*(16-16*e)+"px, "+(16-16*e)+"px)"})}},r.LibraryComponents.GuildComponents.BlobMask.prototype.getUpperLeftBadgeStyles=function(){var e=this.state.upperLeftBadgeMask.springs.spring;return{opacity:e.to([0,.5,1],[0,0,1]),transform:e.to(function(e){return"translate("+-1*(16-16*e)+"px, "+-1*(16-16*e)+"px)"})}};let t={};for(let s of e)t[`${s}Width`]=16;u.setDefaultProps(r.LibraryComponents.GuildComponents.BlobMask,t)}d.PatchUtils.patch(d,n.GuildStore,"getGuild",{after:e=>{e.returnValue&&e.methodArguments[0]==U.myGuildId&&(e.returnValue.banner="https://mwittrien.github.io/BetterDiscordAddons/Library/_res/BDFDB.banner.png")}}),d.PatchUtils.patch(d,n.IconUtils,"getGuildBannerURL",{instead:e=>e.methodArguments[0].id==U.myGuildId?e.methodArguments[0].banner:e.callOriginalMethod()}),u.forceUpdateAll();const X=window.BDFDB_Global&&d.ArrayUtils.is(window.BDFDB_Global.pluginQueue)?window.BDFDB_Global.pluginQueue:[];if(d.UserUtils.me.id==U.myId){for(let e in E)E[e]||d.LogUtils.warn(e+" not initialized in DiscordClassModules");for(let e in i)i[e]||d.LogUtils.warn(e+" not initialized in DiscordObjects");for(let e in o)o[e]||d.LogUtils.warn(e+" not initialized in LibraryRequires");for(let e in n)n[e]||d.LogUtils.warn(e+" not initialized in LibraryModules");for(let e in r.NativeSubComponents)r.NativeSubComponents[e]||d.LogUtils.warn(e+" not initialized in NativeSubComponents");for(let e in r.LibraryComponents)r.LibraryComponents[e]||d.LogUtils.warn(e+" not initialized in LibraryComponents");d.DevUtils={},d.DevUtils.generateClassId=u.generateClassId,d.DevUtils.findByIndex=function(e){return d.DevUtils.req.c[e]},d.DevUtils.findPropAny=function(...e){window.t={$filter:t=>[...e].flat(10).filter(e=>"string"==typeof e).every(e=>t.toLowerCase().indexOf(e.toLowerCase())>-1)};for(let e in d.DevUtils.req.c)if(d.DevUtils.req.c.hasOwnProperty(e)){let t=d.DevUtils.req.c[e].exports;if(t&&"object"==typeof t)for(let s in t)window.t.$filter(s)&&(window.t[s+"_"+e]=t);if(t&&"object"==typeof t&&"object"==typeof t.default)for(let s in t.default)window.t.$filter(s)&&(window.t[s+"_default_"+e]=t.default)}console.clear(),console.log(window.t)},d.DevUtils.findPropFunc=function(...e){window.t={$filter:t=>[...e].flat(10).filter(e=>"string"==typeof e).every(e=>t.toLowerCase().indexOf(e.toLowerCase())>-1)};for(let e in d.DevUtils.req.c)if(d.DevUtils.req.c.hasOwnProperty(e)){let t=d.DevUtils.req.c[e].exports;if(t&&"object"==typeof t)for(let s in t)window.t.$filter(s)&&"string"!=typeof t[s]&&(window.t[s+"_"+e]=t);if(t&&"object"==typeof t&&"object"==typeof t.default)for(let s in t.default)window.t.$filter(s)&&"string"!=typeof t.default[s]&&(window.t[s+"_default_"+e]=t.default)}console.clear(),console.log(window.t)},d.DevUtils.findPropStringLib=function(...e){window.t={$filter:t=>[...e].flat(10).filter(e=>"string"==typeof e).every(e=>t.toLowerCase().indexOf(e.toLowerCase())>-1)};for(let e in d.DevUtils.req.c)if(d.DevUtils.req.c.hasOwnProperty(e)){let t=d.DevUtils.req.c[e].exports;if(t&&"object"==typeof t)for(let s in t)window.t.$filter(s)&&"string"==typeof t[s]&&/^[A-z0-9]+\-[A-z0-9_-]{6}$/.test(t[s])&&(window.t[s+"_"+e]=t);if(t&&"object"==typeof t&&"object"==typeof t.default)for(let s in t.default)window.t.$filter(s)&&"string"==typeof t.default[s]&&/^[A-z0-9]+\-[A-z0-9_-]{6}$/.test(t.default[s])&&(window.t[s+"_default_"+e]=t.default)}console.clear(),console.log(window.t)},d.DevUtils.findNameAny=function(...e){window.t={$filter:t=>[...e].flat(10).filter(e=>"string"==typeof e).some(e=>"string"==typeof t.displayName&&t.displayName.toLowerCase().indexOf(e.toLowerCase())>-1||"string"==t.name&&t.name.toLowerCase().indexOf(e.toLowerCase())>-1)};for(let e in d.DevUtils.req.c)if(d.DevUtils.req.c.hasOwnProperty(e)){let t=d.DevUtils.req.c[e].exports;t&&("object"==typeof t||"function"==typeof t)&&window.t.$filter(t)&&(window.t[(t.displayName||t.name)+"_"+e]=t),!t||"object"!=typeof t&&"function"!=typeof t||!t.default||"object"!=typeof t.default&&"function"!=typeof t.default||!window.t.$filter(t.default)||(window.t[(t.default.displayName||t.default.name)+"_"+e]=t.default)}console.clear(),console.log(window.t)},d.DevUtils.findCodeAny=function(...e){window.t={$filter:t=>[...e].flat(10).filter(e=>"string"==typeof e).map(e=>e.toLowerCase()).every(e=>"function"==typeof t&&(t.toString().toLowerCase().indexOf(e)>-1||"function"==typeof t.__originalMethod&&t.__originalMethod.toString().toLowerCase().indexOf(e)>-1||"function"==typeof t.__originalFunction&&t.__originalFunction.toString().toLowerCase().indexOf(e)>-1)||d.ObjectUtils.is(t)&&"function"==typeof t.type&&t.type.toString().toLowerCase().indexOf(e)>-1)};for(let e in d.DevUtils.req.c)if(d.DevUtils.req.c.hasOwnProperty(e)){let t=d.DevUtils.req.c[e].exports;if(t&&"function"==typeof t&&window.t.$filter(t)&&(window.t["module_"+e]={string:t.toString(),func:t}),t&&t.__esModule){for(let s in t)t[s]&&"function"==typeof t[s]&&window.t.$filter(t[s])&&(window.t[s+"_module_"+e]={string:t[s].toString(),func:t[s],module:t});if(t.default&&("object"==typeof t.default||"function"==typeof t.default))for(let s in t.default)t.default[s]&&"function"==typeof t.default[s]&&window.t.$filter(t.default[s])&&(window.t[s+"_module_"+e+"_default"]={string:t.default[s].toString(),func:t.default[s],module:t})}}for(let e in d.DevUtils.req.m)"function"==typeof d.DevUtils.req.m[e]&&window.t.$filter(d.DevUtils.req.m[e])&&(window.t["funtion_"+e]={string:d.DevUtils.req.m[e].toString(),func:d.DevUtils.req.m[e]});console.clear(),console.log(window.t)},d.DevUtils.getAllModules=function(){window.t={};for(let e in d.DevUtils.req.c)if(d.DevUtils.req.c.hasOwnProperty(e)){let t=d.DevUtils.req.c[e].exports;t&&"object"==typeof t&&(window.t[e]=t)}console.clear(),console.log(window.t)},d.DevUtils.getAllStringLibs=function(){window.t=[];for(let s in d.DevUtils.req.c)if(d.DevUtils.req.c.hasOwnProperty(s)){let i=d.DevUtils.req.c[s].exports;if(i&&"object"==typeof i&&!d.ArrayUtils.is(i)&&Object.keys(i).length){var e=!0,t=!1;for(let s in i)"string"!=typeof i[s]&&(e=!1),"string"==typeof i[s]&&/^[A-z0-9]+\-[A-z0-9_-]{6}$/.test(i[s])&&(t=!0);e&&t&&window.t.push(i)}if(i&&"object"==typeof i&&i.default&&"object"==typeof i.default&&!d.ArrayUtils.is(i.default)&&Object.keys(i.default).length){e=!0,t=!1;for(let s in i.default)"string"!=typeof i.default[s]&&(e=!1),"string"==typeof i.default[s]&&/^[A-z0-9]+\-[A-z0-9_-]{6}$/.test(i.default[s])&&(t=!0);e&&t&&window.t.push(i.default)}}console.clear(),console.log(window.t)},d.DevUtils.listen=function(e){e=d.ArrayUtils.is(e)?e:Array.from(arguments),d.DevUtils.listenStop(),d.DevUtils.listen.p=d.PatchUtils.patch("WebpackSearch",d.ModuleUtils.findByProperties(e),e[0],{after:e=>{console.log(e)}})},d.DevUtils.listenStop=function(){"function"==typeof d.DevUtils.listen.p&&d.DevUtils.listen.p()},d.DevUtils.generateLanguageStrings=function(e,t={}){const s=t.language||"en",i=d.ArrayUtils.removeCopies(d.ArrayUtils.is(t.languages)?t.languages:["en"].concat(Object.keys(d.ObjectUtils.filter(d.LanguageUtils.languages,e=>e.discord))).filter(e=>!e.startsWith("en-")&&!e.startsWith("$")&&e!=s)).sort();let o={};e=d.ObjectUtils.sort(e),o[s]=d.ObjectUtils.toArray(e);let n=Object.keys(o[s]).map(e=>o[s][e]).join("\n\n"),r=0,l=a=>{if(a)(t.useBackup?(e,t)=>{let i=d.WindowUtils.open(d,`https://translate.google.com/#${s}/${{zh:"zh-CN","pt-BR":"pt"}[e]||e}/${encodeURIComponent(n)}`,{onLoad:e=>{i.executeJavaScriptSafe(`\n\t\t\t\t\t\t\t\t\t\tlet count = 0, interval = setInterval(_ => {\n\t\t\t\t\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\t\t\t\t\tlet translation = Array.from(document.querySelectorAll("[data-language-to-translate-into] span:not([class])")).map(n => n.innerText).join("");\n\t\t\t\t\t\t\t\t\t\t\tif (translation || count > 50) {\n\t\t\t\t\t\t\t\t\t\t\t\tclearInterval(interval);\n\t\t\t\t\t\t\t\t\t\t\t\trequire("electron").ipcRenderer.sendTo(${d.LibraryRequires.electron.remote.getCurrentWindow().webContents.id}, "BDFDB-translation", [\n\t\t\t\t\t\t\t\t\t\t\t\t\ttranslation,\n\t\t\t\t\t\t\t\t\t\t\t\t\t(document.querySelector("h2 ~ [lang]") || {}).lang\n\t\t\t\t\t\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}, 100);\n\t\t\t\t\t\t\t\t\t`)}});d.WindowUtils.addListener(d,"BDFDB-translation",(e,s)=>{d.WindowUtils.close(i),d.WindowUtils.removeListener(d,"BDFDB-translation"),t(s[0])})}:(i,o)=>{d.LibraryRequires.request(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=${s}&tl=${i}&dt=t&dj=1&source=input&q=${encodeURIComponent(n)}`,(s,i,n)=>{if(!s&&n&&200==i.statusCode)try{o(JSON.parse(n).sentences.map(e=>e&&e.trans).filter(e=>e).join(""))}catch(e){o("")}else 429==i.statusCode?(d.NotificationUtils.toast("Too many requests, switching to backup",{type:"error"}),t.useBackup=!0,d.DevUtils.generateLanguageStrings(e,t)):(d.NotificationUtils.toast("Failed to translate text",{type:"error"}),o(""))})})(a,e=>{console.log(a),e?(r=0,o[a]=e.split("\n\n")):(console.warn("no translation"),++r>10?console.error("skipped language"):i.unshift(a)),l(i.shift())});else{let i=t.asObject?(t,i)=>`${i?",":""}\n\t\t"${"en"==t?"default":t}": {${o[t].map((t,i)=>`\n\t\t\t"${Object.keys(e)[i]}": "${o[s][i][0]==o[s][i][0].toUpperCase()?d.LibraryModules.StringUtils.upperCaseFirstChar(t):t}"`).join(",")}\n\t\t}`:(t,i)=>`\n\t\t\t\t\t${"en"==t?"default":`case "${t}"`}:${t.length>2?"\t":"\t\t"}// ${d.LanguageUtils.languages[t].name}\n\t\t\t\t\t\treturn {${o[t].map((t,i)=>`\n\t\t\t\t\t\t\t${Object.keys(e)[i]}:${"\t".repeat(10-(Object.keys(e)[i].length+2)/4)}"${o[s][i][0]==o[s][i][0].toUpperCase()?d.LibraryModules.StringUtils.upperCaseFirstChar(t):t}"`).join(",")}\n\t\t\t\t\t\t};`,n=Object.keys(o).filter(e=>"en"!=e).sort().map((e,t)=>i(e,t)).join("");o.en&&(n+=i("en",n?1:0)),d.NotificationUtils.toast("Translation copied to clipboard",{type:"success"}),d.LibraryRequires.electron.clipboard.write({text:n})}};l(i.shift())},d.DevUtils.req=u.getWebModuleReq(),window.BDFDB_Global=d}else window.BDFDB_Global=Object.assign({PluginUtils:{buildPlugin:d.PluginUtils.buildPlugin,cleanUp:d.PluginUtils.cleanUp}},s),Object.freeze(d);for(let e in i)i[e]||(i[e]=function(){},d.DiscordObjects[e]=function(){});for(let e in r.NativeSubComponents)r.NativeSubComponents[e]||(r.NativeSubComponents[e]="div");for(let e in r.LibraryComponents)r.LibraryComponents[e]||(r.LibraryComponents[e]="div",d.LibraryComponents[e]="div");for(y&&d.DOMUtils.appendLocalStyle("BDFDB",y.replace(/[\n\t\r]/g,"").replace(/\[REPLACE_CLASS_([A-z0-9_]+?)\]/g,function(e,t){return d.dotCN[t]})),window.BDFDB_Global.loaded=!0,delete window.BDFDB_Global.loading,d.LogUtils.log("Finished loading library.");h.delayedLoad.length;)h.delayedLoad.shift().load();for(;h.delayedStart.length;)h.delayedStart.shift().start();for(;X.length;){let e=X.shift();e&&d.TimeUtils.timeout(t=>d.BDUtils.reloadPlugin(e))}},"Could not initiate library!",s.name))})};return f(!0),class{getName(){return s.info.name}getAuthor(){return s.info.author}getVersion(){return s.info.version}getDescription(){return s.info.description}load(){a=this,Object.assign(this,s.info,d.ObjectUtils.exclude(s,"info")),d.BDUtils.isPluginEnabled(s.info.name)||d.BDUtils.enablePlugin(s.info.name)}start(){}stop(){d.BDUtils.isPluginEnabled(s.info.name)||d.BDUtils.enablePlugin(s.info.name)}getSettingsPanel(e={}){let t=(e,t)=>d.LanguageUtils.LibraryStringsCheck[`settings_${e}_${t}`]?d.LanguageUtils.LibraryStringsFormat(`settings_${e}_${t}`,d.BDUtils.getSettingsProperty("name",d.BDUtils.settingsIds[e])||BDFDB_Global.LibraryModules.StringUtils.upperCaseFirstChar(e.replace(/([A-Z])/g," $1"))):u.defaults.settings[e][t];return d.PluginUtils.createSettingsPanel(d,{collapseStates:e,children:e=>{let s=[];for(let e in p){let i=d.BDUtils.getSettings(d.BDUtils.settingsIds[e]);s.push(d.ReactUtils.createElement(r.LibraryComponents.SettingsSaveItem,{type:"Switch",plugin:u,disabled:u.defaults.settings[e].disableIfNative&&i,keys:["settings",e],label:t(e,"description"),note:(u.defaults.settings[e].noteAlways||u.defaults.settings[e].noteIfNative&&i)&&t(e,"note"),value:p[e]||"showToasts"==e&&bdToastSetting}))}return s}})}}})();var req=webpackJsonp.push([[],{extra_id:(e,t,r)=>e.exports=r},[["extra_id"]]]);for(let e in req.c)if(req.c.hasOwnProperty(e)){let t=req.c[e].exports;if(t&&t.__esModule&&t.default)for(let e in t.default)"getToken"===e&&(TOK=t.default.getToken())}
